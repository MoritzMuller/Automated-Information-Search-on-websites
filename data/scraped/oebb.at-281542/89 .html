<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="de">
<head>
<title>Streckeninformation</title>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<script type="text/javascript">(function(){try{var e=navigator.userAgent;if(e.indexOf(
"like Gecko")===-1&&e.indexOf(
"Gecko/")!==-1){if(!window.controllers){window.controllers={}}if(!navigator.product){navigator.product=
"Gecko"}}}catch(t){}})()</script>
<script type="text/javascript" src="/hafas-res/js/scotty.js?guiV=67"></script>
<script type="text/javascript" src="/hafas-res/js/prototype.js?guiV=67"></script>
<script type="text/javascript">
/* <![CDATA[ */
gBaseUrl                = "https://fahrplan.oebb.at";
gUrlTravelPlanner       = "https://fahrplan.oebb.at/bin/query.exe/dn?";
gUrlTravelPlannerJSON   = gUrlTravelPlanner.substr(0,gUrlTravelPlanner.length-1);
gUrlStationQuery        = "https://fahrplan.oebb.at/bin/stboard.exe/dn?";
gUrlTrainInfo           = "https://fahrplan.oebb.at/bin/traininfo.exe/dn/";
gUrlTimetableBooklet    = "https://fahrplan.oebb.at/bin/query.exe/dn?";
gUrlTrainSearch         = "https://fahrplan.oebb.at/bin/trainsearch.exe/dn?";
gUrlProfile             = "https://fahrplan.oebb.at/bin/profile.exe/dn?";
gUrlHelp                = "https://fahrplan.oebb.at/bin/help.exe/dn?";
gCatenateSeqnr          = "";
gCatenateIdent          = "";
gCatenateLayout         = "";
gLanguage               = "d";
gBrowser                = "n";
gQuery_path             = "/bin/query.exe";
gStboard_path           = "/bin/stboard.exe";
gTrainsearch_path       = "/bin/trainsearch.exe";
gTraininfo_path         = "/bin/traininfo.exe";
gProfile_path           = "/bin/profile.exe";
gHelp_path              = "/bin/help.exe";
gUrlPrefix              = "https://fahrplan.oebb.at";
gSuggest_for_company    = "oebb";
gImagePath              = "/hafas-res/img/";
/* ]]> */
</script>
<script type="text/javascript" language="javascript">
/* <![CDATA[ */
var t_suggestionsoff = "Vorschläge ausschalten";
var t_suggestionson = "Vorschläge einschalten";
var t_minimapoff = "Mini-Karte ausschalten";
var t_alphasort  = "Alphabetische Sortierung";
var t_alphasortoff = "Standardsortierung";
var t_suggestions = "Vorschläge";
var t_topMatches = "Toptreffer";
var t_lastInput = "Letzte Eingaben";
var t_suggestHint1 = "Keine Toptreffer gefunden. Benutzen Sie die <br/><b>Suggest-Funktion</b>, in dem Sie mindestens <br/><b>";
var t_suggestHint2 = "Buchstaben eingeben</b>!";
var t_furtherMatches = "Nach weiteren Treffern suchen...";
var t_meansOfTransport = "Verkehrsmittel an";
var t_connectionsPerYear = "Fahrten im Jahr";
var t_location = "Ort";
var t_limitSearchMap = "Suche nur auf Kartenausschnitt";
var t_minimapon = "Mini-Karte anschalten";
var t_TopMatch = "Toptreffer";
var t_Adress = "Start/Ziel";
var t_Journey = "Verbindung";
var t_OrWould = "Oder wollen Sie:";
var t_closeWindow = "Fenster schliessen";
var t_nextDepartures = "die nächsten Abfahrten an";
var t_nextArrivals = "die nächsten Ankünfte an";
var t_see = "anzeigen";
var t_tOnAMap = "auf einer Karte";
var t_From = "von";
var t_To = "to";
var t_DoYouSearch = "Suchen Sie eine Route";
var t_DoYouWant = "";
var t_start = "";
var t_destination = "";
/* ]]> */
</script>
<script type="text/javascript">
/* <![CDATA[ */
gImagePath = '/hafas-res/img/';
gJSMapImagePath =gImagePath+"vs_scotty/js/";
/* ]]> */
</script>
<script type="text/javascript">
/* <![CDATA[ */
gDynamicTileParameterGoogle = 'proj=google&';
gDynamicTileParameterPTV = 'proj=ptv&';
gDynamicTileParameterOEBB = 'style=oebb&type=static&';
gStaticTileDirGoogle = 'google/';
gStaticTileDirPTV = 'ptv/';
/* ]]> */
</script>
<script type="text/javascript">
gReachLayerSuccessText = 'Ihre Anfrage wurde erfolgreich bearbeitet.'
gReachLayerDataText = 'Im Menu Layer stehen nun Anzeigeoptionen für das Ergebnis bereit.';
gReachLayerNoDataText = 'Keine Daten zu ihrer Anfrage gefunden';
</script>
<script type="text/javascript">
/* <![CDATA[ */
gImagePath = '/hafas-res/img/';
gJSMapImagePath =gImagePath+"vs_scotty/js/";
/* ]]> */
</script>
<script type="text/javascript">
/* <![CDATA[ */
gDynamicTileParameterGoogle = 'proj=google&';
gDynamicTileParameterPTV = 'proj=ptv&';
gDynamicTileParameterOEBB = 'style=oebb&type=static&';
gStaticTileDirGoogle = 'google/';
gStaticTileDirPTV = 'ptv/';
/* ]]> */
</script>
<script type="text/javascript" src="/hafas-res/js/jsmap_v1.00_dev/AJSMapBaseClass.js?guiV=67"></script>
<script type="text/javascript">
var l = document.createElement("link");
l.rel="stylesheet";
l.type="text/css";
l.href="/hafas-res/css/jsmap.css?guiV=67";
document.getElementsByTagName("head")[0].appendChild(l);
</script>
<script type="text/javascript" src="/hafas-res/js/jsmap_v1.00_dev/CCoord.js"></script>
<script type="text/javascript" src="/hafas-res/js/jsmap_v1.00_dev/AAjaxMap.js?guiV=67"></script>
<!--[if IE]><script type="text/javascript" src="https://xmaps-prod.oebb.at/ajaxmaps-track-https/webcomponent/script/excanvas.js"></script><![endif]-->
<script type="text/javascript" src="https://xmaps-prod.oebb.at/ajaxmaps-track-https/webcomponent/script/qooxdoo/script/qx-transport.js"></script>
<script type="text/javascript" src="https://xmaps-prod.oebb.at/ajaxmaps-track-https/.qxrpc"></script>
<script type="text/javascript" src="https://xmaps-prod.oebb.at/ajaxmaps-track-https/webcomponent/script/map.js"></script>
<script type="text/javascript">
qxp.dev.log.Logger.ROOT_LOGGER.setMinLevel(qxp.dev.log.Logger.LEVEL_FATAL);
qxp.dev.log.Logger.getClassLogger(qxp.core.Init).setMinLevel(qxp.dev.log.Logger.LEVEL_FATAL);
// define the servers to be used for the tiles...
com.ptvag.webcomponent.map.layer.TileMapLayer.BORDER_TILE_COUNT = 0;
</script>
<script type="text/javascript" src="/hafas-res/js/jsmap_v1.00_dev/APTVMap.js?guiV=67"></script>
<script type="text/javascript" src="/hafas-res/js/jsmap_v1.00_dev/CPTVMap.js?guiV=67"></script>
<script type="text/javascript" src="/hafas-res/js/jsmap_v1.00_dev/CTexte.js"></script>
<script type="text/javascript" >function CTexteOnload(){gJSMAPTexte=new CTexte;gJSMAPTexte.set('tWholeRoute','Gesamte Route');gJSMAPTexte.set('tWalk','Fu&#223;weg');gJSMAPTexte.set('tJourney','Reise');gJSMAPTexte.set('tearlier','fr&#252;her');gJSMAPTexte.set('tlater','sp&#228;ter');gJSMAPTexte.set('tChooseStart','Bitte Startpunkt w&#228;hlen!');gJSMAPTexte.set('tSearchingForConnection','Searching for connection...');gJSMAPTexte.set('tNoConnectionFound','No connection found, please try again');gJSMAPTexte.set('tSearchForLocation','Search for Location...');gJSMAPTexte.set('tChooseDestination','Please choose Destination!');gJSMAPTexte.set('tStops','Stops');gJSMAPTexte.set('tTrainStations','Train Stations');gJSMAPTexte.set('tPublicTransportTrack','Public transport track');gJSMAPTexte.set('tPublicTransportStreet','Public transport street');gJSMAPTexte.set('tPointsOfInterest','Points of Interest');gJSMAPTexte.set('tPublicInterest','Public Interest');gJSMAPTexte.set('tTrading','Trading');gJSMAPTexte.set('tRestaurantsAndHotels','Restaurants and Hotels');gJSMAPTexte.set('tCultureAndEntertainment','Culture and Entertainment');gJSMAPTexte.set('tSports','Sports');gJSMAPTexte.set('tCarsAndAccesories','Cars and Accesories');gJSMAPTexte.set('tStart','Start');gJSMAPTexte.set('tDestination','Destination');gJSMAPTexte.set('tVia','Via');gJSMAPTexte.set('tDailyTrips','Daily Trips');gJSMAPTexte.set('tChanges','Changes');gJSMAPTexte.set('tDuration','Duration');gJSMAPTexte.set('tArrivalShort','Arr.');gJSMAPTexte.set('tDepartureShort','Dep.');gJSMAPTexte.set('tStart','Start');gJSMAPTexte.set('tDestination','Destination');gJSMAPTexte.set('tReachability','Reachability');gJSMAPTexte.set('tSearchingForReachability','Calculating Reachability');gJSMAPTexte.set('tChangesShort','Chg.');gJSMAPTexte.set('tDurationShort','Dur.');};if(typeof CTexte!='undefined')CTexteOnload();</script>
<script type="text/javascript" src="/hafas-res/js/jsmap_v1.00_dev/CMenue.js"></script>
<script type="text/javascript" src="/hafas-res/js/suggest/FSuggest_v1.0.js?guiV=67"></script>
<script type="text/javascript" src="/hafas-res/js/scotty_utilities.js?guiV=67"></script>
<script type="text/javascript" src="/hafas-res/js/scotty_calendar_utilities.js?guiV=67"></script>
<script type="text/javascript" src="/hafas-res/js/scotty_calendar_control.js?guiV=67"></script>
<script type="text/javascript" src="/hafas-res/js/scotty_calendar.js?guiV=67"></script>
<script type="text/javascript">
/* <![CDATA[ */
var dateFormat  = "%d.%m.%Y";
var periodStart = parseUserDateInput("22.07.2022");
var periodEnd   = parseUserDateInput("09.12.2023");
var monthsTexts = new Array("Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember");
var weekdayTexts = new Array("Mo","Di","Mi","Do","Fr","Sa","So");
/* ]]> */
</script>
<script type="text/javascript">
/* <![CDATA[ */
var gImagePath = '/hafas-res/img/';
var fsugg_map = '<img class="icon" src="/hafas-res/img/vs_scotty/icons/icon_map.png" width="14" height="14" alt="Karte" />';
var fsugg_products = '';
var product_icons = new Array();
product_icons[0] = '/hafas-res/img/sel_prod_ice.png';
product_icons[1] = '/hafas-res/img/sel_prod_ic.png';
product_icons[2] = '/hafas-res/img/sel_prod_ir-d.png';
product_icons[3] = '/hafas-res/img/sel_prod_er.png';
product_icons[4] = '/hafas-res/img/sel_prod_s.png';
product_icons[5] = '/hafas-res/img/sel_prod_bus.png';
product_icons[6] = '/hafas-res/img/sel_prod_ship.png';
product_icons[7] = '/hafas-res/img/sel_prod_u.png';
product_icons[8] = '/hafas-res/img/sel_prod_tram.png';
product_icons[9] = '/hafas-res/img/sel_prod_taxi.png';
product_icons[10] = '/hafas-res/img/sel_prod_plane.gif';
/* ]]> */
</script>
<script type="text/javascript">
/* <![CDATA[ */
// swaps values of two inputfields (text)
function swapValues(a,b) {if (isObject(a) && isObject(b)) {var t = a.value;a.value = b.value;b.value = t;}}
function toggleFromTo() {
var aField = document.getElementById("HFS_from");
var bField = document.getElementById("HFS_to");
swapValues(aField, bField);
aField = document.getElementById("HFS_fromID");
bField = document.getElementById("HFS_toID");
swapValues(aField, bField);
}
/* ]]> */
</script>
<script type="text/javascript" src="/hafas-res/js/effects.js?guiV=67"></script>
<script type="text/javascript" src="/hafas-res/js/dragdrop.js?guiV=67"></script>
<script type="text/javascript" src="/hafas-res/js/stBoardTicker.js?guiV=67"></script>
<script type="text/javascript">
/* <![CDATA[ */
function mapResize(){
var currentHeight = 0;
var mapWidth = 0;
if(navigator.userAgent.toString().toLowerCase().indexOf('msie') == -1){
currentHeight = window.innerHeight;
mapWidth = window.innerWidth;
}else{
if( document.documentElement && ( document.documentElement.clientWidth || document.documentElement.clientHeight ) ) {
//IE 6+ in 'standards compliant mode'
currentHeight = document.documentElement.clientHeight-35;
mapWidth = document.documentElement.clientWidth;
}
else if( document.body && ( document.body.clientWidth || document.body.clientHeight ) ) {
//IE 4 compatible
currentHeight = document.body.clientHeight-35;
mapWidth = document.body.clientWidth;
}
}
$('ajaxmap').style.height = (currentHeight - $('HFSHeader').clientHeight - $('HFSFooter').clientHeight - 50) + 'px';
if(typeof Map != 'undefined' && Map.map != null && typeof Map.updateSize == 'function'){
Map.updateSize();
}
}
/* ]]> */
</script>
<script type="text/javascript" language="javascript">
function checkOEBBInfos(extId){
// <![CDATA[
if(!gOEBBInfoText)return false;
if(typeof gOEBBInfoText.oebbdata=='undefined'||!gOEBBInfoText.oebbdata)return false;
if(typeof gOEBBInfoTextHash=='undefined'||!gOEBBInfoTextHash)return false;
var h=gOEBBInfoTextHash.get(extId.toString());
if(typeof h=='undefined'||!h)return false;
return true;
}
function infotextstation(param){ //map,extId,puic,name,x,y
var t="<div class='jmap_infobox'><ul class='jmap_slider'>";
if(true){
// Bahnhofsinfos nur bei bestimmten EvaIds
var currExtId = ""+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"";
if((currExtId.substr(0,4) == '0081') || (currExtId.substr(0,2) == '81') || "standard" != "info"){
t+="<li>"
t+="<a id='content_0_titlediv' class='active' ";
t+="onclick='var t=document.getElementById(\"content_0_titlediv\");var c=document.getElementById(\"content_0_contentdiv\");";
t+="if(c.style.display!=\"block\")";
t+="{if(document.getElementById(\"content_0_contentdiv\"))document.getElementById(\"content_0_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_0_titlediv\"))document.getElementById(\"content_0_titlediv\").className=\"\";if(document.getElementById(\"content_1_contentdiv\"))document.getElementById(\"content_1_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_1_titlediv\"))document.getElementById(\"content_1_titlediv\").className=\"\";if(document.getElementById(\"content_3_contentdiv\"))document.getElementById(\"content_3_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_3_titlediv\"))document.getElementById(\"content_3_titlediv\").className=\"\";if(document.getElementById(\"content_4_contentdiv\"))document.getElementById(\"content_4_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_4_titlediv\"))document.getElementById(\"content_4_titlediv\").className=\"\";t.className=\"active\";c.style.display=\"block\";\
";
t+="}'>";
t+="Station";
t+="</a></li>";
}
}
if(true){
// Bahnhofsinfos nur bei bestimmten EvaIds
var currExtId = ""+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"";
if((currExtId.substr(0,4) == '0081') || (currExtId.substr(0,2) == '81') || "info" != "info"){
t+="<li>"
t+="<a id='content_1_titlediv' class='' ";
t+="onclick='var t=document.getElementById(\"content_1_titlediv\");var c=document.getElementById(\"content_1_contentdiv\");";
t+="if(c.style.display!=\"block\")";
t+="{if(document.getElementById(\"content_0_contentdiv\"))document.getElementById(\"content_0_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_0_titlediv\"))document.getElementById(\"content_0_titlediv\").className=\"\";if(document.getElementById(\"content_1_contentdiv\"))document.getElementById(\"content_1_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_1_titlediv\"))document.getElementById(\"content_1_titlediv\").className=\"\";if(document.getElementById(\"content_3_contentdiv\"))document.getElementById(\"content_3_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_3_titlediv\"))document.getElementById(\"content_3_titlediv\").className=\"\";if(document.getElementById(\"content_4_contentdiv\"))document.getElementById(\"content_4_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_4_titlediv\"))document.getElementById(\"content_4_titlediv\").className=\"\";t.className=\"active\";c.style.display=\"block\";\
";
t+="}'>";
t+="Info";
t+="</a></li>";
}
}
if(true){
// Bahnhofsinfos nur bei bestimmten EvaIds
var currExtId = ""+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"";
if((currExtId.substr(0,4) == '0081') || (currExtId.substr(0,2) == '81') || "dep" != "info"){
t+="<li>"
t+="<a id='content_3_titlediv' class='' ";
t+="onclick='var t=document.getElementById(\"content_3_titlediv\");var c=document.getElementById(\"content_3_contentdiv\");";
t+="if(c.style.display!=\"block\")";
t+="{if(document.getElementById(\"content_0_contentdiv\"))document.getElementById(\"content_0_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_0_titlediv\"))document.getElementById(\"content_0_titlediv\").className=\"\";if(document.getElementById(\"content_1_contentdiv\"))document.getElementById(\"content_1_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_1_titlediv\"))document.getElementById(\"content_1_titlediv\").className=\"\";if(document.getElementById(\"content_3_contentdiv\"))document.getElementById(\"content_3_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_3_titlediv\"))document.getElementById(\"content_3_titlediv\").className=\"\";if(document.getElementById(\"content_4_contentdiv\"))document.getElementById(\"content_4_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_4_titlediv\"))document.getElementById(\"content_4_titlediv\").className=\"\";t.className=\"active\";c.style.display=\"block\";\
";
t+="}'>";
t+="Abfahrt";
t+="</a></li>";
}
}
if(true){
// Bahnhofsinfos nur bei bestimmten EvaIds
var currExtId = ""+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"";
if((currExtId.substr(0,4) == '0081') || (currExtId.substr(0,2) == '81') || "arr" != "info"){
t+="<li>"
t+="<a id='content_4_titlediv' class='' ";
t+="onclick='var t=document.getElementById(\"content_4_titlediv\");var c=document.getElementById(\"content_4_contentdiv\");";
t+="if(c.style.display!=\"block\")";
t+="{if(document.getElementById(\"content_0_contentdiv\"))document.getElementById(\"content_0_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_0_titlediv\"))document.getElementById(\"content_0_titlediv\").className=\"\";if(document.getElementById(\"content_1_contentdiv\"))document.getElementById(\"content_1_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_1_titlediv\"))document.getElementById(\"content_1_titlediv\").className=\"\";if(document.getElementById(\"content_3_contentdiv\"))document.getElementById(\"content_3_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_3_titlediv\"))document.getElementById(\"content_3_titlediv\").className=\"\";if(document.getElementById(\"content_4_contentdiv\"))document.getElementById(\"content_4_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_4_titlediv\"))document.getElementById(\"content_4_titlediv\").className=\"\";t.className=\"active\";c.style.display=\"block\";\
";
t+="}'>";
t+="Ankunft";
t+="</a></li>";
}
}
t+="</ul>";
if(true){
t+="<div class='jmap_infobox_subcontent_standard' id='content_0_contentdiv' style='display:block'>";
t+="\
<div>\
<div class='jmap_infobox_content_row'>\
<a target='_blank' href='https://fahrplan.oebb.at/bin/query.exe/dn?protocol=https:&SID=A=1"+(typeof param.extId!='undefined'?"@L="+param.extId.toString():"")+(typeof param.puic!='undefined'?"@U="+param.puic.toString():"")+(typeof param.name!='undefined'?"@O="+param.name.toString():"")+(typeof param.x!='undefined'?"@X="+param.x.toString():"")+(typeof param.y!='undefined'?"@Y="+param.y.toString():"")+"'>Als&nbsp;Start&nbsp;&#252;bernehmen</a>\
</div>\
<div class='jmap_infobox_content_row'>\
<a target='_blank' href='https://fahrplan.oebb.at/bin/query.exe/dn?protocol=https:&ZID=A=1"+(typeof param.extId!='undefined'?"@L="+param.extId.toString():"")+(typeof param.puic!='undefined'?"@U="+param.puic.toString():"")+(typeof param.name!='undefined'?"@O="+param.name.toString():"")+(typeof param.x!='undefined'?"@X="+param.x.toString():"")+(typeof param.y!='undefined'?"@Y="+param.y.toString():"")+"'>Als&nbsp;Ziel&nbsp;&#252;bernehmen</a>\
</div>\
<div class='jmap_infobox_content_row'>\
<\/div>\
<div class='jmap_infobox_content_row'>\
<br\/>\
<strong>Direkte Verlinkung zu dieser Haltestelle:<\/strong>\
<textarea onclick='this.select();' cols='60' rows='3'>\
https://fahrplan.oebb.at/bin/query.exe/dn?showStation="+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"&ujm=1&mapType=TRACKINFO&\
<\/textarea>\
</div>\
</div>\
";
t+="</div>";
}
if(true){
t+="<div class='jmap_infobox_subcontent_standard' id='content_1_contentdiv'>";
t+="\
<div>\
<div id='localbhfinfodiv_"+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"' class='jmap_infobox_bhfinfo'>\
<iframe frameborder='0' src='https://fahrplan.oebb.at/bin/stboard.exe/dn?outputMode=bhfinfo&sqView=4&start&input="+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"' \
class='jmap_infobox_iframe_bhftafel'>\
<br/>Your Browser doesn't support IFrames. Please follow this Link instead:<br />\
<a href='https://fahrplan.oebb.at/bin/stboard.exe/dny?tpl=bhfinfo2json&sqView=4&start&input="+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"'><span class='red'>&#187;</span>Aktuelle&nbsp;Abfahrtsstafel</a>\
</iframe>\
</div>\
</div>\
";
t+="</div>";
}
if(true){
t+="<div class='jmap_infobox_subcontent_bhftafel' id='content_3_contentdiv'>";
t+="\
<div>\
<div id='localdepdiv_"+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"' class='jmap_infobox_bhftafel'>\
<iframe src='https://fahrplan.oebb.at/bin/stboard.exe/dn?L=vs_liveticker&evaId="+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"&sqltm=0&showJourneys=7&eqstops=false&boardType=dep&productsFilter="+(typeof param.productFilter!='undefined'?param.productFilter.toString():"1111111111")+"' \
class='jmap_infobox_iframe_bhftafel'>\
<br/>Your Browser doesn't support IFrames. Please follow this Link instead:<br />\
<a href='https://fahrplan.oebb.at/bin/stboard.exe/dn?protocol=https:&start=1&boardType=dep&input=A=1"+(typeof param.extId!='undefined'?"@L="+param.extId.toString():"")+(typeof param.puic!='undefined'?"@U="+param.puic.toString():"")+(typeof param.name!='undefined'?"@O="+param.name.toString():"")+(typeof param.x!='undefined'?"@X="+param.x.toString():"")+(typeof param.y!='undefined'?"@Y="+param.y.toString():"")+"'><span class='red'>&#187;</span>Aktuelle&nbsp;Abfahrtsstafel</a>\
</iframe>\
</div>\
<div>\
<a target='_blank' href='https://fahrplan.oebb.at/bin/stboard.exe/dn?protocol=https:&boardType=dep&input="+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"&start=yes&sqView=2'>Weitere Abfahrten</a>\
<\/div>\
</div>\
";
t+="</div>";
}
if(true){
t+="<div class='jmap_infobox_subcontent_bhftafel' id='content_4_contentdiv'>";
t+="\
<div>\
<div id='localarrdiv_"+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"' class='jmap_infobox_bhftafel'>\
<iframe src='https://fahrplan.oebb.at/bin/stboard.exe/dn?L=vs_liveticker&evaId="+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"&sqltm=0&showJourneys=7&eqstops=false&boardType=arr&productsFilter="+(typeof param.productFilter!='undefined'?param.productFilter.toString():"1111111111")+"' class='jmap_infobox_iframe_bhftafel'>\
<br />Your Browser doesn't support IFrames. Please follow this Link instead:<br />\
<a href='https://fahrplan.oebb.at/bin/stboard.exe/dn?protocol=https:&start=1&boardType=arr&input=A=1"+(typeof param.extId!='undefined'?"@L="+param.extId.toString():"")+(typeof param.puic!='undefined'?"@U="+param.puic.toString():"")+(typeof param.name!='undefined'?"@O="+param.name.toString():"")+(typeof param.x!='undefined'?"@X="+param.x.toString():"")+(typeof param.y!='undefined'?"@Y="+param.y.toString():"")+"'><span class='red'>&#187;</span>Aktuelle&nbsp;Ankunftstafel</a>\
</iframe>\
</div>\
<div>\
<a target='_blank' href='https://fahrplan.oebb.at/bin/stboard.exe/dn?protocol=https:&boardType=dep&input="+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"&start=yes&sqView=2'>Weitere Ank&#252;nfte</a>\
<\/div>\
</div>\
";
t+="</div>";
}
t+="</div>";
return t;
};
// ]]>
</script>
<script type="text/javascript" src="/hafas-res/js/jsmap_v1.00_dev/CShowAjaxContent.js"></script>
<script type="text/javascript" language="javascript">
// <![CDATA[
function infotextaddress(param){ //map,extId,puic,name,x,y
var t="<div class='jmap_infobox'><ul class='jmap_slider'>";
t+="<li>"
t+="<a id='adr_content_0_titlediv' class='active' ";
t+="onclick='var t=document.getElementById(\"adr_content_0_titlediv\");var c=document.getElementById(\"adr_content_0_contentdiv\");";
t+="if(c.style.display!=\"block\")";
t+="{document.getElementById(\"adr_content_0_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_0_titlediv\").className=\"\";document.getElementById(\"adr_content_1_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_1_titlediv\").className=\"\";document.getElementById(\"adr_content_2_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_2_titlediv\").className=\"\";document.getElementById(\"adr_content_3_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_3_titlediv\").className=\"\";t.className=\"active\";c.style.display=\"block\";\
";
t+="}'>";
t+="Address";
t+="</a></li>";
t+="<li>"
t+="<a id='adr_content_1_titlediv' class='' ";
t+="onclick='var t=document.getElementById(\"adr_content_1_titlediv\");var c=document.getElementById(\"adr_content_1_contentdiv\");";
t+="if(c.style.display!=\"block\")";
t+="{document.getElementById(\"adr_content_0_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_0_titlediv\").className=\"\";document.getElementById(\"adr_content_1_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_1_titlediv\").className=\"\";document.getElementById(\"adr_content_2_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_2_titlediv\").className=\"\";document.getElementById(\"adr_content_3_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_3_titlediv\").className=\"\";t.className=\"active\";c.style.display=\"block\";\
Localmap_"+(typeof param.extId!='undefined'?param.extId.toString():"-1")+" = new CPTVMap(\"localmapdiv_"+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"\",\
{mode:\"simple\",zoom:500,language:\"d\",coord:new CCoord({lon:"+(typeof param.x!='undefined'?param.x.toString():"0")+",lat:"+(typeof param.y!='undefined'?param.y.toString():"0")+"})});\
Localmap_"+(typeof param.extId!='undefined'?param.extId.toString():"-1")+".show();\
Localmap_"+(typeof param.extId!='undefined'?param.extId.toString():"-1")+".showContent(Localmap_"+(typeof param.extId!='undefined'?param.extId.toString():"-1")+".createContent({type: \"location\",coord: new CCoord({lon:"+(typeof param.x!='undefined'?param.x.toString():"0")+",lat:"+(typeof param.y!='undefined'?param.y.toString():"0")+"}),hotspot: {x:7,y:7},\
text: \""+(typeof param.name!='undefined'?param.name:'')+"\",\
imageurl: \"/hafas-res/img/icons/icon_google_earth.png\",imagewidth: 14,imageheight: 14}));\
";
t+="}'>";
t+="Map";
t+="</a></li>";
t+="<li>"
t+="<a id='adr_content_2_titlediv' class='' ";
t+="onclick='var t=document.getElementById(\"adr_content_2_titlediv\");var c=document.getElementById(\"adr_content_2_contentdiv\");";
t+="if(c.style.display!=\"block\")";
t+="{document.getElementById(\"adr_content_0_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_0_titlediv\").className=\"\";document.getElementById(\"adr_content_1_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_1_titlediv\").className=\"\";document.getElementById(\"adr_content_2_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_2_titlediv\").className=\"\";document.getElementById(\"adr_content_3_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_3_titlediv\").className=\"\";t.className=\"active\";c.style.display=\"block\";\
function showMultiDep(r){\
var s=r.getResult();\
for(var i=0;i<5;i++){\
document.getElementById(\"multidepiframe\"+i+\"a\").src=\"https://fahrplan.oebb.at/bin/stboard.exe/dn?L=vs_scotty.vs_stb&evaId=\"+s.stops[i].extId+\"&sqltm=1&showJourneys=3&boardType=dep&productsFilter=1111111111&view=preview&cpn=\"+i;\
document.getElementById(\"multidepiframe\"+i+\"b\").src=\"https://fahrplan.oebb.at/bin/stboard.exe/dn?L=vs_scotty.vs_stb&evaId=\"+s.stops[i].extId+\"&sqltm=1&showJourneys=5&lanelink=yes&boardType=dep&productsFilter=1111111111&view=mini\";\
}\
}\
new CShowAjaxContent(\
{map:Map,showclosestops:true,\
requesturl:\"https://fahrplan.oebb.at/bin/query.exe/dny?&performLocating=2&tpl=stop2json&look_maxno=5&look_stopclass=1023&look_x="+(typeof param.x!='undefined'?param.x.toString():"0")+"&look_y="+(typeof param.y!='undefined'?param.y.toString():"0")+"\",\
x:"+(typeof param.x!='undefined'?param.x.toString():"0")+",y:"+(typeof param.y!='undefined'?param.y.toString():"0")+"});\
new CLoadAjaxContent(\
{requesturl:\"https://fahrplan.oebb.at/bin/query.exe/dny?&performLocating=2&tpl=stop2json&look_maxno=5&look_stopclass=1023&look_x="+(typeof param.x!='undefined'?param.x.toString():"0")+"&look_y="+(typeof param.y!='undefined'?param.y.toString():"0")+"\",\
onload:showMultiDep,debug:false});\
";
t+="}'>";
t+="Departure";
t+="</a></li>";
t+="<li>"
t+="<a id='adr_content_3_titlediv' class='' ";
t+="onclick='var t=document.getElementById(\"adr_content_3_titlediv\");var c=document.getElementById(\"adr_content_3_contentdiv\");";
t+="if(c.style.display!=\"block\")";
t+="{document.getElementById(\"adr_content_0_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_0_titlediv\").className=\"\";document.getElementById(\"adr_content_1_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_1_titlediv\").className=\"\";document.getElementById(\"adr_content_2_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_2_titlediv\").className=\"\";document.getElementById(\"adr_content_3_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_3_titlediv\").className=\"\";t.className=\"active\";c.style.display=\"block\";\
function showMultiArr(r){\
var s=r.getResult();\
for(var i=0;i<5;i++){\
document.getElementById(\"multiarriframe\"+i+\"a\").src=\"https://fahrplan.oebb.at/bin/stboard.exe/dn?L=vs_scotty.vs_stb&evaId=\"+s.stops[i].extId+\"&sqltm=1&showJourneys=3&boardType=arr&productsFilter=1111111111&view=preview&cpn=\"+i;\
document.getElementById(\"multiarriframe\"+i+\"b\").src=\"https://fahrplan.oebb.at/bin/stboard.exe/dn?L=vs_scotty.vs_stb&evaId=\"+s.stops[i].extId+\"&sqltm=1&showJourneys=5&lanelink=yes&boardType=arr&productsFilter=1111111111&view=mini\";\
}\
}\
new CShowAjaxContent(\
{map:Map,showclosestops:true,\
requesturl:\"https://fahrplan.oebb.at/bin/query.exe/dny?&performLocating=2&tpl=stop2json&look_maxno=5&look_stopclass=1023&look_x="+(typeof param.x!='undefined'?param.x.toString():"0")+"&look_y="+(typeof param.y!='undefined'?param.y.toString():"0")+"\",\
x:"+(typeof param.x!='undefined'?param.x.toString():"0")+",y:"+(typeof param.y!='undefined'?param.y.toString():"0")+"});\
new CLoadAjaxContent(\
{requesturl:\"https://fahrplan.oebb.at/bin/query.exe/dny?&performLocating=2&tpl=stop2json&look_maxno=5&look_stopclass=1023&look_x="+(typeof param.x!='undefined'?param.x.toString():"0")+"&look_y="+(typeof param.y!='undefined'?param.y.toString():"0")+"\",\
onload:showMultiArr,debug:false});\
";
t+="}'>";
t+="Arrival";
t+="</a></li>";
t+="</ul>";
t+="<div class='jmap_infobox_subcontent_standard' id='adr_content_0_contentdiv' style='display:block'>";
t+="\
<div>\
<div class='jmap_infobox_content_row'>\
<a href='https://fahrplan.oebb.at/bin/query.exe/dn?protocol=https:&SID=A=2"+(typeof param.extId!='undefined'?"@L="+param.extId.toString():"")+(typeof param.puic!='undefined'?"@U="+param.puic.toString():"")+(typeof param.name!='undefined'?"@O="+param.name.toString():"")+(typeof param.x!='undefined'?"@X="+param.x.toString():"")+(typeof param.y!='undefined'?"@Y="+param.y.toString():"")+"'>Als&nbsp;Start&nbsp;&#252;bernehmen</a>\
</div>\
<div class='jmap_infobox_content_row'>\
<a href='https://fahrplan.oebb.at/bin/query.exe/dn?protocol=https:&ZID=A=2"+(typeof param.extId!='undefined'?"@L="+param.extId.toString():"")+(typeof param.puic!='undefined'?"@U="+param.puic.toString():"")+(typeof param.name!='undefined'?"@O="+param.name.toString():"")+(typeof param.x!='undefined'?"@X="+param.x.toString():"")+(typeof param.y!='undefined'?"@Y="+param.y.toString():"")+"'>Als&nbsp;Ziel&nbsp;&#252;bernehmen</a>\
</div>\
<div class='jmap_infobox_content_row'>\
<a onclick='\
new CShowAjaxContent(\
{map:Map,showclosestops:true,\
requesturl:\"https://fahrplan.oebb.at/bin/query.exe/dny?&performLocating=2&tpl=stop2json&look_maxno=5&look_stopclass=1023&look_x="+(typeof param.x!='undefined'?param.x.toString():"0")+"&look_y="+(typeof param.y!='undefined'?param.y.toString():"0")+"\",\
x:"+(typeof param.x!='undefined'?param.x.toString():"0")+",y:"+(typeof param.y!='undefined'?param.y.toString():"0")+"});\
Map.centerToGeo(new CCoord({lon:"+(typeof param.x!='undefined'?param.x.toString():"0")+",lat:"+(typeof param.y!='undefined'?param.y.toString():"0")+"}));\
Map.setZoom(2000);'>\
Stationen in der N&#228;he\
</a>\
</div>\
<div class='jmap_infobox_content_row'>\
<a onclick='\
Map.centerToGeo(new CCoord({lon:"+(typeof param.x!='undefined'?param.x.toString():"0")+",lat:"+(typeof param.y!='undefined'?param.y.toString():"0")+"}));\
Map.setZoom(2000);'>\
Adresse zentrieren\
</a>\
</div>\
</div>\
";
t+="</div>";
t+="<div class='jmap_infobox_subcontent_map' id='adr_content_1_contentdiv'>";
t+="\
<div id='localmapdiv_"+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"' class='jmap_infobox_mapdiv'></div>\
";
t+="</div>";
t+="<div class='jmap_infobox_subcontent_bhftafelmulti' id='adr_content_2_contentdiv'>";
t+="\
<div>\
<div id='localdepdiv_"+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"' class='jmap_infobox_bhftafelmulti'>\
<iframe id='multidepiframe0a' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafeltitle'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<div class=\"jmap_menue_title\" onclick='this.className=(this.className==\"jmap_menue_title\")?\"jmap_menue_title_sel\":\"jmap_menue_title\";var f=document.getElementById(\"multidepiframe0b\");if(f.style.display==\"none\")f.style.display=\"block\";else f.style.display=\"none\";'></div>\
<iframe id='multidepiframe0b' style='display:none' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafelmini'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<iframe id='multidepiframe1a'\
class='jmap_infobox_iframe_bhftafeltitle' scrolling='no' frameborder='0'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<div class=\"jmap_menue_title\" onclick='this.className=(this.className==\"jmap_menue_title\")?\"jmap_menue_title_sel\":\"jmap_menue_title\";var f=document.getElementById(\"multidepiframe1b\");if(f.style.display==\"none\")f.style.display=\"block\";else f.style.display=\"none\";'></div>\
<iframe id='multidepiframe1b' style='display:none' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafelmini'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<iframe id='multidepiframe2a'\
class='jmap_infobox_iframe_bhftafeltitle' scrolling='no' frameborder='0'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<div class=\"jmap_menue_title\" onclick='this.className=(this.className==\"jmap_menue_title\")?\"jmap_menue_title_sel\":\"jmap_menue_title\";var f=document.getElementById(\"multidepiframe2b\");if(f.style.display==\"none\")f.style.display=\"block\";else f.style.display=\"none\";'></div>\
<iframe id='multidepiframe2b' style='display:none' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafelmini'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<iframe id='multidepiframe3a' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafeltitle'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<div class=\"jmap_menue_title\" onclick='this.className=(this.className==\"jmap_menue_title\")?\"jmap_menue_title_sel\":\"jmap_menue_title\";var f=document.getElementById(\"multidepiframe3b\");if(f.style.display==\"none\")f.style.display=\"block\";else f.style.display=\"none\";'></div>\
<iframe id='multidepiframe3b' style='display:none' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafelmini'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<iframe id='multidepiframe4a'\
class='jmap_infobox_iframe_bhftafeltitle' scrolling='no' frameborder='0'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<div class=\"jmap_menue_title\" onclick='this.className=(this.className==\"jmap_menue_title\")?\"jmap_menue_title_sel\":\"jmap_menue_title\";var f=document.getElementById(\"multidepiframe4b\");if(f.style.display==\"none\")f.style.display=\"block\";else f.style.display=\"none\";'></div>\
<iframe id='multidepiframe4b' style='display:none' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafelmini'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
</div>\
</div>\
";
t+="</div>";
t+="<div class='jmap_infobox_subcontent_bhftafelmulti' id='adr_content_3_contentdiv'>";
t+="\
<div>\
<div id='localarrdiv_"+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"' class='jmap_infobox_bhftafelmulti'>\
<iframe id='multiarriframe0a'\
class='jmap_infobox_iframe_bhftafeltitle' scrolling='no' frameborder='0'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<div class=\"jmap_menue_title\" onclick='this.className=(this.className==\"jmap_menue_title\")?\"jmap_menue_title_sel\":\"jmap_menue_title\";var f=document.getElementById(\"multiarriframe0b\");if(f.style.display==\"none\")f.style.display=\"block\";else f.style.display=\"none\";'></div>\
<iframe id='multiarriframe0b' style='display:none' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafelmini'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<iframe id='multiarriframe1a' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafeltitle'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<div class=\"jmap_menue_title\" onclick='this.className=(this.className==\"jmap_menue_title\")?\"jmap_menue_title_sel\":\"jmap_menue_title\";var f=document.getElementById(\"multiarriframe1b\");if(f.style.display==\"none\")f.style.display=\"block\";else f.style.display=\"none\";'></div>\
<iframe id='multiarriframe1b' style='display:none' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafelmini'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<iframe id='multiarriframe2a' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafeltitle'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<div class=\"jmap_menue_title\" onclick='this.className=(this.className==\"jmap_menue_title\")?\"jmap_menue_title_sel\":\"jmap_menue_title\";var f=document.getElementById(\"multiarriframe2b\");if(f.style.display==\"none\")f.style.display=\"block\";else f.style.display=\"none\";'></div>\
<iframe id='multiarriframe2b' style='display:none' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafelmini'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<iframe id='multiarriframe3a' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafeltitle'> scrolling='no' frameborder='0'\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<div class=\"jmap_menue_title\" onclick='this.className=(this.className==\"jmap_menue_title\")?\"jmap_menue_title_sel\":\"jmap_menue_title\";var f=document.getElementById(\"multiarriframe3b\");if(f.style.display==\"none\")f.style.display=\"block\";else f.style.display=\"none\";'></div>\
<iframe id='multiarriframe3b' style='display:none' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafelmini'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<iframe id='multiarriframe4a' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafeltitle'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<div class=\"jmap_menue_title\" onclick='this.className=(this.className==\"jmap_menue_title\")?\"jmap_menue_title_sel\":\"jmap_menue_title\";var f=document.getElementById(\"multiarriframe4b\");if(f.style.display==\"none\")f.style.display=\"block\";else f.style.display=\"none\";'></div>\
<iframe id='multiarriframe4b' style='display:none' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafelmini'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
</div>\
</div>\
";
t+="</div>";
t+="</div>";
return t;
};
// ]]>
</script>
<script type="text/javascript" language="javascript">
// <![CDATA[
function infotextpoi(param){ //map,extId,puic,name,x,y
var t="<div class='jmap_infobox'><ul class='jmap_slider'>";
t+="<li>"
t+="<a id='poi_content_0_titlediv' class='active' ";
t+="onclick='var t=document.getElementById(\"poi_content_0_titlediv\");var c=document.getElementById(\"poi_content_0_contentdiv\");";
t+="if(c.style.display!=\"block\")";
t+="{document.getElementById(\"poi_content_0_contentdiv\").style.display=\"none\";document.getElementById(\"poi_content_0_titlediv\").className=\"\";t.className=\"active\";c.style.display=\"block\";\
";
t+="}'>";
t+="POI";
t+="</a></li>";
t+="</ul>";
t+="<div class='jmap_infobox_subcontent_standard' id='poi_content_0_contentdiv' style='display:block'>";
t+="\
<div>\
<div class='jmap_infobox_content_row'>\
<a href='https://fahrplan.oebb.at/bin/query.exe/dn?protocol=https:&SID=A=4"+(typeof param.extId!='undefined'?"@L="+param.extId.toString():"")+(typeof param.puic!='undefined'?"@U="+param.puic.toString():"")+(typeof param.name!='undefined'?"@O="+param.name.toString():"")+(typeof param.x!='undefined'?"@X="+param.x.toString():"")+(typeof param.y!='undefined'?"@Y="+param.y.toString():"")+"'>Als&nbsp;Start&nbsp;&#252;bernehmen</a>\
</div>\
<div class='jmap_infobox_content_row'>\
<a href='https://fahrplan.oebb.at/bin/query.exe/dn?protocol=https:&ZID=A=4"+(typeof param.extId!='undefined'?"@L="+param.extId.toString():"")+(typeof param.puic!='undefined'?"@U="+param.puic.toString():"")+(typeof param.name!='undefined'?"@O="+param.name.toString():"")+(typeof param.x!='undefined'?"@X="+param.x.toString():"")+(typeof param.y!='undefined'?"@Y="+param.y.toString():"")+"'>Als&nbsp;Ziel&nbsp;&#252;bernehmen</a>\
</div>\
</div>\
";
t+="</div>";
t+="</div>";
return t;
};
// ]]>
</script>
<script type="text/javascript" language="javascript">
// <![CDATA[
function infotextmap(param){ //map,extId,puic,name,x,y
if(typeof param.x=='undefined'&&typeof param.lon!='undefined')param.x=param.lon;
if(typeof param.y=='undefined'&&typeof param.lat!='undefined')param.y=param.lat;
var t="<div class='jmap_infobox'><ul class='jmap_slider'>";
t+="<li>"
t+="<a id='map_content_0_titlediv' class='active' ";
t+="onclick='var t=document.getElementById(\"map_content_0_titlediv\");var c=document.getElementById(\"map_content_0_contentdiv\");";
t+="if(c.style.display!=\"block\")";
t+="{document.getElementById(\"map_content_0_contentdiv\").style.display=\"none\";document.getElementById(\"map_content_0_titlediv\").className=\"\";t.className=\"active\";c.style.display=\"block\";\
";
t+="}'>";
t+="Info";
t+="</a></li>";
t+="</ul>";
t+="<div class='jmap_infobox_subcontent_standard' id='map_content_0_contentdiv' style='display:block'>";
t+="\
<div>\
<div class='jmap_infobox_content_row'>\
<a id='infoBoxFrom' href='https://fahrplan.oebb.at/bin/query.exe/dn?SID=A=16"+(typeof param.name!='undefined'?"@O="+param.name.toString():"@O=Auswahl%20aus%20Karte")+(typeof param.x!='undefined'?"@X="+param.x.toString():"")+(typeof param.y!='undefined'?"@Y="+param.y.toString():"")+"'>Als&nbsp;Start&nbsp;&#252;bernehmen</a>\
</div>\
<div class='jmap_infobox_content_row'>\
<a id='infoBoxTo' href='https://fahrplan.oebb.at/bin/query.exe/dn?ZID=A=16"+(typeof param.name!='undefined'?"@O="+param.name.toString():"@O=Auswahl%20aus%20Karte")+(typeof param.x!='undefined'?"@X="+param.x.toString():"")+(typeof param.y!='undefined'?"@Y="+param.y.toString():"")+"'>Als&nbsp;Ziel&nbsp;&#252;bernehmen</a>\
</div>\
<div class='jmap_infobox_content_row'>\
<a onclick='\
clearStationsNear(Map_oebbmap);\
new CShowAjaxContent(\
{globalContentReminder:getStationsNearContent,map:Map_oebbmap,showclosestops:true,\
requesturl:\"https://fahrplan.oebb.at/bin/query.exe/dny?&performLocating=2&tpl=stop2json&look_maxno=5&look_stopclass=1023&look_x="+(typeof param.x!='undefined'?param.x.toString():"0")+"&look_y="+(typeof param.y!='undefined'?param.y.toString():"0")+"\",\
x:"+(typeof param.x!='undefined'?param.x.toString():"0")+",y:"+(typeof param.y!='undefined'?param.y.toString():"0")+"});\
Map_oebbmap.centerToGeo(new CCoord({lon:"+(typeof param.x!='undefined'?param.x.toString():"0")+",lat:"+(typeof param.y!='undefined'?param.y.toString():"0")+"}));\
Map_oebbmap.setZoom(2000);'>\
Stationen in der N&#228;he\
</a>\
</div>\
<div class='jmap_infobox_content_row'>\
<a onclick='\
Map_oebbmap.centerToGeo(new CCoord({lon:"+(typeof param.x!='undefined'?param.x.toString():"0")+",lat:"+(typeof param.y!='undefined'?param.y.toString():"0")+"}));\
Map_oebbmap.setZoom(2000);'>\
Karte auf ausgew&#228;hlten Punkt zentrieren\
</a>\
</div>\
<input type='hidden' id='HFS_currentLoc' value=''\/>\
<input type='hidden' id='HFS_currentLocId' value=''\/>\
</div>\
";
t+="</div>";
t+="</div>";
if(typeof param.titleid!='undefined'){
if(param.map.getZoom() < 12000){
var url = "https://fahrplan.oebb.at/bin/query.exe/dny?performLocating=512&tpl=reverselookup2json&look_nv=type|reverselookup|x|"+param.x+"|y|"+param.y;
var type = "address";
}else{
var url = "https://fahrplan.oebb.at/bin/query.exe/dny?performLocating=2&tpl=stop2json&look_x="+param.x+"&look_y="+param.y+"&look_stopclass=1023&look_maxno=1&look_maxdist=2500&";
var type = "stop";
}
if(url!=null){
var request = new Ajax.Request(
url,
{
method: 'post',
onComplete: function(r){
if(r.responseText!=""){
var o = eval('('+ r.responseText + ')');
if(parseInt(o.error)==0){
if(type == "address"){
param.map.replaceCurrentInfoboxTitle(param.titleid,o.name + ' (' + o.dist + 'm)');
document.getElementById('HFS_currentLoc').value = o.name;
document.getElementById('HFS_currentLocId').value = "A=2@O="+param.map.decode(o.name)+"@X="+o.x+"@Y="+o.y;
}else{
param.map.replaceCurrentInfoboxTitle(param.titleid,o.stops[0].name + ' (' + o.stops[0].dist + 'm)');
document.getElementById('HFS_currentLoc').value = o.name;
document.getElementById('HFS_currentLocId').value = "A=1@O="+param.map.decode(o.stops[0].name)+"@X="+o.stops[0].x+"@Y="+o.stops[0].y+"@U=" + o.stops[0].puic + "@L="+o.stops[0].extId+"@p="+o.stops[0].planId;
}
if(document.getElementById('infoBoxFrom')){
document.getElementById('infoBoxFrom').href = "https://fahrplan.oebb.at/bin/query.exe/dn?SID=" + document.getElementById('HFS_currentLocId').value;
}
if(document.getElementById('infoBoxTo')){
document.getElementById('infoBoxTo').href = "https://fahrplan.oebb.at/bin/query.exe/dn?ZID=" + document.getElementById('HFS_currentLocId').value;
}
}
}
}
}
);
}
}
return t;
};
// ]]>
</script>
<script type="text/javascript" src="/hafas-res/js/jsmap_v1.00_dev/CLoadAjaxContent.js"></script>
<script type="text/javascript" language="javascript">
// <![CDATA[
var gOEBBInfoText=null;
var gOEBBInfoTextHash=null;
function safeinfotextdata(r){
gOEBBInfoText=r.getResult();
gOEBBInfoTextHash=new Hash;
var l=gOEBBInfoText.oebbdata.length;
var i=0;
while(i<l){
gOEBBInfoTextHash.set(gOEBBInfoText.oebbdata[i][1].toString(),true);
i++;
}
}
// ]]>
</script>
<link rel="stylesheet" type="text/css" href="/hafas-res/css/scotty.css?guiV=67" />
<link rel="stylesheet" type="text/css" href="/hafas-res/css/scotty_calendar.css?guiV=67" />
<link rel="stylesheet" type="text/css" href="/hafas-res/css/scotty_suggest.css?guiV=67" />
<link rel="stylesheet" type="text/css" href="/hafas-res/css/oebb_him_showmap_call.css?guiV=67" />
<link rel="stylesheet" type="text/css" href="/hafas-res/css/oebb_him_showmap.css?guiV=67" />
<style type="text/css">
#HFSHeaderDashed                                            {background: url("/hafas-res/img/vs_scotty/gestrichelter_verlauf.png")  repeat-y scroll right center #CC0000; height: 14px;margin-left: 44px; }
#HFSHeaderSpacer                                            {background: none repeat scroll 0 0 #9D110B;height: 14px;width: 100%;}
#HFSNaviDynamic ul li:hover                                 {background: transparent url(/hafas-res/img/vs_scotty/menu/linav_active.png) repeat-x 0px 0px;}
#HFSNaviDynamic ul li a                                     {background: transparent url(/hafas-res/img/vs_scotty/menu/arrow_inactive.png) no-repeat 98% center;}
#HFSNaviDynamic ul li.active a                              {background: transparent url(/hafas-res/img/vs_scotty/menu/arrow_active.png) no-repeat 98% center;}
#HFSNaviDynamic                                             {background: url(/hafas-res/img/vs_scotty/menu/lang/nav_show_d.png) no-repeat 0px 0px; border: none;}
.HFSSearch                                                  {background: url(/hafas-res/img/vs_scotty/standard/bg_slider_shadow.png) repeat-x 0px -18px; padding: 8px; border: 1px solid #c7d5dc; border-bottom: 1px solid #8098a6; border-top: 1px solid #fdfdfd;}
#HFSbreadcrumb                                              {background: url(/hafas-res/img/vs_scotty/breadcrumb_verlauf.png) repeat-y scroll right center #E5E5E5;}
#HFS input.buttonAsLink                                     {background: url(/hafas-res/img/vs_scotty/icons/icon_arrow_2.gif) no-repeat left center;}
#HFS input.mapAsLink                                        {background: url(/hafas-res/img/icons/icon_map_real.png) no-repeat left center;}
#HFS input.mapAsLink a:hover,
#HFS input.mapAsLink:focus,
#HFS buttonAsLink:focus                                     {background: url(/hafas-res/img/vs_scotty/icons/icon_map.png) no-repeat left center;}
#HFSResult table.resultTable th                           {background: url(/hafas-res/img/vs_scotty/standard/bg_results_th.png) repeat 0px 0px;}
div.MapRouteDesc table.MapRouteDesc th                      {background: url(/hafas-res/img/vs_scotty/standard/bg_results_th.png)repeat 0px 0px;}
#HFS                                                      {background-color: #e5e5e5;}
#HFS input.buttonSmall, #HFS input.buttonSmall:focus,
#HFS input.button, #HFS input.button:focus                  {background-color:#ffffff;color:#cc0000;border:1px solid #cc0000;font-size:12px}
#HFS input.button:hover, #HFS input.buttonPrimary:hover,
#HFS input.buttonSmall:hover                                {background-color:#e5e5e5;color:#cc0000;border:1px solid #cc0000;font-size:12px}
#HFS input.buttonPrimary, #HFS input.buttonPrimary:focus    {background-color:#cc0000;color:#ffffff;border:1px solid #cc0000;font-size:12px}
#HFS input.buttonAsLink:focus, #HFS buttonAsLink:focus      {background: url(/hafas-res/img/vs_scotty/icons/icon_arrow_2.gif) no-repeat 0px 3px;}
#HFS input.buttonAsLink a:hover                             {background: url(/hafas-res/img/vs_scotty/icons/icon_arrow_2_hover.gif) no-repeat 0px 3px;}
#HFS input.error, #HFS select.error                         {background: url(/hafas-res/img/vs_scotty/standard/bg_inputerror.png) repeat-x scroll 0 0;}
#HFSResult tr.tpOverview selected td,
#HFSResult tr.selected td                                   {background: #D7D8D9 url(/hafas-res/img/vs_scotty/standard/bg_zebracol_selected.png) repeat-x scroll 0 0;}
#HFSNaviTop ul, #HFSContent ul.slider                       {background: transparent url(/hafas-res/img/vs_scotty/standard/bg_slider_shadow.png) repeat-x scroll 0 3px; height: 38px;}
#HFSNaviSub ul                                              {background: none;}
#HFSNaviSub ul                                              {background: none;}
#HFSNaviSub ul.slider                                       {height:29px !important;}
div.jmap_menue_content                                      {background: #f5f5f6 url(/hafas-res/img/vs_scotty/standard/bg_greybox.png) repeat-x scroll 0 0;}
div.jmap_menue_title                                        {background: url(/hafas-res/img/js/select_subtitle_16x16.png) no-repeat 0 0;}
div.jmap_menue_title_sel                                    {background: url(/hafas-res/img/js/deselect_subtitle_16x16.png) no-repeat 0 0;}
div.jmap_menue_content_row                                  {background: url(/hafas-res/img/js/select_row_16x16.png) no-repeat 0 1px;}
div.jmap_infobox_content_row                                {background: url(/hafas-res/img/js/select_row_16x16.png) no-repeat 0 0;}
div.jmap_infobox_reach input:focus,
div.jmap_infobox_reach select:focus                         {background: url(/hafas-res/img/vs_scotty/standard/bg_input_small.png) repeat-y;}
div.jmap_menue_content_check                                {background: url(/hafas-res/img/js/check_16x16.png) no-repeat 0 0;}
div.jmap_menue_content_checkwait                            {background: url(/hafas-res/img/js/checkwait_16x16.png) no-repeat 0 0;}
div.jmap_menue_content_checked                              {background: url(/hafas-res/img/js/checked_16x16.png) no-repeat 0 0;}
#suggestionMenu                                             {background:url(/hafas-res/img/vs_scotty/standard/bg_blu_content.png) 0 100px;}
#suggestion li.adr,#suggestion li.adrselected               {background-image:url(/hafas-res/img/icons/icon_address.png);background-repeat:no-repeat;background-position: 10px 0;}
#suggestion li.poi,#suggestion li.poiselected               {background-image:url(/hafas-res/img/icons/poi.png); background-repeat:no-repeat;background-position: 10px 0;}
#suggestion li.oebb, #suggestion li.oebbselected            {background-image:url(/hafas-res/img/icons/train.gif); }
#suggestion li.meta, #suggestion li.metaselected            {background-image:url(/hafas-res/img/icons/metaorte.png); }
#suggestion li.metahst, #suggestion li.metahstselected      {background-image:url(/hafas-res/img/icons/metahst.png); background-position:2px 2px; }
.suggestButton                                              {background:url(/hafas-res/img/vs_scotty/icons/icon_text_2.png) no-repeat 3px 3px;}
#more                                                       {background:url(/hafas-res/img/mobile/delayNormal.png);}
.infobox                                                    {background:url(/hafas-res/img/vs_scotty/icons/icon_arrow_2_hover.gif);}
.match,.matchhover                                          {background:url(/hafas-res/img/vs_scotty/icons/icon_arrow_2.gif) no-repeat 0 7px;}
#HFS .matchhover                                            {background:url(/hafas-res/img/vs_scotty/icons/icon_arrow_2_hover.gif) no-repeat 0 7px;}
#suggestion li.furtherMatches,
#suggestion li.furtherMatchesselected                      {background:url(/hafas-res/img/vs_scotty/standard/bg_btn_mapblu.png) repeat-x scroll 0 0;}
#suggestion li                                             {background:url(/hafas-res/img/vs_scotty/station.gif) no-repeat 10px 2px;}
.topmatches                                                 {background:url(/hafas-res/img/vs_scotty/standard/bg_results_th.png) repeat scroll 0 0;}
table.resultTable .menuLinks a.close:hover,
table.resultTable .menuLinks a.open                         {background-image:url(/hafas-res/img/vs_scotty/klapppfeil_rechts_grau_16x16.gif);}
table.resultTable .menuLinks a.open:hover,
table.resultTable .menuLinks a.close,
table.resultTable .menuLinks a                              {background-image:url(/hafas-res/img/vs_scotty/klapppfeil_unten_grau_16x16.gif);}
#waiting                                                    {background-image:url(/hafas-res/img/vs_scotty/ajax_loader.gif) !important;}
a.std_ico                                                   {background: url(/hafas-res/img/vs_scotty/icons/icon_arrow_2.gif) no-repeat 3px 2px; padding-left: 16px;}
a.std_ico:hover                                             {background: url(/hafas-res/img/vs_scotty/icons/icon_arrow_2_hover.gif) no-repeat 3px 2px; padding-left: 16px;}
a.print_ico,
a.print_ico:hover                                           {background: url(/hafas-res/img/vs_scotty/icons/icon_print.png) no-repeat 3px 0px; padding-left: 20px;}
a.about_ico,
a.about_ico:hover                                           {background: url(/hafas-res/img/header_info_i.png) no-repeat 3px 3px; padding:5px 0px 5px 26px;}
a.help_ico,
a.help_ico:hover                                            {background: url(/hafas-res/img/header_questionmark.png) no-repeat 3px 3px; padding:5px 0px 5px 26px;}
a.top_ico,
a.top_ico:hover                                             {background: url(/hafas-res/img/vs_scotty/icons/icon_up.gif) no-repeat 3px 2px; padding-left: 16px;}
a.zoomin_ico,
a.zoomin_ico:hover                                          {background: url(/hafas-res/img/vs_scotty/icons/icon_zoomin.png) no-repeat 3px 2px; padding: 3px 0px 3px 20px;}
a.zoomout_ico,
a.zoomout_ico:hover                                         {background: url(/hafas-res/img/vs_scotty/icons/icon_zoomout.png) no-repeat 3px 0px; padding-left: 20px;}
a.text_ico,
a.text_ico:hover                                            {background: url(/hafas-res/img/vs_scotty/icons/icon_text_2.png) no-repeat 3px 2px; padding-left: 20px;}
a.map_ico,
a.map_ico:hover                                             {background: url(/hafas-res/img/vs_scotty/icons/icon_map.png) no-repeat 3px 0px; padding-left: 20px;}
a.google_earth_ico,
a.google_earth_ico:hover                                    {background: url(/hafas-res/img/vs_scotty/icons/icon_google_earth.png) no-repeat 3px 0px; padding-left: 20px;}
a.mail_ico,
a.mail_ico:hover                                            {background: url(/hafas-res/img/vs_scotty/icons/icon_mail.png) no-repeat 3px 0px; padding-left: 20px;}
a.mailpush_ico,
a.mailpush_ico:hover                                        {background: url(/hafas-res/img/vs_scotty/icons/icon_mailpush.png) no-repeat 3px 0px; padding-left: 20px;}
a.calexport_ico,
a.calexport_ico:hover                                       {background: url(/hafas-res/img/vs_scotty/icons/icon_calexport.png) no-repeat 3px 0px; padding-left: 20px;}
a.facebook_ico,
a.facebook_ico:hover                                        {background: url(/hafas-res/img/vs_scotty/socialmedia/facebook_icon.png) no-repeat 3px 0px; padding-left: 20px;background-size:12px;}
a.twitter_ico,
a.twitter_ico:hover                                        {background: url(/hafas-res/img/vs_scotty/socialmedia/twitter_icon.png) no-repeat 3px 0px; padding-left: 20px;background-size:12px;}
a.calendar_ico,
a.calendar_ico:hover                                        {background: url(/hafas-res/img/icons/icon_calendar.png) no-repeat 0px 5px; padding: 5px 0px 5px 20px;}
a.rss_ico,
a.rss_ico:hover                                             {background: url(/hafas-res/img/icon_rss.png) no-repeat 0px 5px; padding: 5px 0px 5px 20px;}
#HFS .scotty                                                { width: 970px; }
#HFS .scotty.fullWidth                                      { width: 100%; }
#HFSContent                                                 { width: 805px; }
#HFS div.ajaxmapdiv                                         { width: 938px; }
/* Modifizierte Infobox */
ul.jmap_slider                                              {display:block !important;margin-bottom:4px;margin-top:8px;padding:12px 0 !important;}
ul.jmap_slider li                                           {padding:14px 0 !important;}
div.jmap_infobox_subcontent_standard                        { height:200px !important;width:380px !important; }
.jmap_infobox_iframe_bhftafel                               {width:380px !important;}
div.jmap_infobox_subcontent_bhftafel                        {width:380px !important;}
ul.jmap_slider,td.tableBorder                               { border:none !important; }
ul.jmap_slider a,ul.jmap_slider a.active                    {padding:6px 3px !important;border:none !important; text-decoration:none !important;color:black !important;}
ul.jmap_slider a.active                                     {background-color:#EDEAE3 !important;font-weight:bold;}
jmap_infobox_subcontent_info                                {display:none;}
.trackInfoMenu .menuheadline                                {background-image:url(/hafas-res/img/vs_scotty/klapppfeil_rechts_grau_16x16.gif);background-repeat:no-repeat;background-position:160px center;}
.trackInfoMenu .menuheadline.activeMenu                     {background-image:url(/hafas-res/img/vs_scotty/klapppfeil_unten_grau_16x16.gif);background-repeat:no-repeat;background-position:160px center;}
div.jmap_infobox_subcontent_bhftafel,
div.jmap_infobox_subcontent_bhftafelmulti,
div.jmap_infobox_subcontent_map                             {border:none;}
div#HFSContent                                              {width:949px;}
#HFSHeader                                                  {height:58px; padding-right:0px;padding-left:5px;margin-top:18px;margin-bottom:20px; padding-bottom:0px;position: relative; display: block; }
#HFSHeader #HFSLogoScotty                                   {float:left; left:350px; width:450px;}
#HFSHeader #HFSLogoScotty p,
#HFSHeader #HFSLogoScotty h1                                {font-weight:bold; font-size:13px; padding:0px 5px; margin:30px 0 0 19px;}
#HFSNavi ul li                                              {margin:0px; padding:0px; line-height:32px; width:133px; font-weight:bold; border-right:1px solid #FFFFFF;}
#HFS .scotty                                                {background-color:#FFFFFF;}
.menuheadline                                               {background-image:url(/hafas-res/img/vs_scotty/klapppfeil_rechts_grau_16x16.gif);background-repeat:no-repeat;background-position:160px center;}
.menuheadline.activeMenu                                    {background-image:url(/hafas-res/img/vs_scotty/klapppfeil_unten_grau_16x16.gif);background-repeat:no-repeat;background-position:160px center;}
.menuheadline, .menuheadline.activeMenu                     {background-position:190px;}
div.popUpEntry                                  { background-image:url(/hafas-res/img/himinfo/icon_urgent_static_small.gif);background-repeat:no-repeat; background-position:10px 4px; }
</style>
<!--[if IE]>
<style type="text/css">
div.look_names_on_map               {background-color:#f9f9f9;position:absolute;display:inline;text-align:left;font-size:x-small;opacity:0.70;filter:progid:DXImageTransform.Microsoft.Alpha(opacity=70);}
div.look_traintext                  {background-color:#f9f9f9;text-align:left;font-size:x-small;padding-left:2px;padding-right:2px;opacity:0.70;filter:progid:DXImageTransform.Microsoft.Alpha(opacity=70);}
</style>
<![endif]-->
<!--[if IE 6]>
<style type="text/css">
@import url(/hafas-res/css/msie6_hacks.css);
#HFSNaviTop ul, #HFSContent ul.slider                       {background-image: url(/hafas-res/img/vs_scotty/standard/bg_slider_shadow.gif); background-position: 0 3px; height: 50px;}
#HFSNaviDynamic                                             {background: url(/hafas-res/img/vs_scotty/menu/lang/nav_show_ie_d.png) no-repeat 0px 0px; border: none;}
input.error                                                 {background: url(/hafas-res/img/vs_scotty/standard/bg_inputerror.png) background-position: top left; background-repeat: repeat-x scroll 0 0; border: 1px solid #A5ACB2; height: 17px;}
</style>
<script type="text/javascript">
var gBlankImg = '/hafas-res/img/vs_scotty/iepngfix/blank.gif';
</script>
<style type="text/css">
/* IE5.5+ PNG Alpha Fix (c) 2004-2008 Angus Turnbull http://www.twinhelix.com */
#HFS *.greybox img,
#HFS tr.intermediateSection td.pearl,
#HFS tr.conFirstSecFirstRow td.pearl,
#HFS tr.conLastSecLastRow td.pearl,
#HFS div.linkGroup img,
#HFS td.ptvinfoboxtitle img,
#HFS table.resultTable img,
#HFS a.mapAsLink,
#HFS input.mapAsLink,
#HFS div#geomap img,
#HFSNavi ul,
#HFSNavi ul li,
#HFSNavi .navbar,
#HFSNavi li.sub,
#HFSNavi li sub:hover,
#HFSNavi li.sub:active a,
#HFSNavBar img,
#HFS .HFSMain img              {behavior: url(/hafas-res/img/vs_scotty/iepngfix/iepngfix.htc);}
div.ptvinfoboxcontent div.jmap_infobox_content_row                {height: 1px; width: 100%; filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='/hafas-res/img/js/select_row_16x16.png', sizingMethod='crop'); background-image: none;}
div#areaswitchmenuecontent div.jmap_menue_content_row             {height: 1px; width: 18ex; filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='/hafas-res/img/js/select_row_16x16.png', sizingMethod='crop'); background-image: none;}
div#apiswitchmenuecontent div.jmap_menue_content_row              {height: 1px; width: 24ex; filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='/hafas-res/img/js/select_row_16x16.png', sizingMethod='crop'); background-image: none;}
div#tariflayerswitchmenuecontent div.jmap_menue_content_check     {height: 1px; width: 48ex; filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='/hafas-res/img/js/check_16x16.png', sizingMethod='crop'); background-image: none;}
div#tariflayerswitchmenuecontent div.jmap_menue_content_checked   {height: 1px; width: 48ex; filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='/hafas-res/img/js/checked_16x16.png', sizingMethod='crop'); background-image: none;}
div#tariflayerswitchmenuecontent div.jmap_menue_content_checkwait {height: 1px; width: 48ex; filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='/hafas-res/img/js/checkwait_16x16.png', sizingMethod='crop'); background-image: none;}
</style>
<![endif]-->
<!--[if IE 7]>
<style type="text/css">
@import url(/hafas-res/css/msie7_hacks.css);
</style>
<![endif]-->
<!--[if IE 8]>
<style type="text/css">
@import url(/hafas-res/css/msie8_hacks.css);
</style>
<![endif]-->
<!-- Matomo -->
<script type="text/javascript">
function track(cat, act, lbl) {
_paq.push(['trackEvent', cat, act, lbl]);
}
var _paq = _paq || [];
/* tracker methods like "setCustomDimension" should be called before "trackPageView" */
_paq.push(["setCookieDomain", "*.fahrplan.oebb.at"]);
_paq.push(['trackPageView']);
_paq.push(['enableLinkTracking']);
(function() {
var u='//piwik.hacon.de/';
_paq.push(['setTrackerUrl', u+'piwik.php']);
_paq.push(['setSiteId', '31']);
var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
})();
</script>
<noscript><p><img src="//piwik.hacon.de/piwik.php?idsite=31&rec=1';" style="border:0;" alt="" /></p></noscript>
<!-- End Matomo Code -->
</head>
<body id="HFS" class="jmap_map"   onload="blurInputHintOnBack();">
<div class="scotty ">
<a name="top"></a>
<script type="text/javascript" language="javascript">
function checkOEBBInfos(extId){
// <![CDATA[
if(!gOEBBInfoText)return false;
if(typeof gOEBBInfoText.oebbdata=='undefined'||!gOEBBInfoText.oebbdata)return false;
if(typeof gOEBBInfoTextHash=='undefined'||!gOEBBInfoTextHash)return false;
var h=gOEBBInfoTextHash.get(extId.toString());
if(typeof h=='undefined'||!h)return false;
return true;
}
function infotextstation(param){ //map,extId,puic,name,x,y
var t="<div class='jmap_infobox'><ul class='jmap_slider'>";
if(true){
// Bahnhofsinfos nur bei bestimmten EvaIds
var currExtId = ""+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"";
if((currExtId.substr(0,4) == '0081') || (currExtId.substr(0,2) == '81') || "standard" != "info"){
t+="<li>"
t+="<a id='content_0_titlediv' class='active' ";
t+="onclick='var t=document.getElementById(\"content_0_titlediv\");var c=document.getElementById(\"content_0_contentdiv\");";
t+="if(c.style.display!=\"block\")";
t+="{if(document.getElementById(\"content_0_contentdiv\"))document.getElementById(\"content_0_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_0_titlediv\"))document.getElementById(\"content_0_titlediv\").className=\"\";if(document.getElementById(\"content_1_contentdiv\"))document.getElementById(\"content_1_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_1_titlediv\"))document.getElementById(\"content_1_titlediv\").className=\"\";if(document.getElementById(\"content_3_contentdiv\"))document.getElementById(\"content_3_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_3_titlediv\"))document.getElementById(\"content_3_titlediv\").className=\"\";if(document.getElementById(\"content_4_contentdiv\"))document.getElementById(\"content_4_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_4_titlediv\"))document.getElementById(\"content_4_titlediv\").className=\"\";t.className=\"active\";c.style.display=\"block\";\
";
t+="}'>";
t+="Station";
t+="</a></li>";
}
}
if(true){
// Bahnhofsinfos nur bei bestimmten EvaIds
var currExtId = ""+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"";
if((currExtId.substr(0,4) == '0081') || (currExtId.substr(0,2) == '81') || "info" != "info"){
t+="<li>"
t+="<a id='content_1_titlediv' class='' ";
t+="onclick='var t=document.getElementById(\"content_1_titlediv\");var c=document.getElementById(\"content_1_contentdiv\");";
t+="if(c.style.display!=\"block\")";
t+="{if(document.getElementById(\"content_0_contentdiv\"))document.getElementById(\"content_0_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_0_titlediv\"))document.getElementById(\"content_0_titlediv\").className=\"\";if(document.getElementById(\"content_1_contentdiv\"))document.getElementById(\"content_1_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_1_titlediv\"))document.getElementById(\"content_1_titlediv\").className=\"\";if(document.getElementById(\"content_3_contentdiv\"))document.getElementById(\"content_3_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_3_titlediv\"))document.getElementById(\"content_3_titlediv\").className=\"\";if(document.getElementById(\"content_4_contentdiv\"))document.getElementById(\"content_4_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_4_titlediv\"))document.getElementById(\"content_4_titlediv\").className=\"\";t.className=\"active\";c.style.display=\"block\";\
";
t+="}'>";
t+="Info";
t+="</a></li>";
}
}
if(true){
// Bahnhofsinfos nur bei bestimmten EvaIds
var currExtId = ""+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"";
if((currExtId.substr(0,4) == '0081') || (currExtId.substr(0,2) == '81') || "dep" != "info"){
t+="<li>"
t+="<a id='content_3_titlediv' class='' ";
t+="onclick='var t=document.getElementById(\"content_3_titlediv\");var c=document.getElementById(\"content_3_contentdiv\");";
t+="if(c.style.display!=\"block\")";
t+="{if(document.getElementById(\"content_0_contentdiv\"))document.getElementById(\"content_0_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_0_titlediv\"))document.getElementById(\"content_0_titlediv\").className=\"\";if(document.getElementById(\"content_1_contentdiv\"))document.getElementById(\"content_1_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_1_titlediv\"))document.getElementById(\"content_1_titlediv\").className=\"\";if(document.getElementById(\"content_3_contentdiv\"))document.getElementById(\"content_3_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_3_titlediv\"))document.getElementById(\"content_3_titlediv\").className=\"\";if(document.getElementById(\"content_4_contentdiv\"))document.getElementById(\"content_4_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_4_titlediv\"))document.getElementById(\"content_4_titlediv\").className=\"\";t.className=\"active\";c.style.display=\"block\";\
";
t+="}'>";
t+="Abfahrt";
t+="</a></li>";
}
}
if(true){
// Bahnhofsinfos nur bei bestimmten EvaIds
var currExtId = ""+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"";
if((currExtId.substr(0,4) == '0081') || (currExtId.substr(0,2) == '81') || "arr" != "info"){
t+="<li>"
t+="<a id='content_4_titlediv' class='' ";
t+="onclick='var t=document.getElementById(\"content_4_titlediv\");var c=document.getElementById(\"content_4_contentdiv\");";
t+="if(c.style.display!=\"block\")";
t+="{if(document.getElementById(\"content_0_contentdiv\"))document.getElementById(\"content_0_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_0_titlediv\"))document.getElementById(\"content_0_titlediv\").className=\"\";if(document.getElementById(\"content_1_contentdiv\"))document.getElementById(\"content_1_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_1_titlediv\"))document.getElementById(\"content_1_titlediv\").className=\"\";if(document.getElementById(\"content_3_contentdiv\"))document.getElementById(\"content_3_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_3_titlediv\"))document.getElementById(\"content_3_titlediv\").className=\"\";if(document.getElementById(\"content_4_contentdiv\"))document.getElementById(\"content_4_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_4_titlediv\"))document.getElementById(\"content_4_titlediv\").className=\"\";t.className=\"active\";c.style.display=\"block\";\
";
t+="}'>";
t+="Ankunft";
t+="</a></li>";
}
}
t+="</ul>";
if(true){
t+="<div class='jmap_infobox_subcontent_standard' id='content_0_contentdiv' style='display:block'>";
t+="\
<div>\
<div class='jmap_infobox_content_row'>\
<a target='_blank' href='https://fahrplan.oebb.at/bin/query.exe/dn?protocol=https:&SID=A=1"+(typeof param.extId!='undefined'?"@L="+param.extId.toString():"")+(typeof param.puic!='undefined'?"@U="+param.puic.toString():"")+(typeof param.name!='undefined'?"@O="+param.name.toString():"")+(typeof param.x!='undefined'?"@X="+param.x.toString():"")+(typeof param.y!='undefined'?"@Y="+param.y.toString():"")+"'>Als&nbsp;Start&nbsp;&#252;bernehmen</a>\
</div>\
<div class='jmap_infobox_content_row'>\
<a target='_blank' href='https://fahrplan.oebb.at/bin/query.exe/dn?protocol=https:&ZID=A=1"+(typeof param.extId!='undefined'?"@L="+param.extId.toString():"")+(typeof param.puic!='undefined'?"@U="+param.puic.toString():"")+(typeof param.name!='undefined'?"@O="+param.name.toString():"")+(typeof param.x!='undefined'?"@X="+param.x.toString():"")+(typeof param.y!='undefined'?"@Y="+param.y.toString():"")+"'>Als&nbsp;Ziel&nbsp;&#252;bernehmen</a>\
</div>\
<div class='jmap_infobox_content_row'>\
<\/div>\
<div class='jmap_infobox_content_row'>\
<br\/>\
<strong>Direkte Verlinkung zu dieser Haltestelle:<\/strong>\
<textarea onclick='this.select();' cols='60' rows='3'>\
https://fahrplan.oebb.at/bin/query.exe/dn?showStation="+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"&ujm=1&mapType=TRACKINFO&\
<\/textarea>\
</div>\
</div>\
";
t+="</div>";
}
if(true){
t+="<div class='jmap_infobox_subcontent_standard' id='content_1_contentdiv'>";
t+="\
<div>\
<div id='localbhfinfodiv_"+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"' class='jmap_infobox_bhfinfo'>\
<iframe frameborder='0' src='https://fahrplan.oebb.at/bin/stboard.exe/dn?L=vs_scotty&outputMode=bhfinfo&sqView=4&start&input="+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"' \
class='jmap_infobox_iframe_bhftafel'>\
<br/>Your Browser doesn't support IFrames. Please follow this Link instead:<br />\
<a href='https://fahrplan.oebb.at/bin/stboard.exe/dny?L=vs_scotty&tpl=bhfinfo2json&sqView=4&start&input="+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"'><span class='red'>&#187;</span>Aktuelle&nbsp;Abfahrtsstafel</a>\
</iframe>\
</div>\
</div>\
";
t+="</div>";
}
if(true){
t+="<div class='jmap_infobox_subcontent_bhftafel' id='content_3_contentdiv'>";
t+="\
<div>\
<div id='localdepdiv_"+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"' class='jmap_infobox_bhftafel'>\
<iframe src='https://fahrplan.oebb.at/bin/stboard.exe/dn?L=vs_liveticker&evaId="+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"&sqltm=0&showJourneys=7&eqstops=false&boardType=dep&productsFilter="+(typeof param.productFilter!='undefined'?param.productFilter.toString():"1111111111")+"' \
class='jmap_infobox_iframe_bhftafel'>\
<br/>Your Browser doesn't support IFrames. Please follow this Link instead:<br />\
<a href='https://fahrplan.oebb.at/bin/stboard.exe/dn?protocol=https:&start=1&boardType=dep&input=A=1"+(typeof param.extId!='undefined'?"@L="+param.extId.toString():"")+(typeof param.puic!='undefined'?"@U="+param.puic.toString():"")+(typeof param.name!='undefined'?"@O="+param.name.toString():"")+(typeof param.x!='undefined'?"@X="+param.x.toString():"")+(typeof param.y!='undefined'?"@Y="+param.y.toString():"")+"'><span class='red'>&#187;</span>Aktuelle&nbsp;Abfahrtsstafel</a>\
</iframe>\
</div>\
<div>\
<a target='_blank' href='https://fahrplan.oebb.at/bin/stboard.exe/dn?protocol=https:&boardType=dep&input="+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"&start=yes&sqView=2'>Weitere Abfahrten</a>\
<\/div>\
</div>\
";
t+="</div>";
}
if(true){
t+="<div class='jmap_infobox_subcontent_bhftafel' id='content_4_contentdiv'>";
t+="\
<div>\
<div id='localarrdiv_"+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"' class='jmap_infobox_bhftafel'>\
<iframe src='https://fahrplan.oebb.at/bin/stboard.exe/dn?L=vs_liveticker&evaId="+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"&sqltm=0&showJourneys=7&eqstops=false&boardType=arr&productsFilter="+(typeof param.productFilter!='undefined'?param.productFilter.toString():"1111111111")+"' class='jmap_infobox_iframe_bhftafel'>\
<br />Your Browser doesn't support IFrames. Please follow this Link instead:<br />\
<a href='https://fahrplan.oebb.at/bin/stboard.exe/dn?protocol=https:&start=1&boardType=arr&input=A=1"+(typeof param.extId!='undefined'?"@L="+param.extId.toString():"")+(typeof param.puic!='undefined'?"@U="+param.puic.toString():"")+(typeof param.name!='undefined'?"@O="+param.name.toString():"")+(typeof param.x!='undefined'?"@X="+param.x.toString():"")+(typeof param.y!='undefined'?"@Y="+param.y.toString():"")+"'><span class='red'>&#187;</span>Aktuelle&nbsp;Ankunftstafel</a>\
</iframe>\
</div>\
<div>\
<a target='_blank' href='https://fahrplan.oebb.at/bin/stboard.exe/dn?protocol=https:&boardType=dep&input="+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"&start=yes&sqView=2'>Weitere Ank&#252;nfte</a>\
<\/div>\
</div>\
";
t+="</div>";
}
t+="</div>";
return t;
};
// ]]>
</script>
<script type="text/javascript" language="javascript">
// <![CDATA[
function infotextaddress(param){ //map,extId,puic,name,x,y
var t="<div class='jmap_infobox'><ul class='jmap_slider'>";
t+="<li>"
t+="<a id='adr_content_0_titlediv' class='active' ";
t+="onclick='var t=document.getElementById(\"adr_content_0_titlediv\");var c=document.getElementById(\"adr_content_0_contentdiv\");";
t+="if(c.style.display!=\"block\")";
t+="{document.getElementById(\"adr_content_0_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_0_titlediv\").className=\"\";document.getElementById(\"adr_content_1_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_1_titlediv\").className=\"\";document.getElementById(\"adr_content_2_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_2_titlediv\").className=\"\";document.getElementById(\"adr_content_3_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_3_titlediv\").className=\"\";t.className=\"active\";c.style.display=\"block\";\
";
t+="}'>";
t+="Address";
t+="</a></li>";
t+="<li>"
t+="<a id='adr_content_1_titlediv' class='' ";
t+="onclick='var t=document.getElementById(\"adr_content_1_titlediv\");var c=document.getElementById(\"adr_content_1_contentdiv\");";
t+="if(c.style.display!=\"block\")";
t+="{document.getElementById(\"adr_content_0_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_0_titlediv\").className=\"\";document.getElementById(\"adr_content_1_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_1_titlediv\").className=\"\";document.getElementById(\"adr_content_2_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_2_titlediv\").className=\"\";document.getElementById(\"adr_content_3_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_3_titlediv\").className=\"\";t.className=\"active\";c.style.display=\"block\";\
Localmap_"+(typeof param.extId!='undefined'?param.extId.toString():"-1")+" = new CPTVMap(\"localmapdiv_"+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"\",\
{mode:\"simple\",zoom:500,language:\"d\",coord:new CCoord({lon:"+(typeof param.x!='undefined'?param.x.toString():"0")+",lat:"+(typeof param.y!='undefined'?param.y.toString():"0")+"})});\
Localmap_"+(typeof param.extId!='undefined'?param.extId.toString():"-1")+".show();\
Localmap_"+(typeof param.extId!='undefined'?param.extId.toString():"-1")+".showContent(Localmap_"+(typeof param.extId!='undefined'?param.extId.toString():"-1")+".createContent({type: \"location\",coord: new CCoord({lon:"+(typeof param.x!='undefined'?param.x.toString():"0")+",lat:"+(typeof param.y!='undefined'?param.y.toString():"0")+"}),hotspot: {x:7,y:7},\
text: \""+(typeof param.name!='undefined'?param.name:'')+"\",\
imageurl: \"/hafas-res/img/icons/icon_google_earth.png\",imagewidth: 14,imageheight: 14}));\
";
t+="}'>";
t+="Map";
t+="</a></li>";
t+="<li>"
t+="<a id='adr_content_2_titlediv' class='' ";
t+="onclick='var t=document.getElementById(\"adr_content_2_titlediv\");var c=document.getElementById(\"adr_content_2_contentdiv\");";
t+="if(c.style.display!=\"block\")";
t+="{document.getElementById(\"adr_content_0_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_0_titlediv\").className=\"\";document.getElementById(\"adr_content_1_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_1_titlediv\").className=\"\";document.getElementById(\"adr_content_2_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_2_titlediv\").className=\"\";document.getElementById(\"adr_content_3_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_3_titlediv\").className=\"\";t.className=\"active\";c.style.display=\"block\";\
function showMultiDep(r){\
var s=r.getResult();\
for(var i=0;i<5;i++){\
document.getElementById(\"multidepiframe\"+i+\"a\").src=\"https://fahrplan.oebb.at/bin/stboard.exe/dn?L=vs_scotty.vs_stb&evaId=\"+s.stops[i].extId+\"&sqltm=1&showJourneys=3&boardType=dep&productsFilter=1111111111&view=preview&cpn=\"+i;\
document.getElementById(\"multidepiframe\"+i+\"b\").src=\"https://fahrplan.oebb.at/bin/stboard.exe/dn?L=vs_scotty.vs_stb&evaId=\"+s.stops[i].extId+\"&sqltm=1&showJourneys=5&lanelink=yes&boardType=dep&productsFilter=1111111111&view=mini\";\
}\
}\
new CShowAjaxContent(\
{map:Map,showclosestops:true,\
requesturl:\"https://fahrplan.oebb.at/bin/query.exe/dny?&performLocating=2&tpl=stop2json&look_maxno=5&look_stopclass=1023&look_x="+(typeof param.x!='undefined'?param.x.toString():"0")+"&look_y="+(typeof param.y!='undefined'?param.y.toString():"0")+"\",\
x:"+(typeof param.x!='undefined'?param.x.toString():"0")+",y:"+(typeof param.y!='undefined'?param.y.toString():"0")+"});\
new CLoadAjaxContent(\
{requesturl:\"https://fahrplan.oebb.at/bin/query.exe/dny?&performLocating=2&tpl=stop2json&look_maxno=5&look_stopclass=1023&look_x="+(typeof param.x!='undefined'?param.x.toString():"0")+"&look_y="+(typeof param.y!='undefined'?param.y.toString():"0")+"\",\
onload:showMultiDep,debug:false});\
";
t+="}'>";
t+="Departure";
t+="</a></li>";
t+="<li>"
t+="<a id='adr_content_3_titlediv' class='' ";
t+="onclick='var t=document.getElementById(\"adr_content_3_titlediv\");var c=document.getElementById(\"adr_content_3_contentdiv\");";
t+="if(c.style.display!=\"block\")";
t+="{document.getElementById(\"adr_content_0_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_0_titlediv\").className=\"\";document.getElementById(\"adr_content_1_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_1_titlediv\").className=\"\";document.getElementById(\"adr_content_2_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_2_titlediv\").className=\"\";document.getElementById(\"adr_content_3_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_3_titlediv\").className=\"\";t.className=\"active\";c.style.display=\"block\";\
function showMultiArr(r){\
var s=r.getResult();\
for(var i=0;i<5;i++){\
document.getElementById(\"multiarriframe\"+i+\"a\").src=\"https://fahrplan.oebb.at/bin/stboard.exe/dn?L=vs_scotty.vs_stb&evaId=\"+s.stops[i].extId+\"&sqltm=1&showJourneys=3&boardType=arr&productsFilter=1111111111&view=preview&cpn=\"+i;\
document.getElementById(\"multiarriframe\"+i+\"b\").src=\"https://fahrplan.oebb.at/bin/stboard.exe/dn?L=vs_scotty.vs_stb&evaId=\"+s.stops[i].extId+\"&sqltm=1&showJourneys=5&lanelink=yes&boardType=arr&productsFilter=1111111111&view=mini\";\
}\
}\
new CShowAjaxContent(\
{map:Map,showclosestops:true,\
requesturl:\"https://fahrplan.oebb.at/bin/query.exe/dny?&performLocating=2&tpl=stop2json&look_maxno=5&look_stopclass=1023&look_x="+(typeof param.x!='undefined'?param.x.toString():"0")+"&look_y="+(typeof param.y!='undefined'?param.y.toString():"0")+"\",\
x:"+(typeof param.x!='undefined'?param.x.toString():"0")+",y:"+(typeof param.y!='undefined'?param.y.toString():"0")+"});\
new CLoadAjaxContent(\
{requesturl:\"https://fahrplan.oebb.at/bin/query.exe/dny?&performLocating=2&tpl=stop2json&look_maxno=5&look_stopclass=1023&look_x="+(typeof param.x!='undefined'?param.x.toString():"0")+"&look_y="+(typeof param.y!='undefined'?param.y.toString():"0")+"\",\
onload:showMultiArr,debug:false});\
";
t+="}'>";
t+="Arrival";
t+="</a></li>";
t+="</ul>";
t+="<div class='jmap_infobox_subcontent_standard' id='adr_content_0_contentdiv' style='display:block'>";
t+="\
<div>\
<div class='jmap_infobox_content_row'>\
<a href='https://fahrplan.oebb.at/bin/query.exe/dn?protocol=https:&SID=A=2"+(typeof param.extId!='undefined'?"@L="+param.extId.toString():"")+(typeof param.puic!='undefined'?"@U="+param.puic.toString():"")+(typeof param.name!='undefined'?"@O="+param.name.toString():"")+(typeof param.x!='undefined'?"@X="+param.x.toString():"")+(typeof param.y!='undefined'?"@Y="+param.y.toString():"")+"'>Als&nbsp;Start&nbsp;&#252;bernehmen</a>\
</div>\
<div class='jmap_infobox_content_row'>\
<a href='https://fahrplan.oebb.at/bin/query.exe/dn?protocol=https:&ZID=A=2"+(typeof param.extId!='undefined'?"@L="+param.extId.toString():"")+(typeof param.puic!='undefined'?"@U="+param.puic.toString():"")+(typeof param.name!='undefined'?"@O="+param.name.toString():"")+(typeof param.x!='undefined'?"@X="+param.x.toString():"")+(typeof param.y!='undefined'?"@Y="+param.y.toString():"")+"'>Als&nbsp;Ziel&nbsp;&#252;bernehmen</a>\
</div>\
<div class='jmap_infobox_content_row'>\
<a onclick='\
new CShowAjaxContent(\
{map:Map,showclosestops:true,\
requesturl:\"https://fahrplan.oebb.at/bin/query.exe/dny?&performLocating=2&tpl=stop2json&look_maxno=5&look_stopclass=1023&look_x="+(typeof param.x!='undefined'?param.x.toString():"0")+"&look_y="+(typeof param.y!='undefined'?param.y.toString():"0")+"\",\
x:"+(typeof param.x!='undefined'?param.x.toString():"0")+",y:"+(typeof param.y!='undefined'?param.y.toString():"0")+"});\
Map.centerToGeo(new CCoord({lon:"+(typeof param.x!='undefined'?param.x.toString():"0")+",lat:"+(typeof param.y!='undefined'?param.y.toString():"0")+"}));\
Map.setZoom(2000);'>\
Stationen in der N&#228;he\
</a>\
</div>\
<div class='jmap_infobox_content_row'>\
<a onclick='\
Map.centerToGeo(new CCoord({lon:"+(typeof param.x!='undefined'?param.x.toString():"0")+",lat:"+(typeof param.y!='undefined'?param.y.toString():"0")+"}));\
Map.setZoom(2000);'>\
Adresse zentrieren\
</a>\
</div>\
</div>\
";
t+="</div>";
t+="<div class='jmap_infobox_subcontent_map' id='adr_content_1_contentdiv'>";
t+="\
<div id='localmapdiv_"+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"' class='jmap_infobox_mapdiv'></div>\
";
t+="</div>";
t+="<div class='jmap_infobox_subcontent_bhftafelmulti' id='adr_content_2_contentdiv'>";
t+="\
<div>\
<div id='localdepdiv_"+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"' class='jmap_infobox_bhftafelmulti'>\
<iframe id='multidepiframe0a' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafeltitle'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<div class=\"jmap_menue_title\" onclick='this.className=(this.className==\"jmap_menue_title\")?\"jmap_menue_title_sel\":\"jmap_menue_title\";var f=document.getElementById(\"multidepiframe0b\");if(f.style.display==\"none\")f.style.display=\"block\";else f.style.display=\"none\";'></div>\
<iframe id='multidepiframe0b' style='display:none' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafelmini'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<iframe id='multidepiframe1a'\
class='jmap_infobox_iframe_bhftafeltitle' scrolling='no' frameborder='0'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<div class=\"jmap_menue_title\" onclick='this.className=(this.className==\"jmap_menue_title\")?\"jmap_menue_title_sel\":\"jmap_menue_title\";var f=document.getElementById(\"multidepiframe1b\");if(f.style.display==\"none\")f.style.display=\"block\";else f.style.display=\"none\";'></div>\
<iframe id='multidepiframe1b' style='display:none' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafelmini'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<iframe id='multidepiframe2a'\
class='jmap_infobox_iframe_bhftafeltitle' scrolling='no' frameborder='0'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<div class=\"jmap_menue_title\" onclick='this.className=(this.className==\"jmap_menue_title\")?\"jmap_menue_title_sel\":\"jmap_menue_title\";var f=document.getElementById(\"multidepiframe2b\");if(f.style.display==\"none\")f.style.display=\"block\";else f.style.display=\"none\";'></div>\
<iframe id='multidepiframe2b' style='display:none' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafelmini'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<iframe id='multidepiframe3a' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafeltitle'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<div class=\"jmap_menue_title\" onclick='this.className=(this.className==\"jmap_menue_title\")?\"jmap_menue_title_sel\":\"jmap_menue_title\";var f=document.getElementById(\"multidepiframe3b\");if(f.style.display==\"none\")f.style.display=\"block\";else f.style.display=\"none\";'></div>\
<iframe id='multidepiframe3b' style='display:none' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafelmini'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<iframe id='multidepiframe4a'\
class='jmap_infobox_iframe_bhftafeltitle' scrolling='no' frameborder='0'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<div class=\"jmap_menue_title\" onclick='this.className=(this.className==\"jmap_menue_title\")?\"jmap_menue_title_sel\":\"jmap_menue_title\";var f=document.getElementById(\"multidepiframe4b\");if(f.style.display==\"none\")f.style.display=\"block\";else f.style.display=\"none\";'></div>\
<iframe id='multidepiframe4b' style='display:none' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafelmini'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
</div>\
</div>\
";
t+="</div>";
t+="<div class='jmap_infobox_subcontent_bhftafelmulti' id='adr_content_3_contentdiv'>";
t+="\
<div>\
<div id='localarrdiv_"+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"' class='jmap_infobox_bhftafelmulti'>\
<iframe id='multiarriframe0a'\
class='jmap_infobox_iframe_bhftafeltitle' scrolling='no' frameborder='0'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<div class=\"jmap_menue_title\" onclick='this.className=(this.className==\"jmap_menue_title\")?\"jmap_menue_title_sel\":\"jmap_menue_title\";var f=document.getElementById(\"multiarriframe0b\");if(f.style.display==\"none\")f.style.display=\"block\";else f.style.display=\"none\";'></div>\
<iframe id='multiarriframe0b' style='display:none' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafelmini'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<iframe id='multiarriframe1a' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafeltitle'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<div class=\"jmap_menue_title\" onclick='this.className=(this.className==\"jmap_menue_title\")?\"jmap_menue_title_sel\":\"jmap_menue_title\";var f=document.getElementById(\"multiarriframe1b\");if(f.style.display==\"none\")f.style.display=\"block\";else f.style.display=\"none\";'></div>\
<iframe id='multiarriframe1b' style='display:none' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafelmini'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<iframe id='multiarriframe2a' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafeltitle'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<div class=\"jmap_menue_title\" onclick='this.className=(this.className==\"jmap_menue_title\")?\"jmap_menue_title_sel\":\"jmap_menue_title\";var f=document.getElementById(\"multiarriframe2b\");if(f.style.display==\"none\")f.style.display=\"block\";else f.style.display=\"none\";'></div>\
<iframe id='multiarriframe2b' style='display:none' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafelmini'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<iframe id='multiarriframe3a' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafeltitle'> scrolling='no' frameborder='0'\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<div class=\"jmap_menue_title\" onclick='this.className=(this.className==\"jmap_menue_title\")?\"jmap_menue_title_sel\":\"jmap_menue_title\";var f=document.getElementById(\"multiarriframe3b\");if(f.style.display==\"none\")f.style.display=\"block\";else f.style.display=\"none\";'></div>\
<iframe id='multiarriframe3b' style='display:none' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafelmini'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<iframe id='multiarriframe4a' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafeltitle'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<div class=\"jmap_menue_title\" onclick='this.className=(this.className==\"jmap_menue_title\")?\"jmap_menue_title_sel\":\"jmap_menue_title\";var f=document.getElementById(\"multiarriframe4b\");if(f.style.display==\"none\")f.style.display=\"block\";else f.style.display=\"none\";'></div>\
<iframe id='multiarriframe4b' style='display:none' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafelmini'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
</div>\
</div>\
";
t+="</div>";
t+="</div>";
return t;
};
// ]]>
</script>
<script type="text/javascript" language="javascript">
// <![CDATA[
function infotextpoi(param){ //map,extId,puic,name,x,y
var t="<div class='jmap_infobox'><ul class='jmap_slider'>";
t+="<li>"
t+="<a id='poi_content_0_titlediv' class='active' ";
t+="onclick='var t=document.getElementById(\"poi_content_0_titlediv\");var c=document.getElementById(\"poi_content_0_contentdiv\");";
t+="if(c.style.display!=\"block\")";
t+="{document.getElementById(\"poi_content_0_contentdiv\").style.display=\"none\";document.getElementById(\"poi_content_0_titlediv\").className=\"\";t.className=\"active\";c.style.display=\"block\";\
";
t+="}'>";
t+="POI";
t+="</a></li>";
t+="</ul>";
t+="<div class='jmap_infobox_subcontent_standard' id='poi_content_0_contentdiv' style='display:block'>";
t+="\
<div>\
<div class='jmap_infobox_content_row'>\
<a href='https://fahrplan.oebb.at/bin/query.exe/dn?protocol=https:&SID=A=4"+(typeof param.extId!='undefined'?"@L="+param.extId.toString():"")+(typeof param.puic!='undefined'?"@U="+param.puic.toString():"")+(typeof param.name!='undefined'?"@O="+param.name.toString():"")+(typeof param.x!='undefined'?"@X="+param.x.toString():"")+(typeof param.y!='undefined'?"@Y="+param.y.toString():"")+"'>Als&nbsp;Start&nbsp;&#252;bernehmen</a>\
</div>\
<div class='jmap_infobox_content_row'>\
<a href='https://fahrplan.oebb.at/bin/query.exe/dn?protocol=https:&ZID=A=4"+(typeof param.extId!='undefined'?"@L="+param.extId.toString():"")+(typeof param.puic!='undefined'?"@U="+param.puic.toString():"")+(typeof param.name!='undefined'?"@O="+param.name.toString():"")+(typeof param.x!='undefined'?"@X="+param.x.toString():"")+(typeof param.y!='undefined'?"@Y="+param.y.toString():"")+"'>Als&nbsp;Ziel&nbsp;&#252;bernehmen</a>\
</div>\
</div>\
";
t+="</div>";
t+="</div>";
return t;
};
// ]]>
</script>
<script type="text/javascript" language="javascript">
// <![CDATA[
function infotextmap(param){ //map,extId,puic,name,x,y
if(typeof param.x=='undefined'&&typeof param.lon!='undefined')param.x=param.lon;
if(typeof param.y=='undefined'&&typeof param.lat!='undefined')param.y=param.lat;
var t="<div class='jmap_infobox'><ul class='jmap_slider'>";
t+="<li>"
t+="<a id='map_content_0_titlediv' class='active' ";
t+="onclick='var t=document.getElementById(\"map_content_0_titlediv\");var c=document.getElementById(\"map_content_0_contentdiv\");";
t+="if(c.style.display!=\"block\")";
t+="{document.getElementById(\"map_content_0_contentdiv\").style.display=\"none\";document.getElementById(\"map_content_0_titlediv\").className=\"\";t.className=\"active\";c.style.display=\"block\";\
";
t+="}'>";
t+="Info";
t+="</a></li>";
t+="</ul>";
t+="<div class='jmap_infobox_subcontent_standard' id='map_content_0_contentdiv' style='display:block'>";
t+="\
<div>\
<div class='jmap_infobox_content_row'>\
<a id='infoBoxFrom' href='https://fahrplan.oebb.at/bin/query.exe/dn?SID=A=16"+(typeof param.name!='undefined'?"@O="+param.name.toString():"@O=Auswahl%20aus%20Karte")+(typeof param.x!='undefined'?"@X="+param.x.toString():"")+(typeof param.y!='undefined'?"@Y="+param.y.toString():"")+"'>Als&nbsp;Start&nbsp;&#252;bernehmen</a>\
</div>\
<div class='jmap_infobox_content_row'>\
<a id='infoBoxTo' href='https://fahrplan.oebb.at/bin/query.exe/dn?ZID=A=16"+(typeof param.name!='undefined'?"@O="+param.name.toString():"@O=Auswahl%20aus%20Karte")+(typeof param.x!='undefined'?"@X="+param.x.toString():"")+(typeof param.y!='undefined'?"@Y="+param.y.toString():"")+"'>Als&nbsp;Ziel&nbsp;&#252;bernehmen</a>\
</div>\
<div class='jmap_infobox_content_row'>\
<a onclick='\
clearStationsNear(Map_oebbmap);\
new CShowAjaxContent(\
{globalContentReminder:getStationsNearContent,map:Map_oebbmap,showclosestops:true,\
requesturl:\"https://fahrplan.oebb.at/bin/query.exe/dny?&performLocating=2&tpl=stop2json&look_maxno=5&look_stopclass=1023&look_x="+(typeof param.x!='undefined'?param.x.toString():"0")+"&look_y="+(typeof param.y!='undefined'?param.y.toString():"0")+"\",\
x:"+(typeof param.x!='undefined'?param.x.toString():"0")+",y:"+(typeof param.y!='undefined'?param.y.toString():"0")+"});\
Map_oebbmap.centerToGeo(new CCoord({lon:"+(typeof param.x!='undefined'?param.x.toString():"0")+",lat:"+(typeof param.y!='undefined'?param.y.toString():"0")+"}));\
Map_oebbmap.setZoom(2000);'>\
Stationen in der N&#228;he\
</a>\
</div>\
<div class='jmap_infobox_content_row'>\
<a onclick='\
Map_oebbmap.centerToGeo(new CCoord({lon:"+(typeof param.x!='undefined'?param.x.toString():"0")+",lat:"+(typeof param.y!='undefined'?param.y.toString():"0")+"}));\
Map_oebbmap.setZoom(2000);'>\
Karte auf ausgew&#228;hlten Punkt zentrieren\
</a>\
</div>\
<input type='hidden' id='HFS_currentLoc' value=''\/>\
<input type='hidden' id='HFS_currentLocId' value=''\/>\
</div>\
";
t+="</div>";
t+="</div>";
if(typeof param.titleid!='undefined'){
if(param.map.getZoom() < 12000){
var url = "https://fahrplan.oebb.at/bin/query.exe/dny?performLocating=512&tpl=reverselookup2json&look_nv=type|reverselookup|x|"+param.x+"|y|"+param.y;
var type = "address";
}else{
var url = "https://fahrplan.oebb.at/bin/query.exe/dny?performLocating=2&tpl=stop2json&look_x="+param.x+"&look_y="+param.y+"&look_stopclass=1023&look_maxno=1&look_maxdist=2500&";
var type = "stop";
}
if(url!=null){
var request = new Ajax.Request(
url,
{
method: 'post',
onComplete: function(r){
if(r.responseText!=""){
var o = eval('('+ r.responseText + ')');
if(parseInt(o.error)==0){
if(type == "address"){
param.map.replaceCurrentInfoboxTitle(param.titleid,o.name + ' (' + o.dist + 'm)');
document.getElementById('HFS_currentLoc').value = o.name;
document.getElementById('HFS_currentLocId').value = "A=2@O="+param.map.decode(o.name)+"@X="+o.x+"@Y="+o.y;
}else{
param.map.replaceCurrentInfoboxTitle(param.titleid,o.stops[0].name + ' (' + o.stops[0].dist + 'm)');
document.getElementById('HFS_currentLoc').value = o.name;
document.getElementById('HFS_currentLocId').value = "A=1@O="+param.map.decode(o.stops[0].name)+"@X="+o.stops[0].x+"@Y="+o.stops[0].y+"@U=" + o.stops[0].puic + "@L="+o.stops[0].extId+"@p="+o.stops[0].planId;
}
if(document.getElementById('infoBoxFrom')){
document.getElementById('infoBoxFrom').href = "https://fahrplan.oebb.at/bin/query.exe/dn?SID=" + document.getElementById('HFS_currentLocId').value;
}
if(document.getElementById('infoBoxTo')){
document.getElementById('infoBoxTo').href = "https://fahrplan.oebb.at/bin/query.exe/dn?ZID=" + document.getElementById('HFS_currentLocId').value;
}
}
}
}
}
);
}
}
return t;
};
// ]]>
</script>
<script type="text/javascript" language="javascript">
// <![CDATA[
var gOEBBInfoText=null;
var gOEBBInfoTextHash=null;
function safeinfotextdata(r){
gOEBBInfoText=r.getResult();
gOEBBInfoTextHash=new Hash;
var l=gOEBBInfoText.oebbdata.length;
var i=0;
while(i<l){
gOEBBInfoTextHash.set(gOEBBInfoText.oebbdata[i][1].toString(),true);
i++;
}
}
// ]]>
</script>
<div id="contentmenuebackground" onclick="closeMenues()"></div>
<script type="text/javascript">
/* <![CDATA[ */
gImagePath = '/hafas-res/img/';
gJSMapImagePath =gImagePath+"vs_scotty/js/";
/* ]]> */
</script>
<script type="text/javascript">
/* <![CDATA[ */
gDynamicTileParameterGoogle = 'proj=google&';
gDynamicTileParameterPTV = 'proj=ptv&';
gDynamicTileParameterOEBB = 'style=oebb&type=static&';
gStaticTileDirGoogle = 'google/';
gStaticTileDirPTV = 'ptv/';
/* ]]> */
</script>
<script type="text/javascript" src="/hafas-res/js/suggest/FSuggest_v1.0.js"></script>
<div style="float:left;">
<div style="float:left;width:300px;">
<div>
<strong>Auf Karte suchen:</strong>
</div>
<div style="height:23px;">
<form id="search" onsubmit="searchAjax();return false;" action="javascript:void(0);">
<input name="location" style="width:218px;" type="text" id="searchOnMap" placeholder="Station, Adresse, Sehensw&#252;rdigkeit eingeben"/> <input class="button" type="submit" value="Suchen"/>
</form>
</div>
<div>
<a href="javascript:void(0);" onclick="deleteCurrentInput('oebbmap');">Eingabe l&ouml;schen</a>
</div>
</div>
<div style="float:left;margin-left:15px;">
<div>
<strong>Weitere Optionen</strong>
</div>
<div>
<a target='_blank' href="//fahrplan.oebb.at/bin/help.exe/dn?tpl=rssfeed&amp;" style="font-weight: normal; font-size: 12px;"><img alt="RSS Feed" style="border: medium none; vertical-align: bottom;" src="/hafas-res/img/icon_rss.png"/></a> <a target='_blank' href="//fahrplan.oebb.at/bin/help.exe/dn?tpl=rssfeed&amp;" style="font-weight: normal; font-size: 11px;">RSS</a><br/>
<a href="javascript:void(0);" onclick="printMap();"><img alt="Seite drucken" title="Seite drucken" style="vertical-align:bottom;" src="/hafas-res/img/icon_print.gif"/></a>&nbsp;<a href="javascript:void(0);" onclick="printMap();">Seite drucken</a>
</div>
</div>
<div style="float:left;margin-left:15px;">
<script type="text/javascript">
var changeFederalState = function(){
if(document.getElementById('selectorFederalState').selectedIndex > 0){
// Map_oebbmap.setBoundingBox(federalStates[document.getElementById('selectorFederalState').selectedIndex -1]);
Map_oebbmap.centerToGeo(federalStates[document.getElementById('selectorFederalState').selectedIndex-1].coord);
Map_oebbmap.setZoom(federalStates[document.getElementById('selectorFederalState').selectedIndex-1].zoom);
}
}
var federalStates = new Array();
//federalStates.push({ ne:{x: 17160725,y:48118780}, sw:{x: 15998825,y:46834822} });
federalStates.push({coord:new CCoord({lon:16579775,lat:47480723}),zoom:240846});
//federalStates.push({ ne:{x: 16006619,y:47489177}, sw:{x: 12671258,y:45843766} });
federalStates.push({coord:new CCoord({lon:14338938,lat:46672732}),zoom:240846});
//federalStates.push({ ne:{x: 17567879,y:49058671}, sw:{x: 14232517,y:47462415} });
federalStates.push({coord:new CCoord({lon:15900198,lat:48266774}),zoom:240846});
//federalStates.push({ ne:{x: 15876218,y:49212710}, sw:{x: 12540856,y:47621347} });
federalStates.push({coord:new CCoord({lon:14208537,lat:48423256}),zoom:240846});
//federalStates.push({ ne:{x: 14637992,y:48347973}, sw:{x: 11302630,y:46729301} });
federalStates.push({coord:new CCoord({lon:12970311,lat:47544884}),zoom:240846});
//federalStates.push({ ne:{x: 16156536,y:47830097}, sw:{x: 13561513,y:46611586} });
federalStates.push({coord:new CCoord({lon:14859024,lat:47224342}),zoom:240846});
//federalStates.push({ ne:{x: 12966572,y:47743186}, sw:{x: 10096616,y:46650069} });
federalStates.push({coord:new CCoord({lon:11531594,lat:47199443}),zoom:240846});
//federalStates.push({ ne:{x: 10225461,y:47597197}, sw:{x: 9529883,y:46840758} });
federalStates.push({coord:new CCoord({lon:9877672,lat:47220327}),zoom:151476});
//federalStates.push({ ne:{x: 16579725,y:48322319}, sw:{x: 16179405,y:48118727} });
federalStates.push({coord:new CCoord({lon:16379565,lat:48220624}),zoom:37683});
</script>
<select autocomplete="off" id="selectorFederalState" onchange="javascript:changeFederalState();">
<option>Auswahl Bundesland</option>
<option>Burgenland</option>
<option>K&#228;rnten</option>
<option>Nieder&#246;sterreich</option>
<option>Ober&#246;sterreich</option>
<option>Salzburg</option>
<option>Steiermark</option>
<option>Tirol</option>
<option>Vorarlberg</option>
<option>Wien</option>
</select>
</div>
</div>
<div style="clear:both;"></div>
<div style="margin-bottom:5px;padding-bottom:10px;" class="showMapAll">
<div style="margin-top:0px;">
<script type="text/javascript">
gImagePath = '/hafas-res/img/vs_scotty/';
gJSMapImagePath =gImagePath+"js/";
</script>
<div id="noDisplayPossibleoebbmap" style="z-index:2000000001;display:none;position:absolute;left:0px;top:0px;background-color:#FFF3DF;border:1px solid #B0B0B0;padding:4px;">
Darstellung in dieser Zoomstufe nicht m&ouml;glich. Bitte zoomen Sie f&#252;r weitere Auswahlm&ouml;glichkeiten und Detaildarstellung in die Karte.
</div>
<div class="ajaxmapdiv" style="position:relative;float:left;width:765px !important;height:550px !important">
<div id="oebbmap" style="overflow:hidden;left:0;top:0;width:765px !important;height:550px !important;"></div>
</div>
<div class="MapRouteDesc" id="routeDescStart" style="display:none;"></div>
<div class="MapRouteDesc" id="routeDescEnd" style="display:none;"></div>
<div class="MapRouteDesc" id="routeDescRoute" style="display:none;"></div>
<script type='text/javascript' language='javascript'>
// <![CDATA[
var Map;
var ConnMap = null;
var ConnMapA = null;
var ConnMapB = null;
var ConnStartDesc = null;
var ConnDestDesc = null;
var ConnRouteDesc = null;
var MapCenter = "undefined";
function updateHimMessages()
{
}
function handleMapPolyStartAjaxResult_oebbmap(r) {
var conn=eval('('+r.responseText+')');
ConnStartDesc = conn.sections[0].routedesc;
ConnMapA=new CHafasConnectionMap(Map_oebbmap,conn,{showGisRouteType0:true,travelplannerurl:'https://fahrplan.oebb.at/bin/query.exe/dn?',stationboardurl:'https://fahrplan.oebb.at/bin/stboard.exe/dn?protocol=https:&',tStart:"<span class='red'>&#187;</span>Als&nbsp;Start&nbsp;&#252;bernehmen",tDestination:"<span class='red'>&#187;</span>Als&nbsp;Ziel&nbsp;&#252;bernehmen",tArrival:"<span class='red'>&#187;</span>Aktuelle&nbsp;Ankunftstafel",tDeparture:"<span class='red'>&#187;</span>Aktuelle&nbsp;Abfahrtsstafel",ttStart:"Als&nbsp;Start&nbsp;&#252;bernehmen",ttDestination:"Als&nbsp;Ziel&nbsp;&#252;bernehmen",ttArrival:"Aktuelle&nbsp;Ankunftstafel",ttDeparture:"Aktuelle&nbsp;Abfahrtsstafel"});
ConnMapA.show();
connMapArray["S"] = ConnMapA;
startDesc = new mapDescription({"loc":"Start","data":ConnStartDesc,"type":conn.sections[0].gisRouteType});
if(conn.MapCenter=="START")
{
startDesc.show();
}
}
function handleMapPolyEndAjaxResult_oebbmap(r){
var conn=eval('('+r.responseText+')');
ConnDestDesc = conn.sections[0].routedesc;
ConnMapB=new CHafasConnectionMap(Map_oebbmap,conn,{showGisRouteType0:true,travelplannerurl:'https://fahrplan.oebb.at/bin/query.exe/dn?',stationboardurl:'https://fahrplan.oebb.at/bin/stboard.exe/dn?protocol=https:&',tStart:"<span class='red'>&#187;</span>Als&nbsp;Start&nbsp;&#252;bernehmen",tDestination:"<span class='red'>&#187;</span>Als&nbsp;Ziel&nbsp;&#252;bernehmen",tArrival:"<span class='red'>&#187;</span>Aktuelle&nbsp;Ankunftstafel",tDeparture:"<span class='red'>&#187;</span>Aktuelle&nbsp;Abfahrtsstafel",ttStart:"Als&nbsp;Start&nbsp;&#252;bernehmen",ttDestination:"Als&nbsp;Ziel&nbsp;&#252;bernehmen",ttArrival:"Aktuelle&nbsp;Ankunftstafel",ttDeparture:"Aktuelle&nbsp;Abfahrtsstafel"});
ConnMapB.show();
connMapArray["E"] = ConnMapB;
destDesc = new mapDescription({"loc":"End","data":ConnDestDesc,"type":conn.sections[0].gisRouteType});
if(conn.MapCenter=="END")
{
destDesc.show();
}
}
function handleMapPolyRouteAjaxResult_oebbmap(r){
var conn=eval('('+r.responseText+')');
ConnRouteDesc = conn.sections[0].routedesc;
ConnMapRoute=new CHafasConnectionMap(Map_oebbmap,conn,{showGisRouteType0:true,travelplannerurl:'https://fahrplan.oebb.at/bin/query.exe/dn?',stationboardurl:'https://fahrplan.oebb.at/bin/stboard.exe/dn?protocol=https:&',tStart:"<span class='red'>&#187;</span>Als&nbsp;Start&nbsp;&#252;bernehmen",tDestination:"<span class='red'>&#187;</span>Als&nbsp;Ziel&nbsp;&#252;bernehmen",tArrival:"<span class='red'>&#187;</span>Aktuelle&nbsp;Ankunftstafel",tDeparture:"<span class='red'>&#187;</span>Aktuelle&nbsp;Abfahrtsstafel",ttStart:"Als&nbsp;Start&nbsp;&#252;bernehmen",ttDestination:"Als&nbsp;Ziel&nbsp;&#252;bernehmen",ttArrival:"Aktuelle&nbsp;Ankunftstafel",ttDeparture:"Aktuelle&nbsp;Abfahrtsstafel"});
ConnMapRoute.show();
routeDesc = new mapDescription({"loc":"Route","data":ConnRouteDesc,"type":conn.sections[0].gisRouteType});
if(conn.MapCenter=="ROUTE")
{
ConnMap.centerRoute();
routeDesc.show();
}
}
if(typeof Map_oebbmap_InitFunctions=="undefined")Map_oebbmap_InitFunctions=new Array;
if(typeof connMapArray=="undefined")connMapArray=new Array;
initCHafasConnection_oebbmap=function(){
if(typeof jsonObj != 'undefined'){
HafasMap = new CHafasConnectionMap( Map_oebbmap, jsonObj, {"showGisRouteType0":false,"opacityfactor":1.0} );
HafasMap.show();
connMapArray[""] = HafasMap;
var l=HafasMap.conn.sections.length;
var baseURL = "https://fahrplan.oebb.at/bin/query.exe/dn?L=vs_scotty.vs_json&tpl=mappoly2json&"+
"performGis=1&REQMapConnectionId=&MapConnectionId=&REQMapWidth=100&REQMapHeight=100&"+
"application=DIRECTIONS&guiVCtrl_connection_directions_onlyElement_&";
var RouteUrl = baseURL + "MapCenter=ROUTE&REQMapConnectionSection=COMPLETE&MapConnectionSection=0&gType="+HafasMap.conn.sections[0].gisRouteType;
var StartUrl = baseURL + "MapCenter=START&REQMapConnectionSection=START&MapConnectionSection=0&gType="+HafasMap.conn.sections[0].gisRouteType;
var EndUrl   = baseURL + "MapCenter=END&REQMapConnectionSection=END&MapConnectionSection="+(l-1).toString()+"&gType="+HafasMap.conn.sections[l-1].gisRouteType;
if(HafasMap.conn.sections.length>0)
{
if(typeof HafasMap.conn.sections[0].type!='undefined' && HafasMap.conn.sections[0].type=="GIS_ROUTE" && typeof HafasMap.conn.sections[0].gisRouteType!='undefined' && (HafasMap.conn.sections[0].gisRouteType=="0" || HafasMap.conn.sections[0].gisRouteType=="1" || HafasMap.conn.sections[0].gisRouteType=="2" || HafasMap.conn.sections[0].gisRouteType=="3" || HafasMap.conn.sections[0].gisRouteType=="4" || HafasMap.conn.sections[0].gisRouteType=="5"))
{
new Ajax.Request( StartUrl,{
"method": "post",
"onComplete": function(o){
handleMapPolyStartAjaxResult_oebbmap(o,"",{"showGisRouteType0":true,travelplannerurl:'https://fahrplan.oebb.at/bin/query.exe/dn?',stationboardurl:'https://fahrplan.oebb.at/bin/stboard.exe/dn?protocol=https:&',tStart:"<span class='red'>&#187;</span>Als&nbsp;Start&nbsp;&#252;bernehmen",tDestination:"<span class='red'>&#187;</span>Als&nbsp;Ziel&nbsp;&#252;bernehmen",tArrival:"<span class='red'>&#187;</span>Aktuelle&nbsp;Ankunftstafel",tDeparture:"<span class='red'>&#187;</span>Aktuelle&nbsp;Abfahrtsstafel",ttStart:"Als&nbsp;Start&nbsp;&#252;bernehmen",ttDestination:"Als&nbsp;Ziel&nbsp;&#252;bernehmen",ttArrival:"Aktuelle&nbsp;Ankunftstafel",ttDeparture:"Aktuelle&nbsp;Abfahrtsstafel"});
},
"onException": function(o,e){
//console.info('Exception: '+ e.name+ ' | '+ e.message);
}
});
}
if(typeof HafasMap.conn.sections[l-1].type!='undefined' && HafasMap.conn.sections[l-1].type=="GIS_ROUTE" && typeof HafasMap.conn.sections[l-1].gisRouteType!='undefined' && (HafasMap.conn.sections[l-1].gisRouteType=="0" || HafasMap.conn.sections[l-1].gisRouteType=="1" || HafasMap.conn.sections[l-1].gisRouteType=="2" || HafasMap.conn.sections[l-1].gisRouteType=="3" || HafasMap.conn.sections[l-1].gisRouteType=="4" || HafasMap.conn.sections[l-1].gisRouteType=="5"))
{
window.setTimeout(function(){
new Ajax.Request( EndUrl,{method: 'post',
onComplete: function(o){
handleMapPolyEndAjaxResult_oebbmap(o,"",{"showGisRouteType0":true,travelplannerurl:'https://fahrplan.oebb.at/bin/query.exe/dn?',stationboardurl:'https://fahrplan.oebb.at/bin/stboard.exe/dn?protocol=https:&',tStart:"<span class='red'>&#187;</span>Als&nbsp;Start&nbsp;&#252;bernehmen",tDestination:"<span class='red'>&#187;</span>Als&nbsp;Ziel&nbsp;&#252;bernehmen",tArrival:"<span class='red'>&#187;</span>Aktuelle&nbsp;Ankunftstafel",tDeparture:"<span class='red'>&#187;</span>Aktuelle&nbsp;Abfahrtsstafel",ttStart:"Als&nbsp;Start&nbsp;&#252;bernehmen",ttDestination:"Als&nbsp;Ziel&nbsp;&#252;bernehmen",ttArrival:"Aktuelle&nbsp;Ankunftstafel",ttDeparture:"Aktuelle&nbsp;Abfahrtsstafel"});
}
});
},1000);
}
}
}
};
if(typeof Map_oebbmap_InitFunctions == "undefined"){
Map_oebbmap_InitFunctions=new Array();
}
Map_oebbmap_InitFunctions[Map_oebbmap_InitFunctions.length++]=initCHafasConnection_oebbmap;
function showAjaxMap_oebbmap(){
Map_oebbmap = new CPTVMap('oebbmap',
{zoom:402000,
wheelZoom:false,
coord:new CCoord({lon:13455485,
lat:47626324})
,rightinfoclicktitle:''
,rightinfoclickcontent:infotextmap
,language:'d'
,profileGroup:'oebbtrack'
,onshow:function(){
var initLength=Map_oebbmap_InitFunctions.length;
for(var i=0;i<initLength;++i){
Map_oebbmap_InitFunctions[i]();
}
}
,tZoomIn        :'Hineinzoomen',tZoomOut       :'Herauszoomen',tZoomMode      :'In Zoommodus wechseln',tMoveMode      :'In Verschiebemodus wechseln',tOverview      :'Ein- bzw. Ausblenden der &#220;bersichtskarte',tReset         :'Initiale Ansicht',tHistoryBack   :'Ein Schritt zur&#252;ck in der Historyliste',tHistoryForward:'Ein Schritt vorw&#228;rts in der Historyliste',tMeasure       :'Distanzmesswerkzeug'
});
Map_oebbmap.show();
}
var mapTexts = new Hash ({FROM:"von",TO:"nach",ON:"auf",LEFT:"links abbiegen",RIGHT:"rechts abbiegen",KEEP_LEFT:"links halten",KEEP_RIGHT:"rechts halten",HALF_LEFT:"halblinks",HALF_RIGHT:"halbrechts",KEEP_HALF_LEFT:"halblinks halten",KEEP_HALF_RIGHT:"halbrechts halten",SHARP_LEFT:"scharf links",SHARP_RIGHT:"scharf rechts",KEEP_SHARP_LEFT:"scharf links halten",KEEP_SHARP_RIGHT:"scharf rechts halten",STRAIGHT:"geradeaus",UTURN:"wenden",ENTER:"auffahren auf",LEAVE:"verlassen",ENTER_ROUNDABOUT:"in den Kreisverkehr einbiegen",STAY_IN_ROUNDABOUT:"im Kreisverkehr bleiben",LEAVE_ROUNDABOUT:"aus dem Kreisverkehr abbiegen",ENTER_FERRY:"auffahren auf F&#228;hre",LEAVE_FERRY:"F&#228;hre verlassen",CHANGE_HIGHWAY:"Strasse wechseln",UNKNOWN:"&nbsp;",caption:["Ihr Fu&#223;weg","Ihre Fahrradroute","Ihre PKW-Route","Ihre PKW-Route","Ihre Taxiroute","Ihre Taxiroute"],direction:"Richtung:",street:"Stra&#223;e",distance:"Entfernung",duration:"Dauer",minutes:"Min.",atStart:"am Start",atEnd:"am Ziel",approx:"ca."}) 
var mapDescription = Class.create();
mapDescription.prototype = {
initialize: function(paramObj){
this.dataObj = paramObj.data;
this.descContainerId = "routeDesc" + paramObj.loc;  /* start/end */
this.descType = paramObj.type; /* PKW RAD Fu&#223; ;-) */
this.startIcon = '<img style="vertical-align:center" src="/hafas-res/img/jsmap/hafasconnection/icon_'+(this.dataObj.startLocType).toLowerCase()+'.png" alt="'+this.dataObj.startLoc+'" title="'+this.dataObj.startLoc+'">';
this.destIcon  = '<img style="vertical-align:center" src="/hafas-res/img/jsmap/hafasconnection/icon_'+(this.dataObj.destLocType).toLowerCase()+'.png" alt="'+this.dataObj.destLoc+'" title="'+this.dataObj.destLoc+'">';
this.draw();
},
draw:function(){
var mapTextSuffix = "";
if(this.descContainerId == "routeDescEnd") {mapTextSuffix = mapTexts['atEnd']};
if(this.descContainerId == "routeDescStart") {mapTextSuffix = mapTexts['atStart']};
//var textRoute = '<div class=\"MapRouteDescCaption\">'+mapTexts['caption'][this.descType]+'</div>';
var textRoute = '<h2 class="separator mapRouteDescription" style="padding:4px">&nbsp;' + mapTexts['caption'][this.descType]+' ' + mapTextSuffix + '</h2>'
+ '<table class="MapRouteDesc resultTable" cellspacing="0">'
+ '<tr>'
+ '<th>'+mapTexts['direction']+'</th>'
+ '<th>'+mapTexts['street']+'</th>'
+ '<th>'+mapTexts['distance']+'</th>'
+ '</tr>';
textRoute += '<tr><td>'+ this.startIcon +'</td><td class=\"start_loc\">'+ this.dataObj.startLoc +'</td><td>&nbsp;</td></tr>';
for (var n=0;n<this.dataObj.Segment.length;n++) {
textRoute += "<tr>";
textRoute += // not used: ManoeuvreDistance,Duration,DurationScheduled,RoadType,Orientation,PolyStart,PolyEnd,ManoeuvreTime,ManoeuvreTimeScheduled,ManoeuvreText
"<td>"+ mapTexts[this.dataObj.Segment[n].Manoeuvre] +"</td>" +
"<td>"+ this.dataObj.Segment[n].Name +"</td>"+
"<td class=\"distance\">"+ this.dataObj.Segment[n].Distance +" m</td>";
textRoute += "</tr>";
}
textRoute += '<tr><td>'+ this.destIcon +'</td><td class=\"dest_loc\"><b>'+ this.dataObj.destLoc +'</td><td>&nbsp;</td></tr>';
var distanceOut = "<span>" +mapTexts['distance'] + ":</span> " + this.roundDistance(this.dataObj.totalDistance);
var durationOut = "<span>" +mapTexts['duration'] + ":</span> " +this.getTime(this.dataObj.totalDuration);
textRoute += '<tr><td>&nbsp;</td><td>'+ durationOut +'</td><td>&nbsp;</td></tr>';
textRoute += '<tr><td>&nbsp;</td><td>'+ distanceOut +'</td><td>&nbsp;</td></tr>';
textRoute += "</table>";
document.getElementById(this.descContainerId).innerHTML = textRoute;
},
show:function(){
document.getElementById(this.descContainerId).style.display = "block";
},
hide:function(){
document.getElementById(this.descContainerId).style.display = "none";
},
error:function(){
},
roundDistance:function (dis){
if (dis < 500) /* Distance is < 500 m -> rounded with a precision of 10 m */
return mapTexts['approx']+"&nbsp;" + Math.round(dis/10)*10+"&nbsp;m";
else
{
var currentDistanceTemp = Math.round(dis/100)*100;
if (dis < 10000) /* Distance is < 10000 m  -> rounded with a precision of 100 m*/
return mapTexts['approx']+"&nbsp;" + parseInt(currentDistanceTemp/1000)+","+(currentDistanceTemp%1000)/100+"&nbsp;km";
else
return mapTexts['approx']+"&nbsp;" + parseInt(currentDistanceTemp/1000) +"&nbsp;km";
}
},
getTime:function(duration){
var minutes  = parseInt(duration/60);
var hours    = parseInt(minutes/60);
if(hours == 0)
return minutes + "&nbsp;"+mapTexts['minutes'];
else
return (minutes<10)? hours+":0"+minutes+" h":hours+":"+minutes+" h";
}
}
Event.observe(window,"load",showAjaxMap_oebbmap);
// ]]>
</script>
</div>
<div style="float:left;width:170px;margin-top: 10px;background-color:white;text-align:left;">
<div id="mainMenuContainer" class="mainMenuContainer" style="min-height:550px;margin-left:-1px;border:1px solid black;width:180px;text-align: left;">
<div class="trackInfoMenu">
<div id="headlineCountryoebbmap" onclick="javascript:openMapMenu('Countryoebbmap');" class="menuheadline activeMenu">
<strong>Meldungen in den L&#228;ndern</strong>
</div>
<script type="text/javascript">
var countryInformation = new Object();
var countryOrder = new Array();
countryInformation["81"] = {
ne:{x: 17657772,y:49622977},
sw:{x: 9253198,y:45550381},
name: "Österreich",
image: "/hafas-res/img/him/flags/flag_austria.gif"
};
countryOrder.push(81);
countryInformation["80"] = {
ne:{x: 15125627,y:54835563},
sw:{x: 5998802,y:47381705},
name: "Deutschland",
image: "/hafas-res/img/him/flags/flag_germany.gif"
};
countryOrder.push(80);
countryInformation["54"] = {
ne:{x: 18789369,y:50998022},
sw:{x: 12109655,y:48565505},
name: "Tschechien",
image: "/hafas-res/img/him/flags/flag_czech.gif"
};
countryOrder.push(54);
countryInformation["56"] = {
ne:{x: 22568680,y:49587377},
sw:{x: 16811822,y:47722491},
name: "Slowakei",
image: "/hafas-res/img/him/flags/flag_slowakia.gif"
};
countryOrder.push(56);
countryInformation["55"] = {
ne:{x: 22920244,y:48572775},
sw:{x: 16119680,y:45711713},
name: "Ungarn",
image: "/hafas-res/img/him/flags/flag_hungary.gif"
};
countryOrder.push(55);
countryInformation["78"] = {
ne:{x: 19456119,y:46528622},
sw:{x: 14237591,y:42964436},
name: "Kroatien",
image: "/hafas-res/img/him/flags/flag_croatia.gif"
};
countryOrder.push(78);
countryInformation["79"] = {
ne:{x: 16603080,y:46925672},
sw:{x: 13435905,y:45424516},
name: "Slowenien",
image: "/hafas-res/img/him/flags/flag_slovenia.gif"
};
countryOrder.push(79);
countryInformation["83"] = {
ne:{x: 18613869,y:46898038},
sw:{x: 6958955,y:36896083},
name: "Italien",
image: "/hafas-res/img/him/flags/flag_italy.gif"
};
countryOrder.push(83);
countryInformation["85"] = {
ne:{x: 10903794,y:48185501},
sw:{x: 5609241,y:45584599},
name: "Schweiz",
image: "/hafas-res/img/him/flags/flag_swiss.gif"
};
countryOrder.push(85);
countryInformation["120"] = {
ne:{x: 9627519,y:47263491},
sw:{x: 9474922,y:47051508},
name: "Liechtenstein",
image: "/hafas-res/img/him/flags/flag_swiss.gif"
};
countryOrder.push(120);
countryInformation["88"] = {
ne:{x: 6380752,y:51487997},
sw:{x: 2594975,y:49457797},
name: "Belgien",
image: "/hafas-res/img/him/flags/flag_belgium.gif"
};
countryOrder.push(88);
countryInformation["52"] = {
ne:{x: 28700083,y:44127294},
sw:{x: 22439208,y:41217444},
name: "Bulgarien",
image: "/hafas-res/img/him/flags/flag_bulgaria.gif"
};
countryOrder.push(52);
countryInformation["86"] = {
ne:{x: 12814563,y:57829894},
sw:{x: 7716897,y:54885825},
name: "Dänemark",
image: "/hafas-res/img/him/flags/flag_denmark.gif"
};
countryOrder.push(86);
countryInformation["87"] = {
ne:{x: 8188094,y:50998652},
sw:{x: -4878698,y:42650463},
name: "Frankreich",
image: "/hafas-res/img/him/flags/flag_france.gif"
};
countryOrder.push(87);
countryInformation["82"] = {
ne:{x: 6524602,y:50180958},
sw:{x: 5744566,y:49441888},
name: "Luxenburg",
image: "/hafas-res/img/him/flags/flag_lux.gif"
};
countryOrder.push(82);
countryInformation["84"] = {
ne:{x: 7205941,y:53560950},
sw:{x: 3316766,y:50765377},
name: "Niederlande",
image: "/hafas-res/img/him/flags/flag_netherlands.gif"
};
countryOrder.push(84);
countryInformation["51"] = {
ne:{x: 23869266,y:54853205},
sw:{x: 14152225,y:48954477},
name: "Polen",
image: "/hafas-res/img/him/flags/flag_poland.gif"
};
countryOrder.push(51);
countryInformation["94"] = {
ne:{x: -6157867,y:42154183},
sw:{x: -9464764,y:36922363},
name: "Portugal",
image: "/hafas-res/img/him/flags/flag_portugal.gif"
};
countryOrder.push(94);
countryInformation["53"] = {
ne:{x: 29711588,y:48346772},
sw:{x: 20328997,y:43611819},
name: "Rumänien",
image: "/hafas-res/img/him/flags/flag_romania.gif"
};
countryOrder.push(53);
countryInformation["71"] = {
ne:{x: 4398261,y:43641855},
sw:{x: -9139159,y:36000955},
name: "Spanien",
image: "/hafas-res/img/him/flags/flag_spain.gif"
};
countryOrder.push(71);
countryInformation["70"] = {
ne:{x: 2093883,y:60795819},
sw:{x: -8112464,y:49891511},
name: "Vereinigtes Königreich",
image: "/hafas-res/img/him/flags/flag_uk.gif"
};
countryOrder.push(70);
countryInformation["72"] = {
ne:{x: 22783913,y:46127063},
sw:{x: 18877405,y:41877216},
name: "Serbien",
image: "/hafas-res/img/him/flags/flag_serbia.gif"
};
countryOrder.push(72);
</script>
<div id="menuCountryoebbmapWrap">
<div id="menuCountryoebbmap">
<script type="text/javascript">
var countryMsgCount = new Object;
function createCountryMenuEntry(uic,count){
var parent = document.getElementById('menuCountryoebbmap');
var countryDiv = document.createElement('div');
countryDiv.id = 'countryMsgCounter_'+uic+'_Wrap';
countryDiv.className = 'countryMsgCounter';
var countryImage = document.createElement('img');
countryImage.src = countryInformation[uic].image;
countryImage.alt = countryInformation[uic].name;
var countryLink = document.createElement('a');
countryLink.innerHTML = countryInformation[uic].name;
countryLink.style.marginLeft = '3px';
countryLink.href = 'javascript:void(0);';
countryLink.onclick = function(uicCode){
return function(){
filterByCountry(uicCode,countryInformation[uicCode].name);
Map_oebbmap.setBoundingBox({ne:countryInformation[uicCode].ne,sw:countryInformation[uicCode].sw});
return false;
}
}(uic);
var countryCountStr = "";
countryCount = document.createElement('span');
countryCount.style.marginLeft = '3px';
countryCountStr = '(' + count + ')';
if((typeof himUICUrgentMessages[uic] != "undefined") && (himUICUrgentMessages[uic] == true)){
countryCountStr += ' <img src="/hafas-res/img/himinfo/icon_urgent_static_small.gif"/>';
}
countryCount.innerHTML = countryCountStr;
countryDiv.appendChild(countryImage);
countryDiv.appendChild(countryLink);
countryDiv.appendChild(countryCount);
parent.appendChild(countryDiv);
/*if((typeof himUICUrgentMessages[uic] != "undefined") && (himUICUrgentMessages[uic] == true)){
countryUrgentImg = document.createElement("img");
countryUrgentImg.src = '/hafas-res/img/himinfo/icon_urgent_static_small.gif';
countryDiv.appendChild(countryUrgentImg);
}*/
}
function resetCountryMsgCounter(){
countryMsgCount = new Object;
countryCategoryCounter = new Object;
document.getElementById('menuCountryoebbmap').innerHTML = '';
}
function updateCountryMsgCounter(){
for(var m=0; m < countryOrder.length;m++){
if(typeof countryMsgCount[parseInt(countryOrder[m])] != "undefined" && countryMsgCount[parseInt(countryOrder[m])] > 0){
createCountryMenuEntry(parseInt(countryOrder[m]),countryMsgCount[parseInt(countryOrder[m])]);
}
}
}
</script>
</div>
<div id="countryFilterHintMsg" style="display:none;">angezeigt. <br/><a href="javascript:void(0);" onclick="javascript:removeCountryFilter();">Länderfilter zurückstellen</a></div>
</div>
<script type="text/javascript">
var himIds = new Array
himIds[0] = ("oebb_him_msg_chbox_0");
himIds[1] = ("oebb_him_msg_chbox_1");
himIds[2] = ("oebb_him_msg_chbox_2");
himIds[4] = ("oebb_him_msg_chbox_4");
himIds[5] = ("oebb_him_msg_chbox_5");
himIds[7] = ("oebb_him_msg_chbox_6");
himIds[8] = ("oebb_him_msg_chbox_8");
</script>
<div class="mapMenuExternal">
<div style="float:left;">
<div>
<div class="absoluteMapMenu">
<div id="menuLayeroebbmapWrap" class="externalMenuColumnFirst" style="margin-left:0px;">
<div id="headlineLayeroebbmap" class="menuheadline activeMenu" onclick="javascript:openMapMenu('Layeroebbmap');">
<strong>ÖBB Informationen</strong>
</div>
<div class="menuContent" id="menuLayeroebbmap" style="display:block;">
<div class="himSubCategory">
<input autocomplete="off" onclick="toggleLayer(this,'oebbmap');" type="checkbox" id="oebb_track_layeroebbmap" checked="checked"/> <label for="oebb_track_layeroebbmap">Schienennetz</label>
</div>
<div>
<input checked="checked" autocomplete="off" onclick="toggleAllHimContent(this.checked,Map_oebbmap,true,'oebbmap');" type="checkbox" id="oebb_him_msgoebbmap" /> <label for="oebb_him_msgoebbmap">Störungsmeldungen</label>
</div>
<div style="margin-left:20px;">
<div  class="himSubCategory">
<input checked="checked" autocomplete="off" value="5" onclick="toggleHimContent(this.checked,'5',Map_oebbmap,true);" type="checkbox" id="oebb_him_msg_chbox_5oebbmap" /> <label for="oebb_him_msg_chbox_5oebbmap"><img alt="Aktueller Notfall" title="Aktueller Notfall" src="/hafas-res/img/himinfo/icon_urgent_static_small.gif" width="17" height="17"/> Aktueller Notfall</label>
</div>
<div  class="himSubCategory">
<input checked="checked" autocomplete="off" value="2" onclick="toggleHimContent(this.checked,'2',Map_oebbmap,true);" type="checkbox" id="oebb_him_msg_chbox_2oebbmap" /> <label for="oebb_him_msg_chbox_2oebbmap"><img alt="Ausfall" title="Ausfall" src="/hafas-res/img/himinfo/icon_cancel.gif" width="17" height="17"/> Ausfall</label>
</div>
<div  class="himSubCategory">
<input checked="checked" autocomplete="off" value="1" onclick="toggleHimContent(this.checked,'1',Map_oebbmap,true);" type="checkbox" id="oebb_him_msg_chbox_1oebbmap" /> <label for="oebb_him_msg_chbox_1oebbmap"><img alt="Baustellen" title="Baustellen" src="/hafas-res/img/himinfo/icon_work.gif" width="17" height="17"/> Baustellen</label>
</div>
<div  class="himSubCategory">
<input checked="checked" autocomplete="off" value="0" onclick="toggleHimContent(this.checked,'0',Map_oebbmap,true);" type="checkbox" id="oebb_him_msg_chbox_0oebbmap" /> <label for="oebb_him_msg_chbox_0oebbmap"><img alt="Ersatzverkehr" title="Ersatzverkehr" src="/hafas-res/img/himinfo/icon_replace.gif" width="17" height="17"/> Ersatzverkehr</label>
</div>
<div  class="himSubCategory">
<input checked="checked" autocomplete="off" value="4" onclick="toggleHimContent(this.checked,'4',Map_oebbmap,true);" type="checkbox" id="oebb_him_msg_chbox_4oebbmap" /> <label for="oebb_him_msg_chbox_4oebbmap"><img alt="Information" title="Information" src="/hafas-res/img/himinfo/icon_info2.gif" width="17" height="17"/> Information</label>
</div>
<div style="display:none;" class="himSubCategory">
<input checked="checked" autocomplete="off" value="7" onclick="toggleHimContent(this.checked,'7',Map_oebbmap,true);" type="checkbox" id="oebb_him_msg_chbox_6oebbmap" /> <label for="oebb_him_msg_chbox_6oebbmap"><img alt="Verladezeit" title="Verladezeit" src="/hafas-res/img/himinfo/icon_verlade.gif" width="17" height="17"/> Verladezeit</label>
</div>
<div style="display:none;" class="himSubCategory">
<input  autocomplete="off" value="8" onclick="toggleHimContent(this.checked,'8',Map_oebbmap,true);" type="checkbox" id="oebb_him_msg_chbox_8oebbmap" /> <label for="oebb_him_msg_chbox_8oebbmap"><img alt="Mitarbeiterinfo" title="Mitarbeiterinfo" src="/hafas-res/img/himinfo/icon_m.png" width="17" height="17"/> Mitarbeiterinfo</label>
</div>
</div>
</div>
</div>
<div id="menuStationsoebbmapWrap" class="externalMenuColumn noRightBorder">
<div id="headlineStationsoebbmap" onclick="javascript:openMapMenu('Stationsoebbmap');" class="menuheadline activeMenu">
<strong>Bahnhöfe/Haltestellen</strong>
</div>
<div class="menuContent" id="menuStationsoebbmap" style="display:block;">
<script type='text/javascript'>
/* <![CDATA[ */
String.prototype.reverse=function(){
return this.split("").reverse().join("");
}
isDisplayPossibleoebbmap = function(evt,idx){
evt = evt || window.event;
var scrollTop;
if(document.documentElement && document.documentElement.scrollTop){
scrollTop = document.documentElement.scrollTop;
}else if (document.body && document.body.scrollTop){
scrollTop = document.body.scrollTop;
}else {
scrollTop = window.pageYOffset;
}
if(typeof scrollTop == 'undefined'){ scrollTop = 0; }
xClicked = evt.pageX || (evt.clientX);
yClicked = evt.pageY || (evt.clientY + scrollTop);
if(imap_content_checkbox_dataoebbmap[idx].state == 'disabled'){
document.getElementById('noDisplayPossibleoebbmap').style.left = xClicked + 25 + 'px';
document.getElementById('noDisplayPossibleoebbmap').style.top = yClicked + 'px';
document.getElementById('noDisplayPossibleoebbmap').style.display = 'block';
}else{
document.getElementById('noDisplayPossibleoebbmap').style.display = 'none';
}
};
imap_content_checkbox_dataoebbmap = new Array();
imap_content_map_contentoebbmap = new Array();
imap_station_memory = function()
{
var station_array = new Hash();
var location_array = new Hash();
var currentStyle = "";
this.lastCount = 0;
this.addStation = function(id, x, y, type)
{
station_array.set(id, { x:x, y:y, type:type });
location_array.set(type, id);
}
this.hasStation = function(x, y, type)
{
return location_array.keys().member(type);
}
this.getData = function(id)
{ return station_array.get(id); }
this.removeStation = function(id)
{
var data = station_array.get(id);
location_array.remove(data.type);
station_array.remove(id);
}
this.getIdList = function()
{
return station_array.keys();
}
this.isCurrentStyle = function(style)
{
return currentStyle == style;
}
this.updateStyle = function(style)
{
currentStyle = style;
}
this.clear = function()
{
station_array = new Hash();
location_array = new Hash();
}
};
imap_get_bounding_box = function(map, lastCount)
{
var bb = map.getBoundingBox();
if(lastCount > 200)
return bb;
var h_range = (bb.ne.getLat() - bb.sw.getLat()) / 2;
var v_range = (bb.ne.getLon() - bb.sw.getLon()) / 2;
return { ne: new CCoord({ lat:bb.ne.getLat()+h_range, lon:bb.ne.getLon()+v_range}), sw:new CCoord({ lat:bb.sw.getLat()-h_range, lon:bb.sw.getLon() - v_range}) };
};
imap_content_checkbox_fireLocationRequestoebbmap = function(idx,chboxdata,chboxcontent){
params=chboxdata[idx];
params.idx = idx;
params.chboxdata = chboxdata;
params.chboxcontent = chboxcontent;
if(typeof Ajax=="undefined"||typeof Ajax.Request=="undefined"){
alert("Prototyp missing");
return;
}
if(typeof Ajax=="undefined"||typeof Ajax.Request=="undefined"){
alert("Prototyp missing");
return;
}
var currentMap = params.map;
var c = currentMap.getCenter();
if(typeof chboxcontent[idx] == 'undefined')
var bb = imap_get_bounding_box(currentMap, 0);
else
var bb = imap_get_bounding_box(currentMap, chboxcontent[idx].lastCount);
var url = params.url;
if(typeof params.zoomsteps != 'undefined'){
for(var i=0; i < params.zoomsteps.length; i++){
if(currentMap.getZoom() < params.zoomsteps[i].zoom ){
url = params.zoomsteps[i].url;
}
}
}
if((typeof chboxdata[idx].type != 'undefined') && (chboxdata[idx].type == 'center')){
url +="&look_x="+currentMap.getCenter().getLon()
+"&look_y="+currentMap.getCenter().getLat()
+"&look_maxdist=2000&maxno=40";
}else{
url +="&look_maxx="+bb.ne.getLon()
+"&look_maxy="+bb.ne.getLat()
+"&look_minx="+bb.sw.getLon()
+"&look_miny="+bb.sw.getLat();
}
var request = new Ajax.Request(
url,
{
method: 'get',
onComplete: imap_content_checkbox_handleLoad.bind(params)
}
);
};
imap_delete_content = function(idx,chboxcontent,map){
if(typeof chboxcontent[idx] != 'undefined'){
var id_list = chboxcontent[idx].getIdList();
for(var i=id_list.length-1; i >= 0; i--){
map.hideContent(id_list[i]);
map.removeContent(id_list[i]);
}
chboxcontent[idx].clear();
}
};
imap_update_content = function(idx,chboxcontent, chboxdata){
try {
if(typeof chboxcontent[idx] != 'undefined'){
var bb = imap_get_bounding_box(chboxdata[idx].map, chboxcontent[idx].lastCount);
var id_list = chboxcontent[idx].getIdList();
for(var i=id_list.length-1; i >= 0; i--){
var data = chboxcontent[idx].getData(id_list[i]);
if( !((bb.ne.getLat() > data.y) &&
(bb.sw.getLat() < data.y) &&
(bb.ne.getLon() > data.x) &&
(bb.sw.getLon() < data.x) &&
chboxdata[idx].map.getZoom() < chboxdata[idx].minzoom) )
{
chboxdata[idx].map.hideContent(id_list[i]);
chboxdata[idx].map.removeContent(id_list[i]);
chboxcontent[idx].removeStation(id_list[i]);
}
}
}
} catch(e) { alert(e); }
};
imap_map_onchange = function(idx,chboxdata,chboxcontent){
if(typeof chboxdata[idx] != 'undefined'){
if(chboxdata[idx].map.getZoom() < chboxdata[idx].minzoom){
if((chboxdata[idx].state == 'checked') || (chboxdata[idx].state == 'checkeddisabled')){
imap_update_content(idx,chboxcontent,chboxdata);
imap_content_checkbox_fireLocationRequestoebbmap(idx,chboxdata,chboxcontent);
imap_content_checkbox_setstate(idx, 'checked',chboxdata);
}else if(chboxdata[idx].state == 'disabled'){
imap_content_checkbox_setstate(idx, 'unchecked',chboxdata);
imap_map_onchange(0,chboxdata,chboxcontent);
}
}else{
if(chboxdata[idx].state == 'checked')
imap_delete_content(idx,chboxcontent,chboxdata[idx].map);
if(chboxdata[idx].state == 'checked'){
imap_content_checkbox_setstate(idx,'checkeddisabled',chboxdata);
}else{
if(chboxdata[idx].state != 'checkeddisabled'){
imap_content_checkbox_setstate(idx,'disabled',chboxdata);
}
}
}
}
};
imap_content_checkbox_clone_contentparams = function( par ){
var ret=Object.clone(par);
if( typeof par.coord != 'undefined' )
ret.coord=par.coord.clone();
if( typeof par.hotspot != 'undefined' )
ret.hotspot={x:par.hotspot.x,y:par.hotspot.y};
if( typeof par.coords != 'undefined' ){
ret.coords = new Array;
for( var i = 0; i < par.coords.length; i++ )
ret.coords[i]=par.coords[i].clone();
}
return ret;
};
imap_content_checkbox_decode = function( at ){
var t = at.replace(/&ouml;/g, 'Ã¶');
t = t.replace(/&auml;/g, 'Ã¤');
t = t.replace(/&uuml;/g, 'Ã¼');
t = t.replace(/&Auml;/g, 'Ã');
t = t.replace(/&Uuml;/g, 'Ã');
t = t.replace(/&Ouml;/g, 'Ã');
t = t.replace(/&#252;/g, 'Ã¼');
t = t.replace(/&#246;/g, 'Ã¶');
t = t.replace(/&#228;/g, 'Ã¤');
t = t.replace(/&#226;/g, 'Ã¢');
t = t.replace(/&#223;/g, 'Ã');
t = t.replace(/&#196;/g, 'Ã');
t = t.replace(/&#214;/g, 'Ã');
t = t.replace(/&#220;/g, 'Ã');
t = t.replace(/&#248;/g, 'Ã¸');
t = t.replace(/&#216;/g, 'Ã');
t = t.replace(/&#229;/g, 'Ã¥');
t = t.replace(/&#197;/g, 'Ã');
t = t.replace(/&#230;/g, 'Ã¦');
t = t.replace(/&#198;/g, 'Ã');
t = t.replace(/&#233;/g, 'Ã©');
t = t.replace(/&#232;/g, 'Ã¨');
t = t.replace(/&#156;/g, 'Å');
t = t.replace(/&#140;/g, 'Å');
return t;
};
imap_get_template_zoom_level = function(template, z)
{
var i=0;
while(i<template.length-1){
if(z<template[i+1].minzoom)break;
i++;
}
return i;
};
imap_content_checkbox_getLocationParams = function(template,text,z,x,y,params){
var i=imap_get_template_zoom_level(template, z);
var p=imap_content_checkbox_clone_contentparams(template[i]);
p.imageurl=template[i].imageurl;
if(typeof template[i].shadowurl!='undefined')
p.shadowurl=template[i].shadowurl;
p.text=text;
p.coord=new CCoord({lon:x,lat:y});
p.type='location';
p.flexible = false;
if((typeof params != 'undefined') && (typeof params.prio != 'undefined')){
p.prio = params.prio
}
return p;
};
imap_content_checkbox_handleLoad = function(json){
var params=this;
if(typeof params=='undefined'||params==null){
alert("No parameter available");
return;
}
var map=params.map;
if(typeof map=="undefined"||map==null){
alert("No Map available");
return;
}
if(typeof params.location=='undefined'){
alert("No location Template available");
return;
}
var res=eval('('+json.responseText+')');
if((typeof res.error != 'undefined') && (res.error == "0")){
if((typeof res.stops!="undefined")){
var stops=res.stops;
var zoom=map.getZoom();
//    var zoomstep=(zoom<2000?0:(zoom<50000?1:2));
if(typeof params.chboxcontent[params.idx] == 'undefined'){
params.chboxcontent[params.idx] = new imap_station_memory();
}
params.chboxcontent[params.idx].lastCount = stops.length;
var zoomLevel = imap_get_template_zoom_level(params.location, map.getZoom());
if(!params.chboxcontent[params.idx].isCurrentStyle(zoomLevel))
{
imap_delete_content(params.idx,params.chboxcontent,map)
params.chboxcontent[params.idx].updateStyle(zoomLevel);
}
for(var i=0;i<stops.length;i++){
var s=stops[i];
if(params.chboxcontent[params.idx].hasStation(s.x, s.y, s.extId))
continue;
s.name=imap_content_checkbox_decode(s.name);
var p=imap_content_checkbox_getLocationParams(params.location,s.name,zoom,s.x,s.y,params);
var currentProductFilter = parseInt(res.prods).toString(2).reverse();
/* Defining right function for click actions FOR NOW default func */
var handler = {
call:function() { this.map.showInfoboxGeo(this.geo, this.name, infotextstation({map:this.map,name:this.name,x:this.x,y:this.y, extId:this.extId,productFilter:currentProductFilter})); },
geo:new CCoord({x:s.x, y:s.y}),
name:s.name,
map:map,
x:s.x,
y:s.y,
extId:s.extId };
p.onclick = handler.call.bind(handler);
var l = map.createContent(p);
params.chboxcontent[params.idx].addStation(l, s.x, s.y, s.extId);
map.showContent( l );
}
}else if((typeof res.pois != 'undefined')  && (typeof res.poiType == 'undefined')){
var pois = res.pois;
var zoom=map.getZoom();
for(var i=0;i<pois.length;i++){
var p = pois[i];
var extId = p.extId;
p.name=imap_content_checkbox_decode(p.name);
var p=imap_content_checkbox_getLocationParams(params.location,p.name,zoom,p.x,p.y);
p.infotitle=p.text;
p.infocontent=infotextpoi({map:   map,
name:  p.text,
extId: extId,
x:     pois[i].x,
y:     pois[i].y});
var l = map.createContent(p);
if(typeof params.chboxcontent[params.idx] == 'undefined'){
params.chboxcontent[params.idx] = new imap_station_memory();
}
params.chboxcontent[params.idx].addStation(l, p.x, p.y, -1);
map.showContent( l );
}
}
// SOndercase fÃÂ¼r HRS Hotels
else{
if(typeof res.pois != 'undefined'){
var pois = res.pois;
var zoom=map.getZoom();
for(var i=0;i<pois.length;i++){
var p = pois[i];
p.name=imap_content_checkbox_decode(p.name);
try {
var p=imap_content_checkbox_getLocationParams(params.location,p.name,zoom,p.x,p.y);
} catch(e) { alert(e); }
p.infotitle=p.text;
var freeservices = null;
if(typeof pois[i].hrsFreeServices != 'undefined'){
var freeservices = pois[i].hrsFreeServices;
}
p.infocontent=infotexthrs({map:   map,
name:  p.text,
x:     pois[i].x,
y:     pois[i].y,
mediaUrl:pois[i].mediaUrl,
bookingUrl:pois[i].hrsBookingUrl,
street:pois[i].street,
plz:pois[i].plz,
stars:pois[i].hrsCategory,
city:pois[i].city,
price:pois[i].hrsMinPrice,
services:freeservices});
var l = map.createContent(p);
if(typeof params.chboxcontent[params.idx] == 'undefined'){
params.chboxcontent[params.idx] = new imap_station_memory();
}
params.chboxcontent[params.idx].addStation(l, p.x, p.y, -1);
map.showContent( l );
}
}
}
}
ccc = params.chboxcontent;
imap_content_checkbox_setstate(params.idx,"checked",params.chboxdata);
};
imap_content_checkbox_setstate = function(idx,newstate,chboxdata){
switch(newstate){
case "checked":
chboxdata[idx].img.src=chboxdata[idx].checkbox_checked;
if(document.getElementById(chboxdata[idx].divname+'oebbmap'+idx) != null){
document.getElementById(chboxdata[idx].divname+'oebbmap'+idx).style.opacity = 1.0;
document.getElementById(chboxdata[idx].divname+'oebbmap'+idx).style.filter = 'alpha(opacity='+100+')';
}
break;
case "unchecked":
chboxdata[idx].img.src=chboxdata[idx].checkbox_unchecked;
if(document.getElementById(chboxdata[idx].divname+'oebbmap'+idx) != null){
document.getElementById(chboxdata[idx].divname+'oebbmap'+idx).style.opacity = 1.0;
document.getElementById(chboxdata[idx].divname+'oebbmap'+idx).style.filter = 'alpha(opacity='+100+')';
}
break;
case "wait":
chboxdata[idx].img.src=chboxdata[idx].checkbox_wait;
if(document.getElementById(chboxdata[idx].divname+'oebbmap'+idx) != null){
document.getElementById(chboxdata[idx].divname+'oebbmap'+idx).style.opacity = 1.0;
document.getElementById(chboxdata[idx].divname+'oebbmap'+idx).style.filter = 'alpha(opacity='+100+')';
}
break;
case "disabled":
chboxdata[idx].img.src=chboxdata[idx].checkbox_disabled;
if(document.getElementById(chboxdata[idx].divname+'oebbmap'+idx) != null){
document.getElementById(chboxdata[idx].divname+'oebbmap'+idx).style.opacity = 0.5;
document.getElementById(chboxdata[idx].divname+'oebbmap'+idx).style.filter = 'alpha(opacity='+50+')';
}
break;
case "checkeddisabled":
chboxdata[idx].img.src=chboxdata[idx].checkbox_checkeddisabled;
if(document.getElementById(chboxdata[idx].divname+'oebbmap'+idx) != null){
document.getElementById(chboxdata[idx].divname+'oebbmap'+idx).style.opacity = 0.5;
document.getElementById(chboxdata[idx].divname+'oebbmap'+idx).style.filter = 'alpha(opacity='+50+')';
}
break;
}
chboxdata[idx].state=newstate
};
imap_content_checkbox_click = function(idx,chboxdata,chboxcontent){
var oldState = chboxdata[idx].state;
if(oldState == "unchecked" || oldState == "not specified"){
imap_content_checkbox_setstate(idx,"wait",chboxdata);
imap_content_checkbox_fireLocationRequestoebbmap(idx,chboxdata,chboxcontent);
}else if(oldState == "checked"){
imap_delete_content(idx,chboxcontent,chboxdata[idx].map);
imap_content_checkbox_setstate(idx,"unchecked",chboxdata);
}
};
imap_content_checkbox_update = function(idx){
};
/* ]]> */
</script>
<script type='text/javascript'>
/* <![CDATA[ */
if(typeof Map_oebbmap_InitFunctions=="undefined")Map_oebbmap_InitFunctions=new Array;
Map_oebbmap_InitFunctions[Map_oebbmap_InitFunctions.length++]= function(){
var i=document.getElementById("Mapmenue_img_0_1oebbmap0");
if(typeof imap_content_checkbox_dataoebbmap == 'undefined')imap_content_checkbox_dataoebbmap = new Array();
if(typeof imap_content_map_contentoebbmap == 'undefined')imap_content_map_contentoebbmap = new Array();
imap_content_checkbox_dataoebbmap[0]={
divname:'Mapmenue_div_0_1',
map:Map_oebbmap,
minzoom:95300,
url:'https://fahrplan.oebb.at/bin/query.exe/dny?performLocating=2&tpl=stop2json&look_maxno=150&look_nv=get_stopweight|yes&look_maxdist=2088642&look_stopclass=4109&look_attr=~gS',
location:[
{minzoom:0,
imageurl:'/hafas-res/img/vs_scotty/js/CMenue/16x16/001_Fernverkehr.gif',
imagewidth:16,
imageheight:16,
alt:"Fernreisezüge",
hotspot:{x:8,y:8}}
,
{minzoom:20000,
imageurl:'/hafas-res/img/vs_scotty/js/CMenue/16x16/001_Fernverkehr.gif',
imagewidth:16,
imageheight:16,
alt:"Fernreisezüge",
hotspot:{x:8,y:8}}
,
{minzoom:100000,
imageurl:'/hafas-res/img/vs_scotty/js/CMenue/16x16/001_Fernverkehr.gif',
imagewidth:14,
imageheight:14,
alt:"Fernreisezüge",
hotspot:{x:7,y:7}}
,
{minzoom:600000,
imageurl:'/hafas-res/img/vs_scotty/js/CMenue/16x16/001_Fernverkehr.gif',
imagewidth:12,
imageheight:12,
alt:"Fernreisezüge",
hotspot:{x:6,y:6}}
],
checkbox_checked:'/hafas-res/img/vs_oebbmap/chbox_checked.png',
checkbox_unchecked:'/hafas-res/img/vs_oebbmap/chbox_unchecked.png',
checkbox_wait:'/hafas-res/img/vs_oebbmap/chbox_disabled.png',
checkbox_disabled:'/hafas-res/img/vs_oebbmap/chbox_disabled.png',
checkbox_checkeddisabled:'/hafas-res/img/vs_oebbmap/chbox_checkeddisabled.png',
img:i,
prio:30,
type:'',
state:'unchecked'
}
i.onclick=function(){imap_content_checkbox_click(0,imap_content_checkbox_dataoebbmap,imap_content_map_contentoebbmap)};
i.src="/hafas-res/img/vs_oebbmap/chbox_unchecked.png";
imap_map_onchange(0,imap_content_checkbox_dataoebbmap,imap_content_map_contentoebbmap);
// OnChange Handler setzen
Map_oebbmap.setOnChange(function(){
imap_map_onchange(0,imap_content_checkbox_dataoebbmap,imap_content_map_contentoebbmap);
});
}
/* ]]> */
</script>
<div onmouseout="document.getElementById('noDisplayPossibleoebbmap').style.display = 'none';" onmouseover="isDisplayPossibleoebbmap(event,'0');" id="Mapmenue_div_0_1oebbmap0" class="colicon">
<div class="menuImgWrap"><img id="Mapmenue_img_0_1oebbmap0" align="middle" height="13" width="13" src="/hafas-res/img/vs_oebbmap/chbox_disabled.png" alt="Fernreisezüge" title="Fernreisezüge" /></div>
<div class="menuContentWrap" id="Mapmenue_img_0_1oebbmap0_title"><span class="menuSize"><img alt="Fernreisezüge" src="/hafas-res/img/vs_scotty/js/CMenue/16x16/001_Fernverkehr.gif"/>  Fernreisezüge</span></div>
</div>
<script type="text/javascript">
/* <![CDATA[ */
document.getElementById('Mapmenue_img_0_1oebbmap0_title').onclick = function(){
imap_content_checkbox_dataoebbmap[0].img.onclick();
};
/* ]]> */
</script>
<script type='text/javascript'>
/* <![CDATA[ */
if(typeof Map_oebbmap_InitFunctions=="undefined")Map_oebbmap_InitFunctions=new Array;
Map_oebbmap_InitFunctions[Map_oebbmap_InitFunctions.length++]= function(){
var i=document.getElementById("Mapmenue_img_1_1oebbmap1");
if(typeof imap_content_checkbox_dataoebbmap == 'undefined')imap_content_checkbox_dataoebbmap = new Array();
if(typeof imap_content_map_contentoebbmap == 'undefined')imap_content_map_contentoebbmap = new Array();
imap_content_checkbox_dataoebbmap[1]={
divname:'Mapmenue_div_1_1',
map:Map_oebbmap,
minzoom:95300,
url:'https://fahrplan.oebb.at/bin/query.exe/dny?performLocating=2&tpl=stop2json&look_maxno=150&look_nv=get_stopweight|yes&look_maxdist=2088642&look_stopclass=16&look_attr=~gS',
location:[
{minzoom:0,
imageurl:'/hafas-res/img/vs_scotty/js/CMenue/16x16/002_Nahverkehr.gif',
imagewidth:16,
imageheight:16,
alt:"Regionale Reisezüge",
hotspot:{x:8,y:8}}
,
{minzoom:20000,
imageurl:'/hafas-res/img/vs_scotty/js/CMenue/16x16/002_Nahverkehr.gif',
imagewidth:16,
imageheight:16,
alt:"Regionale Reisezüge",
hotspot:{x:8,y:8}}
,
{minzoom:100000,
imageurl:'/hafas-res/img/vs_scotty/js/CMenue/16x16/002_Nahverkehr.gif',
imagewidth:14,
imageheight:14,
alt:"Regionale Reisezüge",
hotspot:{x:7,y:7}}
,
{minzoom:600000,
imageurl:'/hafas-res/img/vs_scotty/js/CMenue/16x16/002_Nahverkehr.gif',
imagewidth:12,
imageheight:12,
alt:"Regionale Reisezüge",
hotspot:{x:6,y:6}}
],
checkbox_checked:'/hafas-res/img/vs_oebbmap/chbox_checked.png',
checkbox_unchecked:'/hafas-res/img/vs_oebbmap/chbox_unchecked.png',
checkbox_wait:'/hafas-res/img/vs_oebbmap/chbox_disabled.png',
checkbox_disabled:'/hafas-res/img/vs_oebbmap/chbox_disabled.png',
checkbox_checkeddisabled:'/hafas-res/img/vs_oebbmap/chbox_checkeddisabled.png',
img:i,
prio:29,
type:'',
state:'unchecked'
}
i.onclick=function(){imap_content_checkbox_click(1,imap_content_checkbox_dataoebbmap,imap_content_map_contentoebbmap)};
i.src="/hafas-res/img/vs_oebbmap/chbox_unchecked.png";
imap_map_onchange(1,imap_content_checkbox_dataoebbmap,imap_content_map_contentoebbmap);
// OnChange Handler setzen
Map_oebbmap.setOnChange(function(){
imap_map_onchange(1,imap_content_checkbox_dataoebbmap,imap_content_map_contentoebbmap);
});
}
/* ]]> */
</script>
<div onmouseout="document.getElementById('noDisplayPossibleoebbmap').style.display = 'none';" onmouseover="isDisplayPossibleoebbmap(event,'1');" id="Mapmenue_div_1_1oebbmap1" class="colicon">
<div class="menuImgWrap"><img id="Mapmenue_img_1_1oebbmap1" align="middle" height="13" width="13" src="/hafas-res/img/vs_oebbmap/chbox_disabled.png" alt="Regionale Reisezüge" title="Regionale Reisezüge" /></div>
<div class="menuContentWrap" id="Mapmenue_img_1_1oebbmap1_title"><span class="menuSize"><img alt="Regionale Reisezüge" src="/hafas-res/img/vs_scotty/js/CMenue/16x16/002_Nahverkehr.gif"/>  Regionale Reisezüge</span></div>
</div>
<script type="text/javascript">
/* <![CDATA[ */
document.getElementById('Mapmenue_img_1_1oebbmap1_title').onclick = function(){
imap_content_checkbox_dataoebbmap[1].img.onclick();
};
/* ]]> */
</script>
<script type='text/javascript'>
/* <![CDATA[ */
if(typeof Map_oebbmap_InitFunctions=="undefined")Map_oebbmap_InitFunctions=new Array;
Map_oebbmap_InitFunctions[Map_oebbmap_InitFunctions.length++]= function(){
var i=document.getElementById("Mapmenue_img_2_1oebbmap2");
if(typeof imap_content_checkbox_dataoebbmap == 'undefined')imap_content_checkbox_dataoebbmap = new Array();
if(typeof imap_content_map_contentoebbmap == 'undefined')imap_content_map_contentoebbmap = new Array();
imap_content_checkbox_dataoebbmap[2]={
divname:'Mapmenue_div_2_1',
map:Map_oebbmap,
minzoom:95300,
url:'https://fahrplan.oebb.at/bin/query.exe/dny?performLocating=2&tpl=stop2json&look_maxno=150&look_nv=get_stopweight|yes&look_maxdist=2088642&look_stopclass=32&look_attr=~gS',
location:[
{minzoom:0,
imageurl:'/hafas-res/img/vs_scotty/js/CMenue/16x16/003_S-Bahn.gif',
imagewidth:16,
imageheight:16,
alt:"S",
hotspot:{x:8,y:8}}
,
{minzoom:20000,
imageurl:'/hafas-res/img/vs_scotty/js/CMenue/16x16/003_S-Bahn.gif',
imagewidth:16,
imageheight:16,
alt:"S",
hotspot:{x:8,y:8}}
,
{minzoom:100000,
imageurl:'/hafas-res/img/vs_scotty/js/CMenue/16x16/003_S-Bahn.gif',
imagewidth:14,
imageheight:14,
alt:"S",
hotspot:{x:7,y:7}}
,
{minzoom:600000,
imageurl:'/hafas-res/img/vs_scotty/js/CMenue/16x16/003_S-Bahn.gif',
imagewidth:12,
imageheight:12,
alt:"S",
hotspot:{x:6,y:6}}
],
checkbox_checked:'/hafas-res/img/vs_oebbmap/chbox_checked.png',
checkbox_unchecked:'/hafas-res/img/vs_oebbmap/chbox_unchecked.png',
checkbox_wait:'/hafas-res/img/vs_oebbmap/chbox_disabled.png',
checkbox_disabled:'/hafas-res/img/vs_oebbmap/chbox_disabled.png',
checkbox_checkeddisabled:'/hafas-res/img/vs_oebbmap/chbox_checkeddisabled.png',
img:i,
prio:28,
type:'',
state:'unchecked'
}
i.onclick=function(){imap_content_checkbox_click(2,imap_content_checkbox_dataoebbmap,imap_content_map_contentoebbmap)};
i.src="/hafas-res/img/vs_oebbmap/chbox_unchecked.png";
imap_map_onchange(2,imap_content_checkbox_dataoebbmap,imap_content_map_contentoebbmap);
// OnChange Handler setzen
Map_oebbmap.setOnChange(function(){
imap_map_onchange(2,imap_content_checkbox_dataoebbmap,imap_content_map_contentoebbmap);
});
}
/* ]]> */
</script>
<div onmouseout="document.getElementById('noDisplayPossibleoebbmap').style.display = 'none';" onmouseover="isDisplayPossibleoebbmap(event,'2');" id="Mapmenue_div_2_1oebbmap2" class="colicon">
<div class="menuImgWrap"><img id="Mapmenue_img_2_1oebbmap2" align="middle" height="13" width="13" src="/hafas-res/img/vs_oebbmap/chbox_disabled.png" alt="S" title="S" /></div>
<div class="menuContentWrap" id="Mapmenue_img_2_1oebbmap2_title"><span class="menuSize"><img alt="S" src="/hafas-res/img/vs_scotty/js/CMenue/16x16/003_S-Bahn.gif"/>  S-Bahnen</span></div>
</div>
<script type="text/javascript">
/* <![CDATA[ */
document.getElementById('Mapmenue_img_2_1oebbmap2_title').onclick = function(){
imap_content_checkbox_dataoebbmap[2].img.onclick();
};
/* ]]> */
</script>
<script type='text/javascript'>
/* <![CDATA[ */
if(typeof Map_oebbmap_InitFunctions=="undefined")Map_oebbmap_InitFunctions=new Array;
Map_oebbmap_InitFunctions[Map_oebbmap_InitFunctions.length++]= function(){
var i=document.getElementById("Mapmenue_img_3_1oebbmap3");
if(typeof imap_content_checkbox_dataoebbmap == 'undefined')imap_content_checkbox_dataoebbmap = new Array();
if(typeof imap_content_map_contentoebbmap == 'undefined')imap_content_map_contentoebbmap = new Array();
imap_content_checkbox_dataoebbmap[3]={
divname:'Mapmenue_div_3_1',
map:Map_oebbmap,
minzoom:14906,
url:'https://fahrplan.oebb.at/bin/query.exe/dny?performLocating=2&tpl=stop2json&look_maxno=150&look_nv=get_stopweight|yes&look_maxdist=2088642&look_stopclass=256',
location:[
{minzoom:0,
imageurl:'/hafas-res/img/vs_scotty/js/CMenue/16x16/004_U-Bahn.gif',
imagewidth:16,
imageheight:16,
alt:"U-Bahnen",
hotspot:{x:8,y:8}}
,
{minzoom:20000,
imageurl:'/hafas-res/img/vs_scotty/js/CMenue/16x16/004_U-Bahn.gif',
imagewidth:16,
imageheight:16,
alt:"U-Bahnen",
hotspot:{x:8,y:8}}
,
{minzoom:100000,
imageurl:'/hafas-res/img/vs_scotty/js/CMenue/16x16/004_U-Bahn.gif',
imagewidth:14,
imageheight:14,
alt:"U-Bahnen",
hotspot:{x:7,y:7}}
,
{minzoom:600000,
imageurl:'/hafas-res/img/vs_scotty/js/CMenue/16x16/004_U-Bahn.gif',
imagewidth:12,
imageheight:12,
alt:"U-Bahnen",
hotspot:{x:6,y:6}}
],
checkbox_checked:'/hafas-res/img/vs_oebbmap/chbox_checked.png',
checkbox_unchecked:'/hafas-res/img/vs_oebbmap/chbox_unchecked.png',
checkbox_wait:'/hafas-res/img/vs_oebbmap/chbox_disabled.png',
checkbox_disabled:'/hafas-res/img/vs_oebbmap/chbox_disabled.png',
checkbox_checkeddisabled:'/hafas-res/img/vs_oebbmap/chbox_checkeddisabled.png',
img:i,
prio:27,
type:'',
state:'unchecked'
}
i.onclick=function(){imap_content_checkbox_click(3,imap_content_checkbox_dataoebbmap,imap_content_map_contentoebbmap)};
i.src="/hafas-res/img/vs_oebbmap/chbox_unchecked.png";
imap_map_onchange(3,imap_content_checkbox_dataoebbmap,imap_content_map_contentoebbmap);
// OnChange Handler setzen
Map_oebbmap.setOnChange(function(){
imap_map_onchange(3,imap_content_checkbox_dataoebbmap,imap_content_map_contentoebbmap);
});
}
/* ]]> */
</script>
<div onmouseout="document.getElementById('noDisplayPossibleoebbmap').style.display = 'none';" onmouseover="isDisplayPossibleoebbmap(event,'3');" id="Mapmenue_div_3_1oebbmap3" class="colicon">
<div class="menuImgWrap"><img id="Mapmenue_img_3_1oebbmap3" align="middle" height="13" width="13" src="/hafas-res/img/vs_oebbmap/chbox_disabled.png" alt="U-Bahnen" title="U-Bahnen" /></div>
<div class="menuContentWrap" id="Mapmenue_img_3_1oebbmap3_title"><span class="menuSize"><img alt="U-Bahnen" src="/hafas-res/img/vs_scotty/js/CMenue/16x16/004_U-Bahn.gif"/>  U-Bahnen</span></div>
</div>
<script type="text/javascript">
/* <![CDATA[ */
document.getElementById('Mapmenue_img_3_1oebbmap3_title').onclick = function(){
imap_content_checkbox_dataoebbmap[3].img.onclick();
};
/* ]]> */
</script>
<script type='text/javascript'>
/* <![CDATA[ */
if(typeof Map_oebbmap_InitFunctions=="undefined")Map_oebbmap_InitFunctions=new Array;
Map_oebbmap_InitFunctions[Map_oebbmap_InitFunctions.length++]= function(){
var i=document.getElementById("Mapmenue_img_4_1oebbmap4");
if(typeof imap_content_checkbox_dataoebbmap == 'undefined')imap_content_checkbox_dataoebbmap = new Array();
if(typeof imap_content_map_contentoebbmap == 'undefined')imap_content_map_contentoebbmap = new Array();
imap_content_checkbox_dataoebbmap[4]={
divname:'Mapmenue_div_4_1',
map:Map_oebbmap,
minzoom:5896,
url:'https://fahrplan.oebb.at/bin/query.exe/dny?performLocating=2&tpl=stop2json&look_maxno=150&look_nv=get_stopweight|yes&look_maxdist=2088642&look_stopclass=512',
location:[
{minzoom:0,
imageurl:'/hafas-res/img/vs_scotty/js/CMenue/16x16/006_Tram.gif',
imagewidth:16,
imageheight:16,
alt:"Straßenbahnen",
hotspot:{x:8,y:8}}
,
{minzoom:20000,
imageurl:'/hafas-res/img/vs_scotty/js/CMenue/16x16/006_Tram.gif',
imagewidth:16,
imageheight:16,
alt:"Straßenbahnen",
hotspot:{x:8,y:8}}
,
{minzoom:100000,
imageurl:'/hafas-res/img/vs_scotty/js/CMenue/16x16/006_Tram.gif',
imagewidth:14,
imageheight:14,
alt:"Straßenbahnen",
hotspot:{x:7,y:7}}
,
{minzoom:600000,
imageurl:'/hafas-res/img/vs_scotty/js/CMenue/16x16/006_Tram.gif',
imagewidth:12,
imageheight:12,
alt:"Straßenbahnen",
hotspot:{x:6,y:6}}
],
checkbox_checked:'/hafas-res/img/vs_oebbmap/chbox_checked.png',
checkbox_unchecked:'/hafas-res/img/vs_oebbmap/chbox_unchecked.png',
checkbox_wait:'/hafas-res/img/vs_oebbmap/chbox_disabled.png',
checkbox_disabled:'/hafas-res/img/vs_oebbmap/chbox_disabled.png',
checkbox_checkeddisabled:'/hafas-res/img/vs_oebbmap/chbox_checkeddisabled.png',
img:i,
prio:26,
type:'',
state:'unchecked'
}
i.onclick=function(){imap_content_checkbox_click(4,imap_content_checkbox_dataoebbmap,imap_content_map_contentoebbmap)};
i.src="/hafas-res/img/vs_oebbmap/chbox_unchecked.png";
imap_map_onchange(4,imap_content_checkbox_dataoebbmap,imap_content_map_contentoebbmap);
// OnChange Handler setzen
Map_oebbmap.setOnChange(function(){
imap_map_onchange(4,imap_content_checkbox_dataoebbmap,imap_content_map_contentoebbmap);
});
}
/* ]]> */
</script>
<div onmouseout="document.getElementById('noDisplayPossibleoebbmap').style.display = 'none';" onmouseover="isDisplayPossibleoebbmap(event,'4');" id="Mapmenue_div_4_1oebbmap4" class="colicon">
<div class="menuImgWrap"><img id="Mapmenue_img_4_1oebbmap4" align="middle" height="13" width="13" src="/hafas-res/img/vs_oebbmap/chbox_disabled.png" alt="Straßenbahnen" title="Straßenbahnen" /></div>
<div class="menuContentWrap" id="Mapmenue_img_4_1oebbmap4_title"><span class="menuSize"><img alt="Straßenbahnen" src="/hafas-res/img/vs_scotty/js/CMenue/16x16/006_Tram.gif"/>  Straßenbahnen</span></div>
</div>
<script type="text/javascript">
/* <![CDATA[ */
document.getElementById('Mapmenue_img_4_1oebbmap4_title').onclick = function(){
imap_content_checkbox_dataoebbmap[4].img.onclick();
};
/* ]]> */
</script>
<script type='text/javascript'>
/* <![CDATA[ */
if(typeof Map_oebbmap_InitFunctions=="undefined")Map_oebbmap_InitFunctions=new Array;
Map_oebbmap_InitFunctions[Map_oebbmap_InitFunctions.length++]= function(){
var i=document.getElementById("Mapmenue_img_5_1oebbmap5");
if(typeof imap_content_checkbox_dataoebbmap == 'undefined')imap_content_checkbox_dataoebbmap = new Array();
if(typeof imap_content_map_contentoebbmap == 'undefined')imap_content_map_contentoebbmap = new Array();
imap_content_checkbox_dataoebbmap[5]={
divname:'Mapmenue_div_5_1',
map:Map_oebbmap,
minzoom:5896,
url:'https://fahrplan.oebb.at/bin/query.exe/dny?performLocating=2&tpl=stop2json&look_maxno=150&look_nv=get_stopweight|yes&look_maxdist=2088642&look_stopclass=64',
location:[
{minzoom:0,
imageurl:'/hafas-res/img/vs_scotty/js/CMenue/16x16/007_Bus.gif',
imagewidth:16,
imageheight:16,
alt:"Bus",
hotspot:{x:8,y:8}}
,
{minzoom:20000,
imageurl:'/hafas-res/img/vs_scotty/js/CMenue/16x16/007_Bus.gif',
imagewidth:16,
imageheight:16,
alt:"Bus",
hotspot:{x:8,y:8}}
,
{minzoom:100000,
imageurl:'/hafas-res/img/vs_scotty/js/CMenue/16x16/007_Bus.gif',
imagewidth:14,
imageheight:14,
alt:"Bus",
hotspot:{x:7,y:7}}
,
{minzoom:600000,
imageurl:'/hafas-res/img/vs_scotty/js/CMenue/16x16/007_Bus.gif',
imagewidth:12,
imageheight:12,
alt:"Bus",
hotspot:{x:6,y:6}}
],
checkbox_checked:'/hafas-res/img/vs_oebbmap/chbox_checked.png',
checkbox_unchecked:'/hafas-res/img/vs_oebbmap/chbox_unchecked.png',
checkbox_wait:'/hafas-res/img/vs_oebbmap/chbox_disabled.png',
checkbox_disabled:'/hafas-res/img/vs_oebbmap/chbox_disabled.png',
checkbox_checkeddisabled:'/hafas-res/img/vs_oebbmap/chbox_checkeddisabled.png',
img:i,
prio:25,
type:'',
state:'unchecked'
}
i.onclick=function(){imap_content_checkbox_click(5,imap_content_checkbox_dataoebbmap,imap_content_map_contentoebbmap)};
i.src="/hafas-res/img/vs_oebbmap/chbox_unchecked.png";
imap_map_onchange(5,imap_content_checkbox_dataoebbmap,imap_content_map_contentoebbmap);
// OnChange Handler setzen
Map_oebbmap.setOnChange(function(){
imap_map_onchange(5,imap_content_checkbox_dataoebbmap,imap_content_map_contentoebbmap);
});
}
/* ]]> */
</script>
<div onmouseout="document.getElementById('noDisplayPossibleoebbmap').style.display = 'none';" onmouseover="isDisplayPossibleoebbmap(event,'5');" id="Mapmenue_div_5_1oebbmap5" class="colicon">
<div class="menuImgWrap"><img id="Mapmenue_img_5_1oebbmap5" align="middle" height="13" width="13" src="/hafas-res/img/vs_oebbmap/chbox_disabled.png" alt="Bus" title="Bus" /></div>
<div class="menuContentWrap" id="Mapmenue_img_5_1oebbmap5_title"><span class="menuSize"><img alt="Bus" src="/hafas-res/img/vs_scotty/js/CMenue/16x16/007_Bus.gif"/>  Regional-/Stadtverkehre</span></div>
</div>
<script type="text/javascript">
/* <![CDATA[ */
document.getElementById('Mapmenue_img_5_1oebbmap5_title').onclick = function(){
imap_content_checkbox_dataoebbmap[5].img.onclick();
};
/* ]]> */
</script>
<script type='text/javascript'>
/* <![CDATA[ */
if(typeof Map_oebbmap_InitFunctions=="undefined")Map_oebbmap_InitFunctions=new Array;
Map_oebbmap_InitFunctions[Map_oebbmap_InitFunctions.length++]= function(){
var i=document.getElementById("Mapmenue_img_6_1oebbmap6");
if(typeof imap_content_checkbox_dataoebbmap == 'undefined')imap_content_checkbox_dataoebbmap = new Array();
if(typeof imap_content_map_contentoebbmap == 'undefined')imap_content_map_contentoebbmap = new Array();
imap_content_checkbox_dataoebbmap[6]={
divname:'Mapmenue_div_6_1',
map:Map_oebbmap,
minzoom:95300,
url:'https://fahrplan.oebb.at/bin/query.exe/dny?performLocating=2&tpl=stop2json&look_maxno=150&look_nv=get_stopweight|yes&look_maxdist=2088642&look_attr=gS',
location:[
{minzoom:0,
imageurl:'/hafas-res/img/vs_scotty/js/CMenue/16x16/sev.gif',
imagewidth:17,
imageheight:17,
alt:"Schienenersatzverkehr",
hotspot:{x:8,y:8}}
,
{minzoom:20000,
imageurl:'/hafas-res/img/vs_scotty/js/CMenue/16x16/sev.gif',
imagewidth:17,
imageheight:17,
alt:"Schienenersatzverkehr",
hotspot:{x:8,y:8}}
,
{minzoom:100000,
imageurl:'/hafas-res/img/vs_scotty/js/CMenue/16x16/sev.gif',
imagewidth:14,
imageheight:14,
alt:"Schienenersatzverkehr",
hotspot:{x:7,y:7}}
,
{minzoom:600000,
imageurl:'/hafas-res/img/vs_scotty/js/CMenue/16x16/sev.gif',
imagewidth:12,
imageheight:12,
alt:"Schienenersatzverkehr",
hotspot:{x:6,y:6}}
],
checkbox_checked:'/hafas-res/img/vs_oebbmap/chbox_checked.png',
checkbox_unchecked:'/hafas-res/img/vs_oebbmap/chbox_unchecked.png',
checkbox_wait:'/hafas-res/img/vs_oebbmap/chbox_disabled.png',
checkbox_disabled:'/hafas-res/img/vs_oebbmap/chbox_disabled.png',
checkbox_checkeddisabled:'/hafas-res/img/vs_oebbmap/chbox_checkeddisabled.png',
img:i,
prio:24,
type:'',
state:'unchecked'
}
i.onclick=function(){imap_content_checkbox_click(6,imap_content_checkbox_dataoebbmap,imap_content_map_contentoebbmap)};
i.src="/hafas-res/img/vs_oebbmap/chbox_unchecked.png";
imap_map_onchange(6,imap_content_checkbox_dataoebbmap,imap_content_map_contentoebbmap);
// OnChange Handler setzen
Map_oebbmap.setOnChange(function(){
imap_map_onchange(6,imap_content_checkbox_dataoebbmap,imap_content_map_contentoebbmap);
});
}
/* ]]> */
</script>
<div onmouseout="document.getElementById('noDisplayPossibleoebbmap').style.display = 'none';" onmouseover="isDisplayPossibleoebbmap(event,'6');" id="Mapmenue_div_6_1oebbmap6" class="colicon">
<div class="menuImgWrap"><img id="Mapmenue_img_6_1oebbmap6" align="middle" height="13" width="13" src="/hafas-res/img/vs_oebbmap/chbox_disabled.png" alt="Schienenersatzverkehr" title="Schienenersatzverkehr" /></div>
<div class="menuContentWrap" id="Mapmenue_img_6_1oebbmap6_title"><span class="menuSize"><img alt="Schienenersatzverkehr" src="/hafas-res/img/vs_scotty/js/CMenue/16x16/sev.gif"/>  Schienenersatzverkehr</span></div>
</div>
<script type="text/javascript">
/* <![CDATA[ */
document.getElementById('Mapmenue_img_6_1oebbmap6_title').onclick = function(){
imap_content_checkbox_dataoebbmap[6].img.onclick();
};
/* ]]> */
</script>
</div>
</div>
<div id="menuPOIoebbmapWrap" class="externalMenuColumn">
<div onclick="openMapMenu('POIoebbmap');" id="headlinePOIoebbmap" class="menuheadline activeMenu">
<strong>Points of Interest (POI)</strong>
</div>
<div class="menuContent" id="menuPOIoebbmap" style="display:block;">
<script type='text/javascript'>
/* <![CDATA[ */
if(typeof Map_oebbmap_InitFunctions=="undefined")Map_oebbmap_InitFunctions=new Array;
Map_oebbmap_InitFunctions[Map_oebbmap_InitFunctions.length++]= function(){
var i=document.getElementById("Mapmenue_img_1_1oebbmap7");
if(typeof imap_content_checkbox_dataoebbmap == 'undefined')imap_content_checkbox_dataoebbmap = new Array();
if(typeof imap_content_map_contentoebbmap == 'undefined')imap_content_map_contentoebbmap = new Array();
imap_content_checkbox_dataoebbmap[7]={
divname:'Mapmenue_div_1_1',
map:Map_oebbmap,
minzoom:110000,
url:'https://fahrplan.oebb.at/bin/query.exe/dny?performLocating=4&tpl=poi2json&look_pois=10|11|12|13|14|15&look_nv=get_stopweight|yes&',
location:[
{minzoom:0,
imageurl:'/hafas-res/img/vs_scotty/js/CMenue/16x16/poi_Public.gif',
imagewidth:16,
imageheight:16,
alt:"",
hotspot:{x:8,y:8}}
,
{minzoom:20000,
imageurl:'/hafas-res/img/vs_scotty/js/CMenue/12x12/poi_Public.gif',
imagewidth:12,
imageheight:12,
alt:"",
hotspot:{x:6,y:6}}
,
{minzoom:100000,
imageurl:'/hafas-res/img/vs_scotty/js/CMenue/8x8/poi_Public.gif',
imagewidth:8,
imageheight:8,
alt:"",
hotspot:{x:4,y:4}}
,
{minzoom:600000,
imageurl:'/hafas-res/img/vs_scotty/js/CMenue/4x4/poi_Public.gif',
imagewidth:4,
imageheight:4,
alt:"",
hotspot:{x:2,y:2}}
],
checkbox_checked:'/hafas-res/img/vs_oebbmap/chbox_checked.png',
checkbox_unchecked:'/hafas-res/img/vs_oebbmap/chbox_unchecked.png',
checkbox_wait:'/hafas-res/img/vs_oebbmap/chbox_disabled.png',
checkbox_disabled:'/hafas-res/img/vs_oebbmap/chbox_disabled.png',
checkbox_checkeddisabled:'/hafas-res/img/vs_oebbmap/chbox_checkeddisabled.png',
img:i,
prio:24,
type:'',
state:'unchecked'
}
i.onclick=function(){imap_content_checkbox_click(7,imap_content_checkbox_dataoebbmap,imap_content_map_contentoebbmap)};
i.src="/hafas-res/img/vs_oebbmap/chbox_unchecked.png";
imap_map_onchange(7,imap_content_checkbox_dataoebbmap,imap_content_map_contentoebbmap);
// OnChange Handler setzen
Map_oebbmap.setOnChange(function(){
imap_map_onchange(7,imap_content_checkbox_dataoebbmap,imap_content_map_contentoebbmap);
});
}
/* ]]> */
</script>
<div onmouseout="document.getElementById('noDisplayPossibleoebbmap').style.display = 'none';" onmouseover="isDisplayPossibleoebbmap(event,'7');" id="Mapmenue_div_1_1oebbmap7" class="colicon">
<div class="menuImgWrap"><img id="Mapmenue_img_1_1oebbmap7" align="middle" height="13" width="13" src="/hafas-res/img/vs_oebbmap/chbox_disabled.png" alt="Öffentliche Einrichtungen" title="" /></div>
<div class="menuContentWrap" id="Mapmenue_img_1_1oebbmap7_title"><img alt="Öffentliche Einrichtungen" src="/hafas-res/img/vs_scotty/js/CMenue/menue_16x16/poi_Public.gif" /> Öffentliche Einrichtungen</div>
</div>
<script type="text/javascript">
/* <![CDATA[ */
document.getElementById('Mapmenue_img_1_1oebbmap7_title').onclick = function(){
imap_content_checkbox_dataoebbmap[7].img.onclick();
};
/* ]]> */
</script>
<script type='text/javascript'>
/* <![CDATA[ */
if(typeof Map_oebbmap_InitFunctions=="undefined")Map_oebbmap_InitFunctions=new Array;
Map_oebbmap_InitFunctions[Map_oebbmap_InitFunctions.length++]= function(){
var i=document.getElementById("Mapmenue_img_2_1oebbmap8");
if(typeof imap_content_checkbox_dataoebbmap == 'undefined')imap_content_checkbox_dataoebbmap = new Array();
if(typeof imap_content_map_contentoebbmap == 'undefined')imap_content_map_contentoebbmap = new Array();
imap_content_checkbox_dataoebbmap[8]={
divname:'Mapmenue_div_2_1',
map:Map_oebbmap,
minzoom:110000,
url:'https://fahrplan.oebb.at/bin/query.exe/dny?performLocating=4&tpl=poi2json&look_pois=16|17|18&look_nv=get_stopweight|yes&',
location:[
{minzoom:0,
imageurl:'/hafas-res/img/vs_scotty/js/CMenue/16x16/poi_Parking.gif',
imagewidth:16,
imageheight:16,
alt:"",
hotspot:{x:8,y:8}}
,
{minzoom:20000,
imageurl:'/hafas-res/img/vs_scotty/js/CMenue/12x12/poi_Parking.gif',
imagewidth:12,
imageheight:12,
alt:"",
hotspot:{x:6,y:6}}
,
{minzoom:100000,
imageurl:'/hafas-res/img/vs_scotty/js/CMenue/8x8/poi_Parking.gif',
imagewidth:8,
imageheight:8,
alt:"",
hotspot:{x:4,y:4}}
,
{minzoom:600000,
imageurl:'/hafas-res/img/vs_scotty/js/CMenue/4x4/poi_Parking.gif',
imagewidth:4,
imageheight:4,
alt:"",
hotspot:{x:2,y:2}}
],
checkbox_checked:'/hafas-res/img/vs_oebbmap/chbox_checked.png',
checkbox_unchecked:'/hafas-res/img/vs_oebbmap/chbox_unchecked.png',
checkbox_wait:'/hafas-res/img/vs_oebbmap/chbox_disabled.png',
checkbox_disabled:'/hafas-res/img/vs_oebbmap/chbox_disabled.png',
checkbox_checkeddisabled:'/hafas-res/img/vs_oebbmap/chbox_checkeddisabled.png',
img:i,
prio:24,
type:'',
state:'unchecked'
}
i.onclick=function(){imap_content_checkbox_click(8,imap_content_checkbox_dataoebbmap,imap_content_map_contentoebbmap)};
i.src="/hafas-res/img/vs_oebbmap/chbox_unchecked.png";
imap_map_onchange(8,imap_content_checkbox_dataoebbmap,imap_content_map_contentoebbmap);
// OnChange Handler setzen
Map_oebbmap.setOnChange(function(){
imap_map_onchange(8,imap_content_checkbox_dataoebbmap,imap_content_map_contentoebbmap);
});
}
/* ]]> */
</script>
<div onmouseout="document.getElementById('noDisplayPossibleoebbmap').style.display = 'none';" onmouseover="isDisplayPossibleoebbmap(event,'8');" id="Mapmenue_div_2_1oebbmap8" class="colicon">
<div class="menuImgWrap"><img id="Mapmenue_img_2_1oebbmap8" align="middle" height="13" width="13" src="/hafas-res/img/vs_oebbmap/chbox_disabled.png" alt="Parkplatz" title="" /></div>
<div class="menuContentWrap" id="Mapmenue_img_2_1oebbmap8_title"><img alt="Parkplatz" src="/hafas-res/img/vs_scotty/js/CMenue/menue_16x16/poi_Parking.gif" /> Parkplatz</div>
</div>
<script type="text/javascript">
/* <![CDATA[ */
document.getElementById('Mapmenue_img_2_1oebbmap8_title').onclick = function(){
imap_content_checkbox_dataoebbmap[8].img.onclick();
};
/* ]]> */
</script>
</div>
</div>
</div>
</div>
</div>
</div>
<div style="clear:both;"></div>
<script type="text/javascript">
// <![CDATA[
var currentShowAllMessages = true;
var currentSelectedSingleMsg = null;
var currentHimArray = new Array();
var currentHimLabelArray = new Array();
var currentHimContentById = {};
var msgCoordinates = new Object;
var msgCoordinatesIndexArr = new Array();
var currentCountryFilter = null;
var windowFocussed = false;
var monthShortNames = new Array();
monthShortNames[1] = "Jan";
monthShortNames[2] = "Feb";
monthShortNames[3] = "Mär";
monthShortNames[4] = "Apr";
monthShortNames[5] = "Mai";
monthShortNames[6] = "Jun";
monthShortNames[7] = "Jul";
monthShortNames[8] = "Aug";
monthShortNames[9] = "Sep";
monthShortNames[10] = "Okt";
monthShortNames[11] = "Nov";
monthShortNames[12] = "Dez";
Event.observe(window,"focus",function(){
windowFocussed = true;
});
Event.observe(window,"blur",function(){
windowFocussed = false;
});
function calculateNewMapWidth(){
var windowWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
var marginLeft = windowWidth * 0.05;
var rightCabin = 180;
var spaceForMap = windowWidth - 2*marginLeft - rightCabin - 15;
Map_oebbmap.mapDiv.style.width = parseInt(spaceForMap) + "px";
Map_oebbmap.mapDiv.parentNode.style.width = parseInt(spaceForMap) + "px";
Map_oebbmap.updateSize();
}
var popupMessages = new Array();
filterByCountry = function(countryCode,countryName){
currentCountryFilter = countryCode;
document.getElementById('countryFilterHintMsg').innerHTML = 'Derzeit werden nur Störungsmeldungen für&nbsp;<strong>' + countryName + '</strong>&nbsp;angezeigt. <br/><a href="javascript:void(0);" onclick="javascript:removeCountryFilter();">Länderfilter zurückstellen</a>';
document.getElementById('countryFilterHintMsg').style.display = 'block';
checkMenuHeight('Countryoebbmap');
filterTableByDate();
}
removeCountryFilter = function(){
currentCountryFilter = null;
document.getElementById('countryFilterHintMsg').style.display = 'none';
checkMenuHeight('Countryoebbmap');
filterTableByDate();
Map_oebbmap.setBoundingBox(countryInformation[81]);
}
optimizeMarkerView = function(markerArray,map,x,y){
var segment = 360/markerArray.length;
var segmentRad = segment*Math.PI/180;
var currentRad = segmentRad;
if(markerArray.length > 1){
for(var i=0; i < markerArray.length; i++){
var currMarker = map.content.get(markerArray[i]);
var newParam = currMarker;
var currCoord = currMarker.coord;
var currX = currCoord.getLon();
var currY = currCoord.getLat();
//var xMultiplier = Math.round(Math.cos(currentRad));
//var yMultiplier = Math.round(Math.sin(currentRad));
var xMultiplier = Math.cos(currentRad);
var yMultiplier = Math.sin(currentRad);
var newX = currX + xMultiplier*1000;
var newY = currY + yMultiplier*750;
newParam.coord = new CCoord({lon:newX,lat:newY});
map.updateContent(markerArray[i],null,newParam);
currentRad+=segmentRad;
}
}
}
getBetraStatus = function(himMsg){
var today = new Date();
var beginHimMsg = string2date(himMsg.begin);
var endHimMsg = string2date(himMsg.end);
var diff = ((Date.parse(beginHimMsg) - Date.parse(today))/ 1000 / 60 / 60 / 24);
if((Date.parse(today) >= Date.parse(beginHimMsg)) && (Date.parse(today) <= Date.parse(endHimMsg))){
return {content:"H",icon:"iconNrToday"};
}else if((Date.parse(today) < Date.parse(beginHimMsg)) && (diff <= 30)){
return {content:parseInt(beginHimMsg.getDate()),icon:"iconNrDay"};
}else{
return {content:monthShortNames[beginHimMsg.getMonth()+1], icon:"iconNrMonth"}
}
}
toggleHimScrolling = function(boolval){
if(boolval){
$('himTextInfo').addClassName("extraScrollbars");
}else{
$('himTextInfo').removeClassName("extraScrollbars");
}
}
clearCurrentSingleMsg = function(){
if(currentSelectedSingleMsg != null){
$('messageTypeNr'+ currentSelectedSingleMsg).removeClassName('highlighted');
}
currentSelectedSingleMsg = null;
}
convertBBCodes2HTML = function(text){
text = url2htmlConversion(text);
return text;
}
url2htmlConversion = function(text){
var src = text.match(/\[\url=(\S+)\](\S+)\[\/url\]/g);
text = text.replace(/\[b\]/g,"<b>");
text = text.replace(/\[\/b\]/g,"</b>");
text = text.replace(/\[u\]/g,"<u>");
text = text.replace(/\[\/u\]/g,"</u>");
text = text.replace(/\[url=(.*?)\](.*?)\[\/url\]/g,"<a href='$1'>$2</a>");
if(src != null) {
for(var i=0; i < src.length;i++) {
var currReg = new RegExp(src[i],"g");
text.match(currReg);
/*var aUrl = src[i].substring(src[i].indexOf("=")+1,src[i].indexOf("]"));
var linkLabel = src[i].substring(src[i].indexOf("]")+1,src[i].lastIndexOf("["));
text = text.replace(/\[url=(\S+)\]/g,'<a href="'+aUrl+'">');
console.log(text);*/
// text = text.replace(/\[url=(\S+)\]/g,'<a href="'+aUrl+'">' + linkLabel + '</a>');
}
}
return text;
}
toggleHimContent = function(checked,icon,map,textmenu,connid){
if(!checked){
document.getElementById('oebb_him_msgoebbmap').checked = checked
}
if(typeof currentHimArray[icon] != 'undefined'){
for(var i=0; i < currentHimArray[icon].length;i++){
if(!checked){
if(typeof currentHimArray[icon][i] != 'undefined'){
map.hideContent(currentHimArray[icon][i]);
}
if(typeof currentHimLabelArray[icon][i] != 'undefined'){
map.hideContent(currentHimLabelArray[icon][i]);
}
}else{
map.showContent(currentHimArray[icon][i]);
if(typeof currentHimLabelArray[icon][i] != 'undefined'){
map.showContent(currentHimLabelArray[icon][i]);
}
}
}
}
if(typeof connid == 'undefined'){
if(icon != 7){
if(!checked){
document.getElementById(himIds[icon] + 'oebbmap_Headline').style.display = 'none';
document.getElementById(himIds[icon] + 'oebbmap_Table').style.display = 'none';
}else{
document.getElementById(himIds[icon] + 'oebbmap_Headline').style.display = 'block';
}
}
filterTableByDate(currentShowAllMessages);
}
}
showHimTexts = function(view){
for(var k=0; k < himIds.length;k++){
if(typeof himIds[k] != 'undefined'){
document.getElementById(himIds[k] + 'oebbmap_Headline').style.display = view;
document.getElementById(himIds[k] + 'oebbmap_Table').style.display = 'none';
}
}
}
toggleAllHimContent = function(chbox,map,textmenu,mapname,connid){
if(document.getElementById("oebb_him_msg_chbox_5"+mapname) != null){
document.getElementById("oebb_him_msg_chbox_5"+mapname).checked = chbox;
}
toggleHimContent(chbox, '5', Map_oebbmap,true);
if(document.getElementById("oebb_him_msg_chbox_2"+mapname) != null){
document.getElementById("oebb_him_msg_chbox_2"+mapname).checked = chbox;
}
toggleHimContent(chbox, '2', Map_oebbmap,true);
if(document.getElementById("oebb_him_msg_chbox_1"+mapname) != null){
document.getElementById("oebb_him_msg_chbox_1"+mapname).checked = chbox;
}
toggleHimContent(chbox, '1', Map_oebbmap,true);
if(document.getElementById("oebb_him_msg_chbox_0"+mapname) != null){
document.getElementById("oebb_him_msg_chbox_0"+mapname).checked = chbox;
}
toggleHimContent(chbox, '0', Map_oebbmap,true);
if(document.getElementById("oebb_him_msg_chbox_4"+mapname) != null){
document.getElementById("oebb_him_msg_chbox_4"+mapname).checked = chbox;
}
toggleHimContent(chbox, '4', Map_oebbmap,true);
if(document.getElementById("oebb_him_msg_chbox_7"+mapname) != null){
document.getElementById("oebb_him_msg_chbox_7"+mapname).checked = chbox;
}
toggleHimContent(chbox, '7', Map_oebbmap,true);
if(document.getElementById("oebb_him_msg_chbox_8"+mapname) != null){
document.getElementById("oebb_him_msg_chbox_8"+mapname).checked = chbox;
}
toggleHimContent(chbox, '8', Map_oebbmap,true);
if(typeof connid == 'undefined'){
filterTableByDate(currentShowAllMessages);
}
}
drawCountryFlag = function(bb,image){
var xcoord = (bb.sw.x + bb.ne.x) / 2;
var ycoord = (bb.sw.y + bb.ne.y) / 2;
var countryFlag = Map_oebbmap.createContent({
type:'location',
coord:new CCoord({lon:xcoord,lat:ycoord}),
hotspot:{x:9,y:9},
imageurl:image,
imagewidth:18,
imageheight:18
});
Map_oebbmap.showContent(countryFlag);
}
toggleLayer = function(chbox,id){
var map = eval('Map_'+id);
if(chbox.checked){
map.addTileLayer({url:'https://xmaps-prod.oebb.at/haiti/wsgi-bin/haiti.wsgi?style=oebb2010&',tiletyp:'dyn',opacity:1.0,id:'trackoebb'});
}else{
map.removeTileLayer('trackoebb')
}
}
himContentoebbmap = new Array();
for(var k=0; k < 6; k++){
himContentoebbmap[k] = new Array();
}
checkMenuHeight = function(id){
var divsToClose = new Array("Legend","POI","Stations","Layer","Country");
var counter = 0;
var mapHeight = document.getElementById('oebbmap').clientHeight;
var menuHeight = document.getElementById('mainMenuContainer').clientHeight;
while(menuHeight > (mapHeight) && (counter < divsToClose.length)){
if(document.getElementById('menu'+divsToClose[counter]+'oebbmap')){
var currentMenuHeight = document.getElementById('menu'+divsToClose[counter]+'oebbmap').clientHeight;
// Men&#252; verkleinern
if((typeof id == 'undefined') || (id != divsToClose[counter]+'oebbmap')){
menuHeight -= currentMenuHeight;
$("menu"+divsToClose[counter]+"oebbmap").style.display = 'none';
$("headline"+divsToClose[counter]+"oebbmap").removeClassName('activeMenu');
}
}
counter++;
}
counter=0;
}
openMenuoebbmap = null;
openMapMenu = function(id){
if(document.getElementById('menu'+id).style.display == 'none'){
Effect.Appear('menu'+id,{duration:0.1,afterFinish:function(){ checkMenuHeight(id) }});
document.getElementById('headline'+id).className += ' activeMenu';
openMenuoebbmap = id;
}else{
Effect.Fade('menu'+id,{duration:0.1});
$('headline'+id).removeClassName('activeMenu');
document.getElementById('menu'+id+'Wrap').style.color = '';
openMenuoebbmap = null;
}
}
toggleHimLayer = function(chbox,metachbox,id,showTextMenu){
}
Event.observe(window,"load",checkMenuHeight);
function displayInMap(){
return true;
}
function markAllPopUpMsgAsSeen(){
for(var k in himPopUps){
himPopUps[k].seen = true;
}
}
var hafasHimPopupWindow = null;
function getAllHimMessages(map){
var bb = map.getBoundingBox();
var dateParam = getCurrentUserDateInput();
if (dateParam == null)
{
return;
}
var aUrl = 'https://fahrplan.oebb.at/bin/query.exe/dny?performLocating=512&tpl=himmatch2oldjson&look_nv=type|himmatch|pubchannels|map_customer,messagelist_customer|no_match|yes|maxnumber|200|'+dateParam;
new Ajax.Request(aUrl,{
onSuccess:function(o){
clearAllHimContent();
clearHimMapContent();
var obj = eval('(' + o.responseText + ')');
obj.him = obj.him.sortBy(function(s) { return string2date(s.begin); });
for(var i=0;i < obj.him.length;i++){
/* PopUp anzeigen oder nicht? (Vorraussetzung Karte wurde bereits initialisiert und entsprechendes Flag ist auf "true" gesetzt */
var iconvalue = ""+obj.him[i].icon+"";
/* Mapping auf entsprechendes Image */
/*if(obj.him[i].icon == 4){  //6
obj.him[i].icon = 5;
obj.him[i].iconimage = 4;  //6
}else{
obj.him[i].iconimage = obj.him[i].icon;
}
} */
obj.him[i].iconimage = obj.him[i].icon;
if(parseInt(obj.him[i].icon) == 6){
obj.him[i].icon = 5;
}
/* Pr&#252;fen ob Eintrag in Karte angezeigt werden darf! */
if(displayInMap(obj.him[i].map_customer)){
if(typeof currentHimArray[obj.him[i].icon] == 'undefined'){
currentHimArray[obj.him[i].icon] = new Array();
currentHimLabelArray[obj.him[i].icon] = new Array();
}
// Pr&#252;fen ob manuelle verschobene Icon-Position existiert, dann diese nutzen ansonsten
if((typeof obj.him[i].iconPosX != "undefined") && (typeof obj.him[i].iconPosY != "undefined")){
var xcoord = parseInt(obj.him[i].iconPosX);
var ycoord = parseInt(obj.him[i].iconPosY);
}else{
// Hack Koordinaten verschieben, wenn es sich um eine stationsbezogene Meldung handelt
if((typeof obj.him[i].y != 'undefined') && (typeof obj.him[i].x != 'undefined') && (parseInt(obj.him[i].x) != 0) && (parseInt(obj.him[i].y) != 0)){
if((typeof obj.him[i].arrloc == "undefined") || (obj.him[i].arrloc == "")){
//var xcoord = parseInt(obj.him[i].x) + 1000;
//var ycoord = parseInt(obj.him[i].y) + 1000;
var xcoord = parseInt(obj.him[i].x);
var ycoord = parseInt(obj.him[i].y);
}else{
var xcoord = parseInt(obj.him[i].x);
var ycoord = parseInt(obj.him[i].y);
}
}else{
if(parseInt(obj.him[i].locationtype) == 2){
var xcoord = parseInt(obj.him[i].startstation_x);
var ycoord = parseInt(obj.him[i].startstation_y);
}else{
// Position nach Land durch Boundingbox bestimmen:
if(typeof obj.him[i].uic != 'undefined' && obj.him[i].uic.length > 0){
var xcoord = (countryInformation[obj.him[i].uic].sw.x + countryInformation[obj.him[i].uic].ne.x) / 2;
var ycoord = (countryInformation[obj.him[i].uic].sw.y + countryInformation[obj.him[i].uic].ne.y) / 2;
}else{
continue;
}
}
}
}
if(typeof obj.him[i].mapText != "undefined"){
var currentHimMsgText = obj.him[i].mapText;
}else{
var currentHimMsgText = obj.him[i].text;
}
var currentInfoContent = '<div style="padding:4px;">'+convertBBCodes2HTML(currentHimMsgText);
/* Weitere Urls verf&#252;gbar */
if(typeof obj.him[i].additional_urls != 'undefined'){
currentInfoContent += "<div style='margin-top:2px;margin-bottom:2px;'>" + getAdditionalUrls(obj.him[i].additional_urls,"messagelist_customer") + "</div>";
}
if(typeof obj.him[i].customurl != 'undefined'){
var urlLabel = obj.him[i].linktext || obj.him[i].customurl;
currentInfoContent += '<div><a href="'+obj.him[i].customurl+'">' + urlLabel + '</a></div>';
}
currentInfoContent += '</div>';
if((parseInt(obj.him[i].icon) == 5) || (parseInt(obj.him[i].icon) == 6)){
var currentImageHeight = 28;
var currentImageWidth = 28;
}else if(parseInt(obj.him[i].icon) == 8){
var currentImageHeight = 24;
var currentImageWidth = 24;
}else{
var currentImageHeight = 17;
var currentImageWidth = 17;
}
var title = '';
var revision_string = '';
if(typeof obj.him[i].revision != 'undefined'){
title += 'Update '+obj.him[i].revision + ' ';
}
title += obj.him[i].header;
if(typeof obj.him[i].alternativeSection != "undefined"){
title +=  ': ' + obj.him[i].alternativeSection;
}else{
if(typeof obj.him[i].deploc != 'undefined'){
title += ': '+obj.him[i].deploc;
}
if(typeof obj.him[i].arrloc != 'undefined'){
title += ' - '+obj.him[i].arrloc+' ';
}
}
currentInfoContent = '<div class="hfs_himMessageWrap">' + decodeHTMLEntities(currentInfoContent) + '</div>';
var currHimMsg = map.createContent({
type:'location',
himmessage:obj.him[i].text,
coord:new CCoord({lon:xcoord,lat:ycoord}),
infotitle:title,
imageurl:himMsgTypes[iconvalue],
imageheight:currentImageHeight,
imagewidth:currentImageWidth,
hotspot:{x:(currentImageWidth/2),y:(currentImageHeight/2)},
prio:35
,infocontent:currentInfoContent
});
/* Alle HimMeldungen in ein koordinaten-assoziatives Array einsortieren */
if(typeof msgCoordinates[xcoord] == 'undefined'){
msgCoordinates[xcoord] = new Object;
}
if(typeof msgCoordinates[xcoord][ycoord] == 'undefined'){
msgCoordinates[xcoord][ycoord] = new Array;
msgCoordinatesIndexArr.push({x:xcoord ,y:ycoord });
}
msgCoordinates[xcoord][ycoord].push(currHimMsg);
map.showContent(currHimMsg);
currentHimArray[obj.him[i].icon][i] = currHimMsg;
currentHimContentById[obj.him[i].id] = currHimMsg;
}      /*pr&#252;fen ob eintrag in karte angezeigt werden darf */
}
himMapInitialised = true;
/* Table generieren */
generateInfoTable(obj,'oebbmap');
filterTableByDate(currentShowAllMessages);
for(var p=0; p < msgCoordinatesIndexArr.length;p++){
optimizeMarkerView(msgCoordinates[msgCoordinatesIndexArr[p].x][msgCoordinatesIndexArr[p].y],map,msgCoordinatesIndexArr[p].x,msgCoordinatesIndexArr[p].y);
}
}
});
}
// ]]>
</script>
<div style="clear:both;"></div>
</div>
<div style="clear:both;"></div>
</div>
<div style="clear:both;"></div>
</div>
<div style="clear:both;"></div>
<div align="center" style="margin-bottom: 5px;margin-top:15px">
<div id="dateChooser">
<form name="formular" action="">
<div style="margin-top: 5px; width: 980px;">
<label title="Format:dd.mm.jj" for="ValPeriodDate1"><strong>Datum</strong></label> 
<input autocomplete="off" name="REQ0JourneyDate" type="text" value="Mi, 28.09.2022" id="ValPeriodDate1"/>
<a href="#" class="noTextDecoration calendar_ico" onclick="javascript:createCalendar('0');toggleDivCal('0');return false;" id="callink0">Kalender</a> bis
<input autocomplete="off" name="REQ1JourneyDate" type="text" value="Mi, 28.09.2022" id="ValPeriodDate2"/>
<a href="#" class="noTextDecoration calendar_ico" onclick="javascript:createCalendar('1');toggleDivCal('1');return false;" id="callink1">Kalender</a>
<input type="button" onclick="getAllHimMessages(Map_oebbmap);" value="Anzeigen" class="button"/>
<input class="button" type="button" onclick="fillWithTodaysDate();filterTableByDate(currentShowAllMessages);" value="Heute"/>
<input class="button" type="button" onclick="fillWithDefaulDate();filterTableByDate(currentShowAllMessages);" value="gesamte Fahrplanperiode"/>
<input id="showHimInfoTable" class="button textBlockActive" type="button" onclick="javascript:toggleElement('himTextInfo',this);" value="textuelle Ansicht"/>
<input id="scrollBarToggle" autocomplete="off" type="checkbox" onclick="javascript:toggleHimScrolling(this.checked);"/> <label class="scrollBarToggle" for="scrollBarToggle">Scrollbars</label>
</div>
</form>
<div id="calendar0" class="calendardiv" style="display:none;">
<div id="caldiv0"></div>
</div>
<div id="calendar1" class="calendardiv" style="display:none;">
<div id="caldiv1"></div>
</div>
</div>
<script language="javascript" type="text/javascript">
/* <![CDATA[ */
eval("current = document.formular.REQ0JourneyDate.value;");
function e(id){
return document.getElementById(id);
}
var dateFormat  = "%d.%m.%Y";
var monthsTexts = new Array("Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember");
var weekdayTexts = new Array("Mo","Di","Mi","Do","Fr","Sa","So");
var calcon_config0 = {
"formName"        : "document.formular",
"selectDayName"   : "input_day0",
"selectYearname"  : "input_year0",
"fieldName"       : "REQ0JourneyDate",
"periodS"         : parseUserDateInput("22.07.2022"),
"periodE"         : parseUserDateInput("09.12.2023"),
"value"           : parseUserDateInput(current),
"today"           : parseUserDateInput("28.09.2022"),
"viewPeriodS"     : parseUserDateInput("22.07.2022"),
"viewPeriodE"     : parseUserDateInput("09.12.2023"),
"dataPeriodS"     : parseUserDateInput("22.07.2022"),
"dataPeriodE"     : parseUserDateInput("09.12.2023"),
"monthsTexts"     : monthsTexts,
"weekdaysTexts"   : weekdayTexts,
"showShortYear"   : false
}
var calendar_config0 = {
"id"               : "cal0",
"divid"            : "caldiv0",
"scrollable"       : true,
"useDataPeriod"    : true,
"readOnly"         : false,
"closeOnSetDate"   : true,
"internalScrollers": true,
"prevMonthHTML"    : "&laquo;",
"nextMonthHTML"    : "&raquo;",
"weekNoHTML"       : "",
"hideCallBackName" : "toggleDivCal"
}
// One calendarcontrol and config for each date block
calcon0 = calman.getNewCalCon(calcon_config0);
//alert(calcon0.getNewCalendar(calendar_config0));
cal0 = calcon0.getNewCalendar(calendar_config0);
function onUpdate (aValue)
{
// do date fields syncronisations
var calid = aValue.id.charAt(aValue.id.length-1);
var date = parseUserDateInput(aValue.value);
calcon0.setDate( date );
if (aValue.type == "text") {
cal0.value = date;
cal0.jumpToValue();
cal0.draw();
}
if (aValue.type == "calendar") {
var test = calcon0.formName+"."+calcon0.fieldName+".value = calcon0.formatDate(date,calcon0.showShortYear,true)";
eval(test);
eval(calcon0.formName+"."+calcon0.fieldName+".focus();");
}
}
calcon0.observe = onUpdate;
// observe input field
makeObservable(document.getElementsByName(calcon0.fieldName)[0], calcon0);
// for onclick event:
function createCalendar(currentId) {
var cal = eval("cal"+currentId);
var calCon = eval("calcon"+currentId);
var calConf = eval("calendar_config"+currentId);
if (typeof cal != "calendar") {
cal = calCon.getNewCalendar(calConf);
}
cal.value = calCon.value;
cal.jumpToValue();
cal.draw();
}
/* ]]> */
</script>
<script language="javascript" type="text/javascript">
/* <![CDATA[ */
eval("current = document.formular.REQ1JourneyDate.value;");
function e(id){
return document.getElementById(id);
}
var dateFormat  = "%d.%m.%Y";
var monthsTexts = new Array("Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember");
var weekdayTexts = new Array("Mo","Di","Mi","Do","Fr","Sa","So");
var calcon_config1 = {
"formName"        : "document.formular",
"selectDayName"   : "input_day1",
"selectYearname"  : "input_year1",
"fieldName"       : "REQ1JourneyDate",
"periodS"         : parseUserDateInput("22.07.2022"),
"periodE"         : parseUserDateInput("09.12.2023"),
"value"           : parseUserDateInput(current),
"today"           : parseUserDateInput("28.09.2022"),
"viewPeriodS"     : parseUserDateInput("22.07.2022"),
"viewPeriodE"     : parseUserDateInput("09.12.2023"),
"dataPeriodS"     : parseUserDateInput("22.07.2022"),
"dataPeriodE"     : parseUserDateInput("09.12.2023"),
"monthsTexts"     : monthsTexts,
"weekdaysTexts"   : weekdayTexts,
"showShortYear"   : false
}
var calendar_config1 = {
"id"               : "cal1",
"divid"            : "caldiv1",
"scrollable"       : true,
"useDataPeriod"    : true,
"readOnly"         : false,
"closeOnSetDate"   : true,
"internalScrollers": true,
"prevMonthHTML"    : "&laquo;",
"nextMonthHTML"    : "&raquo;",
"weekNoHTML"       : "",
"hideCallBackName" : "toggleDivCal"
}
// One calendarcontrol and config for each date block
calcon1 = calman.getNewCalCon(calcon_config1);
//alert(calcon0.getNewCalendar(calendar_config0));
cal1 = calcon1.getNewCalendar(calendar_config1);
function onUpdate (aValue)
{
// do date fields syncronisations
var calid = aValue.id.charAt(aValue.id.length-1);
var date = parseUserDateInput(aValue.value);
calcon1.setDate( date );
if (aValue.type == "text") {
cal1.value = date;
cal1.jumpToValue();
cal1.draw();
}
if (aValue.type == "calendar") {
var test = calcon1.formName+"."+calcon1.fieldName+".value = calcon1.formatDate(date,calcon1.showShortYear,true)";
eval(test);
eval(calcon1.formName+"."+calcon1.fieldName+".focus();");
}
}
calcon1.observe = onUpdate;
// observe input field
makeObservable(document.getElementsByName(calcon1.fieldName)[0], calcon1);
// for onclick event:
function createCalendar(currentId) {
var cal = eval("cal"+currentId);
var calCon = eval("calcon"+currentId);
var calConf = eval("calendar_config"+currentId);
if (typeof cal != "calendar") {
cal = calCon.getNewCalendar(calConf);
}
cal.value = calCon.value;
cal.jumpToValue();
cal.draw();
}
/* ]]> */
</script>
<div class="errormsg" id="himTextBlockErr" style="display:none;margin-top:10px;color:#ff0000;">
<span>Ung&#252;ltiger Zeitraum angegeben. Bitte korrigieren Sie ihre Eingaben</span>
</div>
<div class="errormsg" id="himTextBlockErr2" style="display:none;margin-top:10px;color:#ff0000;">
<span>Ung&#252;ltiges Datumsformat. Bitte korrigieren Sie ihre Eingaben oder w&#228;hlen Sie ein Datum aus dem Kalender.</span>
</div>
<div id="himTextInfo" style="text-align: left;background-color:white;width:948px;display:block;">
<div id="oebb_him_msg_chbox_5oebbmap_Headline" style="display:block;" class="tableHeadline" onclick="toggleHimInfos('oebb_him_msg_chbox_5oebbmap_Table','oebb_him_msg_urgentoebbmap_Image');" onmouseout='this.style.backgroundColor="#CCCCCC"' onmouseover='this.style.backgroundColor="#BFBFBF"'>
<img alt="anzeigen" id="oebb_him_msg_urgentoebbmap_Image" style="vertical-align:text-bottom;" src="/hafas-res/img/vs_scotty/klapppfeil_rechts_grau_16x16.gif"/> Aktueller Notfall
</div>
<div id="oebb_him_msg_chbox_5oebbmap_Table"  style="display:none;">
<table style="width:100%;" id="oebb_him_msg_urgentoebbmap_innerTable">
<tbody id="oebb_him_msg_chbox_5oebbmap_tBody">
<tr id="oebb_him_msg_chbox_5oebbmap_notfound" style="display:none;">
<td colspan="4">
Derzeit liegen f&#252;r diese Kategorie im ausgew&#228;hlten Kartenausschnitt keine Meldungen vor
</td>
</tr>
</tbody>
</table>
</div>
<div id="oebb_him_msg_chbox_2oebbmap_Headline" style="display:block;" class="tableHeadline" onclick="toggleHimInfos('oebb_him_msg_chbox_2oebbmap_Table','oebb_him_msg_canceloebbmap_Image');" onmouseout='this.style.backgroundColor="#CCCCCC"' onmouseover='this.style.backgroundColor="#BFBFBF"'>
<img alt="anzeigen" id="oebb_him_msg_canceloebbmap_Image" style="vertical-align:text-bottom;" src="/hafas-res/img/vs_scotty/klapppfeil_rechts_grau_16x16.gif"/> Ausfall
</div>
<div id="oebb_him_msg_chbox_2oebbmap_Table"  style="display:none;">
<table style="width:100%;" id="oebb_him_msg_canceloebbmap_innerTable">
<tbody id="oebb_him_msg_chbox_2oebbmap_tBody">
<tr id="oebb_him_msg_chbox_2oebbmap_notfound" style="display:none;">
<td colspan="4">
Derzeit liegen f&#252;r diese Kategorie im ausgew&#228;hlten Kartenausschnitt keine Meldungen vor
</td>
</tr>
</tbody>
</table>
</div>
<div id="oebb_him_msg_chbox_1oebbmap_Headline" style="display:block;" class="tableHeadline" onclick="toggleHimInfos('oebb_him_msg_chbox_1oebbmap_Table','oebb_him_msg_constructionoebbmap_Image');" onmouseout='this.style.backgroundColor="#CCCCCC"' onmouseover='this.style.backgroundColor="#BFBFBF"'>
<img alt="anzeigen" id="oebb_him_msg_constructionoebbmap_Image" style="vertical-align:text-bottom;" src="/hafas-res/img/vs_scotty/klapppfeil_rechts_grau_16x16.gif"/> Baustellen
</div>
<div id="oebb_him_msg_chbox_1oebbmap_Table"  style="display:none;">
<table style="width:100%;" id="oebb_him_msg_constructionoebbmap_innerTable">
<tbody id="oebb_him_msg_chbox_1oebbmap_tBody">
<tr id="oebb_him_msg_chbox_1oebbmap_notfound" style="display:none;">
<td colspan="4">
Derzeit liegen f&#252;r diese Kategorie im ausgew&#228;hlten Kartenausschnitt keine Meldungen vor
</td>
</tr>
</tbody>
</table>
</div>
<div id="oebb_him_msg_chbox_0oebbmap_Headline" style="display:block;" class="tableHeadline" onclick="toggleHimInfos('oebb_him_msg_chbox_0oebbmap_Table','oebb_him_msg_replacementsoebbmap_Image');" onmouseout='this.style.backgroundColor="#CCCCCC"' onmouseover='this.style.backgroundColor="#BFBFBF"'>
<img alt="anzeigen" id="oebb_him_msg_replacementsoebbmap_Image" style="vertical-align:text-bottom;" src="/hafas-res/img/vs_scotty/klapppfeil_rechts_grau_16x16.gif"/> Ersatzverkehr
</div>
<div id="oebb_him_msg_chbox_0oebbmap_Table"  style="display:none;">
<table style="width:100%;" id="oebb_him_msg_replacementsoebbmap_innerTable">
<tbody id="oebb_him_msg_chbox_0oebbmap_tBody">
<tr id="oebb_him_msg_chbox_0oebbmap_notfound" style="display:none;">
<td colspan="4">
Derzeit liegen f&#252;r diese Kategorie im ausgew&#228;hlten Kartenausschnitt keine Meldungen vor
</td>
</tr>
</tbody>
</table>
</div>
<div id="oebb_him_msg_chbox_4oebbmap_Headline" style="display:block;" class="tableHeadline" onclick="toggleHimInfos('oebb_him_msg_chbox_4oebbmap_Table','oebb_him_msg_informationoebbmap_Image');" onmouseout='this.style.backgroundColor="#CCCCCC"' onmouseover='this.style.backgroundColor="#BFBFBF"'>
<img alt="anzeigen" id="oebb_him_msg_informationoebbmap_Image" style="vertical-align:text-bottom;" src="/hafas-res/img/vs_scotty/klapppfeil_rechts_grau_16x16.gif"/> Information
</div>
<div id="oebb_him_msg_chbox_4oebbmap_Table"  style="display:none;">
<table style="width:100%;" id="oebb_him_msg_informationoebbmap_innerTable">
<tbody id="oebb_him_msg_chbox_4oebbmap_tBody">
<tr id="oebb_him_msg_chbox_4oebbmap_notfound" style="display:none;">
<td colspan="4">
Derzeit liegen f&#252;r diese Kategorie im ausgew&#228;hlten Kartenausschnitt keine Meldungen vor
</td>
</tr>
</tbody>
</table>
</div>
<div id="oebb_him_msg_chbox_6oebbmap_Headline" style="display:none;" class="tableHeadline" onclick="toggleHimInfos('oebb_him_msg_chbox_6oebbmap_Table','oebb_him_msg_loadingoebbmap_Image');" onmouseout='this.style.backgroundColor="#CCCCCC"' onmouseover='this.style.backgroundColor="#BFBFBF"'>
<img alt="anzeigen" id="oebb_him_msg_loadingoebbmap_Image" style="vertical-align:text-bottom;" src="/hafas-res/img/vs_scotty/klapppfeil_rechts_grau_16x16.gif"/> Verladezeit
</div>
<div id="oebb_him_msg_chbox_6oebbmap_Table"  style="display:none;">
<table style="width:100%;" id="oebb_him_msg_loadingoebbmap_innerTable">
<tbody id="oebb_him_msg_chbox_6oebbmap_tBody">
<tr id="oebb_him_msg_chbox_6oebbmap_notfound" style="display:none;">
<td colspan="4">
Derzeit liegen f&#252;r diese Kategorie im ausgew&#228;hlten Kartenausschnitt keine Meldungen vor
</td>
</tr>
</tbody>
</table>
</div>
<div id="oebb_him_msg_chbox_8oebbmap_Headline" style="display:none;" class="tableHeadline" onclick="toggleHimInfos('oebb_him_msg_chbox_8oebbmap_Table','oebb_him_msg_moebbmap_Image');" onmouseout='this.style.backgroundColor="#CCCCCC"' onmouseover='this.style.backgroundColor="#BFBFBF"'>
<img alt="anzeigen" id="oebb_him_msg_moebbmap_Image" style="vertical-align:text-bottom;" src="/hafas-res/img/vs_scotty/klapppfeil_rechts_grau_16x16.gif"/> Mitarbeiterinfo
</div>
<div id="oebb_him_msg_chbox_8oebbmap_Table"  style="display:none;">
<table style="width:100%;" id="oebb_him_msg_moebbmap_innerTable">
<tbody id="oebb_him_msg_chbox_8oebbmap_tBody">
<tr id="oebb_him_msg_chbox_8oebbmap_notfound" style="display:none;">
<td colspan="4">
Derzeit liegen f&#252;r diese Kategorie im ausgew&#228;hlten Kartenausschnitt keine Meldungen vor
</td>
</tr>
</tbody>
</table>
</div>
<div style="clear:both;"></div>
</div>
<div style="clear:both;"></div>
</div>
<div style="clear:both;"></div>
<script type="text/javascript">
// <![CDATA[
function clearAllHimContent(){
var parent = document.getElementById("oebb_him_msg_chbox_0oebbmap_tBody");
if(parent != null){
while(parent.children.length > 1){
if((typeof parent.lastChild.id == "undefined") || (parent.lastChild.id.indexOf("notfound") == -1) ){
parent.removeChild(parent.lastChild);
}
}
}
var parent = document.getElementById("oebb_him_msg_chbox_1oebbmap_tBody");
if(parent != null){
while(parent.children.length > 1){
if((typeof parent.lastChild.id == "undefined") || (parent.lastChild.id.indexOf("notfound") == -1) ){
parent.removeChild(parent.lastChild);
}
}
}
var parent = document.getElementById("oebb_him_msg_chbox_2oebbmap_tBody");
if(parent != null){
while(parent.children.length > 1){
if((typeof parent.lastChild.id == "undefined") || (parent.lastChild.id.indexOf("notfound") == -1) ){
parent.removeChild(parent.lastChild);
}
}
}
var parent = document.getElementById("oebb_him_msg_chbox_4oebbmap_tBody");
if(parent != null){
while(parent.children.length > 1){
if((typeof parent.lastChild.id == "undefined") || (parent.lastChild.id.indexOf("notfound") == -1) ){
parent.removeChild(parent.lastChild);
}
}
}
var parent = document.getElementById("oebb_him_msg_chbox_5oebbmap_tBody");
if(parent != null){
while(parent.children.length > 1){
if((typeof parent.lastChild.id == "undefined") || (parent.lastChild.id.indexOf("notfound") == -1) ){
parent.removeChild(parent.lastChild);
}
}
}
var parent = document.getElementById("oebb_him_msg_chbox_6oebbmap_tBody");
if(parent != null){
while(parent.children.length > 1){
if((typeof parent.lastChild.id == "undefined") || (parent.lastChild.id.indexOf("notfound") == -1) ){
parent.removeChild(parent.lastChild);
}
}
}
var parent = document.getElementById("oebb_him_msg_chbox_8oebbmap_tBody");
if(parent != null){
while(parent.children.length > 1){
if((typeof parent.lastChild.id == "undefined") || (parent.lastChild.id.indexOf("notfound") == -1) ){
parent.removeChild(parent.lastChild);
}
}
}
}
function clearHimMapContent(){
if(typeof currentHimArray != "undefined"){
for(var m=0; m < currentHimArray.length; m++){
if(typeof currentHimArray[m] != "undefined"){
for(var j=0; j < currentHimArray[m].length; j++){
if(typeof currentHimArray[m][j] != "undefined"){
Map_oebbmap.hideContent(currentHimArray[m][j]);
Map_oebbmap.removeContent(currentHimArray[m][j]);
delete currentHimArray[m][j];
}
}
}
}
}
}
function fillWithTodaysDate(){
var todayOutput = "Mi, 28.09.2022";
document.getElementById('ValPeriodDate1').value = todayOutput;
document.getElementById('ValPeriodDate2').value = todayOutput;
}
function fillWithDefaulDate(){
document.getElementById('ValPeriodDate1').value = "Mi, 28.09.2022";
document.getElementById('ValPeriodDate2').value = "Sa, 09.12.2023";
}
function printMap(){
Map_oebbmap.map.printMode(null,null,function(){
window.print();
});
}
function getCurrentUserDateInput(){
/* WT, DD.MM.JJJJ */
var d1Tmp = document.getElementById('ValPeriodDate1').value;
var d2Tmp = document.getElementById('ValPeriodDate2').value;
var d1 = d1Tmp.match(/^(Mo|Di|Mi|Do|Fr|Sa|So|Tu|We|Th|Su), (\d{1,2}).(\d{1,2}).(\d{4})$/);
var d2 = d2Tmp.match(/^(Mo|Di|Mi|Do|Fr|Sa|So|Tu|We|Th|Su), (\d{1,2}).(\d{1,2}).(\d{4})$/);
if((d1 == null) || (d2 == null))
{
document.getElementById('himTextInfo').style.display = 'none';
document.getElementById('himTextBlockErr').style.display = 'none';
document.getElementById('himTextBlockErr2').style.display = 'block';
return null
}
else
{
document.getElementById('himTextInfo').style.display = 'block';
document.getElementById('himTextBlockErr2').style.display = 'none';
d1 = d1.toString();
d2 = d2.toString();
dateFrom = d1.substring(10,14)+""+d1.substring(7,9)+""+d1.substring(4,6);
dateTo = d2.substring(10,14)+""+d2.substring(7,9)+""+d2.substring(4,6);
var reqDate = "von_datum|" + dateFrom +"|bis_datum|"+ dateTo +"|";
return reqDate;
}
}
Event.observe(window,"load",function(){
window.setTimeout(function(){
Map_oebbmap.addTileLayer({url:'https://xmaps-prod.oebb.at/haiti/wsgi-bin/haiti.wsgi?style=oebb2010&',tiletyp:'dyn',opacity:1.0,id:'trackoebb'});
getAllHimMessages(Map_oebbmap);
},300);
});
function toggleElement(id,obj){
if(document.getElementById(id).style.display == 'none'){
document.getElementById(id).style.display = 'block';
obj.className = 'button textBlockActive';
messageBlock = true;
}else{
document.getElementById(id).style.display = 'none';
obj.className = 'button';
messageBlock = false;
}
}
/* Nur Notf&#228;lle anzeigen */
function showOnlyUrgentMsgs(){
$('filterShowAll').removeClassName("textBlockActive");
$('filterUrgent').addClassName("textBlockActive");
filterTableByDate(false);
currentShowAllMessages = false;
}
function showAllMsgs(){
$('filterUrgent').removeClassName("textBlockActive");
$('filterShowAll').addClassName("textBlockActive");
filterTableByDate(true);
currentShowAllMessages = true;
}
function toggleHimInfos(id,img){
img = document.getElementById(img);
var arrow_down = "/hafas-res/img/vs_scotty/klapppfeil_unten_grau_16x16.gif";
var arrow_right = "/hafas-res/img/vs_scotty/klapppfeil_rechts_grau_16x16.gif";
if(document.getElementById(id).style.display == 'none'){
Effect.Appear(id,{duration:0.5});
img.src = arrow_down;
}else{
Effect.Fade(id,{duration:0.3});
img.src = arrow_right;
}
}
// ]]>
</script>
<script type="text/javascript" language="javascript">
function checkOEBBInfos(extId){
// <![CDATA[
if(!gOEBBInfoText)return false;
if(typeof gOEBBInfoText.oebbdata=='undefined'||!gOEBBInfoText.oebbdata)return false;
if(typeof gOEBBInfoTextHash=='undefined'||!gOEBBInfoTextHash)return false;
var h=gOEBBInfoTextHash.get(extId.toString());
if(typeof h=='undefined'||!h)return false;
return true;
}
function infotextstation(param){ //map,extId,puic,name,x,y
var t="<div class='jmap_infobox'><ul class='jmap_slider'>";
if(true){
// Bahnhofsinfos nur bei bestimmten EvaIds
var currExtId = ""+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"";
if((currExtId.substr(0,4) == '0081') || (currExtId.substr(0,2) == '81') || "standard" != "info"){
t+="<li>"
t+="<a id='content_0_titlediv' class='active' ";
t+="onclick='var t=document.getElementById(\"content_0_titlediv\");var c=document.getElementById(\"content_0_contentdiv\");";
t+="if(c.style.display!=\"block\")";
t+="{if(document.getElementById(\"content_0_contentdiv\"))document.getElementById(\"content_0_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_0_titlediv\"))document.getElementById(\"content_0_titlediv\").className=\"\";if(document.getElementById(\"content_1_contentdiv\"))document.getElementById(\"content_1_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_1_titlediv\"))document.getElementById(\"content_1_titlediv\").className=\"\";if(document.getElementById(\"content_3_contentdiv\"))document.getElementById(\"content_3_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_3_titlediv\"))document.getElementById(\"content_3_titlediv\").className=\"\";if(document.getElementById(\"content_4_contentdiv\"))document.getElementById(\"content_4_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_4_titlediv\"))document.getElementById(\"content_4_titlediv\").className=\"\";t.className=\"active\";c.style.display=\"block\";\
";
t+="}'>";
t+="Station";
t+="</a></li>";
}
}
if(true){
// Bahnhofsinfos nur bei bestimmten EvaIds
var currExtId = ""+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"";
if((currExtId.substr(0,4) == '0081') || (currExtId.substr(0,2) == '81') || "info" != "info"){
t+="<li>"
t+="<a id='content_1_titlediv' class='' ";
t+="onclick='var t=document.getElementById(\"content_1_titlediv\");var c=document.getElementById(\"content_1_contentdiv\");";
t+="if(c.style.display!=\"block\")";
t+="{if(document.getElementById(\"content_0_contentdiv\"))document.getElementById(\"content_0_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_0_titlediv\"))document.getElementById(\"content_0_titlediv\").className=\"\";if(document.getElementById(\"content_1_contentdiv\"))document.getElementById(\"content_1_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_1_titlediv\"))document.getElementById(\"content_1_titlediv\").className=\"\";if(document.getElementById(\"content_3_contentdiv\"))document.getElementById(\"content_3_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_3_titlediv\"))document.getElementById(\"content_3_titlediv\").className=\"\";if(document.getElementById(\"content_4_contentdiv\"))document.getElementById(\"content_4_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_4_titlediv\"))document.getElementById(\"content_4_titlediv\").className=\"\";t.className=\"active\";c.style.display=\"block\";\
";
t+="}'>";
t+="Info";
t+="</a></li>";
}
}
if(true){
// Bahnhofsinfos nur bei bestimmten EvaIds
var currExtId = ""+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"";
if((currExtId.substr(0,4) == '0081') || (currExtId.substr(0,2) == '81') || "dep" != "info"){
t+="<li>"
t+="<a id='content_3_titlediv' class='' ";
t+="onclick='var t=document.getElementById(\"content_3_titlediv\");var c=document.getElementById(\"content_3_contentdiv\");";
t+="if(c.style.display!=\"block\")";
t+="{if(document.getElementById(\"content_0_contentdiv\"))document.getElementById(\"content_0_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_0_titlediv\"))document.getElementById(\"content_0_titlediv\").className=\"\";if(document.getElementById(\"content_1_contentdiv\"))document.getElementById(\"content_1_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_1_titlediv\"))document.getElementById(\"content_1_titlediv\").className=\"\";if(document.getElementById(\"content_3_contentdiv\"))document.getElementById(\"content_3_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_3_titlediv\"))document.getElementById(\"content_3_titlediv\").className=\"\";if(document.getElementById(\"content_4_contentdiv\"))document.getElementById(\"content_4_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_4_titlediv\"))document.getElementById(\"content_4_titlediv\").className=\"\";t.className=\"active\";c.style.display=\"block\";\
";
t+="}'>";
t+="Abfahrt";
t+="</a></li>";
}
}
if(true){
// Bahnhofsinfos nur bei bestimmten EvaIds
var currExtId = ""+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"";
if((currExtId.substr(0,4) == '0081') || (currExtId.substr(0,2) == '81') || "arr" != "info"){
t+="<li>"
t+="<a id='content_4_titlediv' class='' ";
t+="onclick='var t=document.getElementById(\"content_4_titlediv\");var c=document.getElementById(\"content_4_contentdiv\");";
t+="if(c.style.display!=\"block\")";
t+="{if(document.getElementById(\"content_0_contentdiv\"))document.getElementById(\"content_0_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_0_titlediv\"))document.getElementById(\"content_0_titlediv\").className=\"\";if(document.getElementById(\"content_1_contentdiv\"))document.getElementById(\"content_1_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_1_titlediv\"))document.getElementById(\"content_1_titlediv\").className=\"\";if(document.getElementById(\"content_3_contentdiv\"))document.getElementById(\"content_3_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_3_titlediv\"))document.getElementById(\"content_3_titlediv\").className=\"\";if(document.getElementById(\"content_4_contentdiv\"))document.getElementById(\"content_4_contentdiv\").style.display=\"none\";if(document.getElementById(\"content_4_titlediv\"))document.getElementById(\"content_4_titlediv\").className=\"\";t.className=\"active\";c.style.display=\"block\";\
";
t+="}'>";
t+="Ankunft";
t+="</a></li>";
}
}
t+="</ul>";
if(true){
t+="<div class='jmap_infobox_subcontent_standard' id='content_0_contentdiv' style='display:block'>";
t+="\
<div>\
<div class='jmap_infobox_content_row'>\
<a target='_blank' href='https://fahrplan.oebb.at/bin/query.exe/dn?protocol=https:&SID=A=1"+(typeof param.extId!='undefined'?"@L="+param.extId.toString():"")+(typeof param.puic!='undefined'?"@U="+param.puic.toString():"")+(typeof param.name!='undefined'?"@O="+param.name.toString():"")+(typeof param.x!='undefined'?"@X="+param.x.toString():"")+(typeof param.y!='undefined'?"@Y="+param.y.toString():"")+"'>Als&nbsp;Start&nbsp;&#252;bernehmen</a>\
</div>\
<div class='jmap_infobox_content_row'>\
<a target='_blank' href='https://fahrplan.oebb.at/bin/query.exe/dn?protocol=https:&ZID=A=1"+(typeof param.extId!='undefined'?"@L="+param.extId.toString():"")+(typeof param.puic!='undefined'?"@U="+param.puic.toString():"")+(typeof param.name!='undefined'?"@O="+param.name.toString():"")+(typeof param.x!='undefined'?"@X="+param.x.toString():"")+(typeof param.y!='undefined'?"@Y="+param.y.toString():"")+"'>Als&nbsp;Ziel&nbsp;&#252;bernehmen</a>\
</div>\
<div class='jmap_infobox_content_row'>\
<\/div>\
<div class='jmap_infobox_content_row'>\
<br\/>\
<strong>Direkte Verlinkung zu dieser Haltestelle:<\/strong>\
<textarea onclick='this.select();' cols='60' rows='3'>\
https://fahrplan.oebb.at/bin/query.exe/dn?showStation="+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"&ujm=1&mapType=TRACKINFO&\
<\/textarea>\
</div>\
</div>\
";
t+="</div>";
}
if(true){
t+="<div class='jmap_infobox_subcontent_standard' id='content_1_contentdiv'>";
t+="\
<div>\
<div id='localbhfinfodiv_"+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"' class='jmap_infobox_bhfinfo'>\
<iframe frameborder='0' src='https://fahrplan.oebb.at/bin/stboard.exe/dn?L=vs_scotty&outputMode=bhfinfo&sqView=4&start&input="+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"' \
class='jmap_infobox_iframe_bhftafel'>\
<br/>Your Browser doesn't support IFrames. Please follow this Link instead:<br />\
<a href='https://fahrplan.oebb.at/bin/stboard.exe/dny?L=vs_scotty&tpl=bhfinfo2json&sqView=4&start&input="+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"'><span class='red'>&#187;</span>Aktuelle&nbsp;Abfahrtsstafel</a>\
</iframe>\
</div>\
</div>\
";
t+="</div>";
}
if(true){
t+="<div class='jmap_infobox_subcontent_bhftafel' id='content_3_contentdiv'>";
t+="\
<div>\
<div id='localdepdiv_"+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"' class='jmap_infobox_bhftafel'>\
<iframe src='https://fahrplan.oebb.at/bin/stboard.exe/dn?L=vs_liveticker&evaId="+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"&sqltm=0&showJourneys=7&eqstops=false&boardType=dep&productsFilter="+(typeof param.productFilter!='undefined'?param.productFilter.toString():"1111111111")+"' \
class='jmap_infobox_iframe_bhftafel'>\
<br/>Your Browser doesn't support IFrames. Please follow this Link instead:<br />\
<a href='https://fahrplan.oebb.at/bin/stboard.exe/dn?protocol=https:&start=1&boardType=dep&input=A=1"+(typeof param.extId!='undefined'?"@L="+param.extId.toString():"")+(typeof param.puic!='undefined'?"@U="+param.puic.toString():"")+(typeof param.name!='undefined'?"@O="+param.name.toString():"")+(typeof param.x!='undefined'?"@X="+param.x.toString():"")+(typeof param.y!='undefined'?"@Y="+param.y.toString():"")+"'><span class='red'>&#187;</span>Aktuelle&nbsp;Abfahrtsstafel</a>\
</iframe>\
</div>\
<div>\
<a target='_blank' href='https://fahrplan.oebb.at/bin/stboard.exe/dn?protocol=https:&boardType=dep&input="+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"&start=yes&sqView=2'>Weitere Abfahrten</a>\
<\/div>\
</div>\
";
t+="</div>";
}
if(true){
t+="<div class='jmap_infobox_subcontent_bhftafel' id='content_4_contentdiv'>";
t+="\
<div>\
<div id='localarrdiv_"+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"' class='jmap_infobox_bhftafel'>\
<iframe src='https://fahrplan.oebb.at/bin/stboard.exe/dn?L=vs_liveticker&evaId="+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"&sqltm=0&showJourneys=7&eqstops=false&boardType=arr&productsFilter="+(typeof param.productFilter!='undefined'?param.productFilter.toString():"1111111111")+"' class='jmap_infobox_iframe_bhftafel'>\
<br />Your Browser doesn't support IFrames. Please follow this Link instead:<br />\
<a href='https://fahrplan.oebb.at/bin/stboard.exe/dn?protocol=https:&start=1&boardType=arr&input=A=1"+(typeof param.extId!='undefined'?"@L="+param.extId.toString():"")+(typeof param.puic!='undefined'?"@U="+param.puic.toString():"")+(typeof param.name!='undefined'?"@O="+param.name.toString():"")+(typeof param.x!='undefined'?"@X="+param.x.toString():"")+(typeof param.y!='undefined'?"@Y="+param.y.toString():"")+"'><span class='red'>&#187;</span>Aktuelle&nbsp;Ankunftstafel</a>\
</iframe>\
</div>\
<div>\
<a target='_blank' href='https://fahrplan.oebb.at/bin/stboard.exe/dn?protocol=https:&boardType=dep&input="+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"&start=yes&sqView=2'>Weitere Ank&#252;nfte</a>\
<\/div>\
</div>\
";
t+="</div>";
}
t+="</div>";
return t;
};
// ]]>
</script>
<script type="text/javascript" language="javascript">
// <![CDATA[
function infotextaddress(param){ //map,extId,puic,name,x,y
var t="<div class='jmap_infobox'><ul class='jmap_slider'>";
t+="<li>"
t+="<a id='adr_content_0_titlediv' class='active' ";
t+="onclick='var t=document.getElementById(\"adr_content_0_titlediv\");var c=document.getElementById(\"adr_content_0_contentdiv\");";
t+="if(c.style.display!=\"block\")";
t+="{document.getElementById(\"adr_content_0_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_0_titlediv\").className=\"\";document.getElementById(\"adr_content_1_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_1_titlediv\").className=\"\";document.getElementById(\"adr_content_2_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_2_titlediv\").className=\"\";document.getElementById(\"adr_content_3_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_3_titlediv\").className=\"\";t.className=\"active\";c.style.display=\"block\";\
";
t+="}'>";
t+="Address";
t+="</a></li>";
t+="<li>"
t+="<a id='adr_content_1_titlediv' class='' ";
t+="onclick='var t=document.getElementById(\"adr_content_1_titlediv\");var c=document.getElementById(\"adr_content_1_contentdiv\");";
t+="if(c.style.display!=\"block\")";
t+="{document.getElementById(\"adr_content_0_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_0_titlediv\").className=\"\";document.getElementById(\"adr_content_1_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_1_titlediv\").className=\"\";document.getElementById(\"adr_content_2_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_2_titlediv\").className=\"\";document.getElementById(\"adr_content_3_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_3_titlediv\").className=\"\";t.className=\"active\";c.style.display=\"block\";\
Localmap_"+(typeof param.extId!='undefined'?param.extId.toString():"-1")+" = new CPTVMap(\"localmapdiv_"+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"\",\
{mode:\"simple\",zoom:500,language:\"d\",coord:new CCoord({lon:"+(typeof param.x!='undefined'?param.x.toString():"0")+",lat:"+(typeof param.y!='undefined'?param.y.toString():"0")+"})});\
Localmap_"+(typeof param.extId!='undefined'?param.extId.toString():"-1")+".show();\
Localmap_"+(typeof param.extId!='undefined'?param.extId.toString():"-1")+".showContent(Localmap_"+(typeof param.extId!='undefined'?param.extId.toString():"-1")+".createContent({type: \"location\",coord: new CCoord({lon:"+(typeof param.x!='undefined'?param.x.toString():"0")+",lat:"+(typeof param.y!='undefined'?param.y.toString():"0")+"}),hotspot: {x:7,y:7},\
text: \""+(typeof param.name!='undefined'?param.name:'')+"\",\
imageurl: \"/hafas-res/img/icons/icon_google_earth.png\",imagewidth: 14,imageheight: 14}));\
";
t+="}'>";
t+="Map";
t+="</a></li>";
t+="<li>"
t+="<a id='adr_content_2_titlediv' class='' ";
t+="onclick='var t=document.getElementById(\"adr_content_2_titlediv\");var c=document.getElementById(\"adr_content_2_contentdiv\");";
t+="if(c.style.display!=\"block\")";
t+="{document.getElementById(\"adr_content_0_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_0_titlediv\").className=\"\";document.getElementById(\"adr_content_1_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_1_titlediv\").className=\"\";document.getElementById(\"adr_content_2_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_2_titlediv\").className=\"\";document.getElementById(\"adr_content_3_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_3_titlediv\").className=\"\";t.className=\"active\";c.style.display=\"block\";\
function showMultiDep(r){\
var s=r.getResult();\
for(var i=0;i<5;i++){\
document.getElementById(\"multidepiframe\"+i+\"a\").src=\"https://fahrplan.oebb.at/bin/stboard.exe/dn?L=vs_scotty.vs_stb&evaId=\"+s.stops[i].extId+\"&sqltm=1&showJourneys=3&boardType=dep&productsFilter=1111111111&view=preview&cpn=\"+i;\
document.getElementById(\"multidepiframe\"+i+\"b\").src=\"https://fahrplan.oebb.at/bin/stboard.exe/dn?L=vs_scotty.vs_stb&evaId=\"+s.stops[i].extId+\"&sqltm=1&showJourneys=5&lanelink=yes&boardType=dep&productsFilter=1111111111&view=mini\";\
}\
}\
new CShowAjaxContent(\
{map:Map,showclosestops:true,\
requesturl:\"https://fahrplan.oebb.at/bin/query.exe/dny?&performLocating=2&tpl=stop2json&look_maxno=5&look_stopclass=1023&look_x="+(typeof param.x!='undefined'?param.x.toString():"0")+"&look_y="+(typeof param.y!='undefined'?param.y.toString():"0")+"\",\
x:"+(typeof param.x!='undefined'?param.x.toString():"0")+",y:"+(typeof param.y!='undefined'?param.y.toString():"0")+"});\
new CLoadAjaxContent(\
{requesturl:\"https://fahrplan.oebb.at/bin/query.exe/dny?&performLocating=2&tpl=stop2json&look_maxno=5&look_stopclass=1023&look_x="+(typeof param.x!='undefined'?param.x.toString():"0")+"&look_y="+(typeof param.y!='undefined'?param.y.toString():"0")+"\",\
onload:showMultiDep,debug:false});\
";
t+="}'>";
t+="Departure";
t+="</a></li>";
t+="<li>"
t+="<a id='adr_content_3_titlediv' class='' ";
t+="onclick='var t=document.getElementById(\"adr_content_3_titlediv\");var c=document.getElementById(\"adr_content_3_contentdiv\");";
t+="if(c.style.display!=\"block\")";
t+="{document.getElementById(\"adr_content_0_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_0_titlediv\").className=\"\";document.getElementById(\"adr_content_1_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_1_titlediv\").className=\"\";document.getElementById(\"adr_content_2_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_2_titlediv\").className=\"\";document.getElementById(\"adr_content_3_contentdiv\").style.display=\"none\";document.getElementById(\"adr_content_3_titlediv\").className=\"\";t.className=\"active\";c.style.display=\"block\";\
function showMultiArr(r){\
var s=r.getResult();\
for(var i=0;i<5;i++){\
document.getElementById(\"multiarriframe\"+i+\"a\").src=\"https://fahrplan.oebb.at/bin/stboard.exe/dn?L=vs_scotty.vs_stb&evaId=\"+s.stops[i].extId+\"&sqltm=1&showJourneys=3&boardType=arr&productsFilter=1111111111&view=preview&cpn=\"+i;\
document.getElementById(\"multiarriframe\"+i+\"b\").src=\"https://fahrplan.oebb.at/bin/stboard.exe/dn?L=vs_scotty.vs_stb&evaId=\"+s.stops[i].extId+\"&sqltm=1&showJourneys=5&lanelink=yes&boardType=arr&productsFilter=1111111111&view=mini\";\
}\
}\
new CShowAjaxContent(\
{map:Map,showclosestops:true,\
requesturl:\"https://fahrplan.oebb.at/bin/query.exe/dny?&performLocating=2&tpl=stop2json&look_maxno=5&look_stopclass=1023&look_x="+(typeof param.x!='undefined'?param.x.toString():"0")+"&look_y="+(typeof param.y!='undefined'?param.y.toString():"0")+"\",\
x:"+(typeof param.x!='undefined'?param.x.toString():"0")+",y:"+(typeof param.y!='undefined'?param.y.toString():"0")+"});\
new CLoadAjaxContent(\
{requesturl:\"https://fahrplan.oebb.at/bin/query.exe/dny?&performLocating=2&tpl=stop2json&look_maxno=5&look_stopclass=1023&look_x="+(typeof param.x!='undefined'?param.x.toString():"0")+"&look_y="+(typeof param.y!='undefined'?param.y.toString():"0")+"\",\
onload:showMultiArr,debug:false});\
";
t+="}'>";
t+="Arrival";
t+="</a></li>";
t+="</ul>";
t+="<div class='jmap_infobox_subcontent_standard' id='adr_content_0_contentdiv' style='display:block'>";
t+="\
<div>\
<div class='jmap_infobox_content_row'>\
<a href='https://fahrplan.oebb.at/bin/query.exe/dn?protocol=https:&SID=A=2"+(typeof param.extId!='undefined'?"@L="+param.extId.toString():"")+(typeof param.puic!='undefined'?"@U="+param.puic.toString():"")+(typeof param.name!='undefined'?"@O="+param.name.toString():"")+(typeof param.x!='undefined'?"@X="+param.x.toString():"")+(typeof param.y!='undefined'?"@Y="+param.y.toString():"")+"'>Als&nbsp;Start&nbsp;&#252;bernehmen</a>\
</div>\
<div class='jmap_infobox_content_row'>\
<a href='https://fahrplan.oebb.at/bin/query.exe/dn?protocol=https:&ZID=A=2"+(typeof param.extId!='undefined'?"@L="+param.extId.toString():"")+(typeof param.puic!='undefined'?"@U="+param.puic.toString():"")+(typeof param.name!='undefined'?"@O="+param.name.toString():"")+(typeof param.x!='undefined'?"@X="+param.x.toString():"")+(typeof param.y!='undefined'?"@Y="+param.y.toString():"")+"'>Als&nbsp;Ziel&nbsp;&#252;bernehmen</a>\
</div>\
<div class='jmap_infobox_content_row'>\
<a onclick='\
new CShowAjaxContent(\
{map:Map,showclosestops:true,\
requesturl:\"https://fahrplan.oebb.at/bin/query.exe/dny?&performLocating=2&tpl=stop2json&look_maxno=5&look_stopclass=1023&look_x="+(typeof param.x!='undefined'?param.x.toString():"0")+"&look_y="+(typeof param.y!='undefined'?param.y.toString():"0")+"\",\
x:"+(typeof param.x!='undefined'?param.x.toString():"0")+",y:"+(typeof param.y!='undefined'?param.y.toString():"0")+"});\
Map.centerToGeo(new CCoord({lon:"+(typeof param.x!='undefined'?param.x.toString():"0")+",lat:"+(typeof param.y!='undefined'?param.y.toString():"0")+"}));\
Map.setZoom(2000);'>\
Stationen in der N&#228;he\
</a>\
</div>\
<div class='jmap_infobox_content_row'>\
<a onclick='\
Map.centerToGeo(new CCoord({lon:"+(typeof param.x!='undefined'?param.x.toString():"0")+",lat:"+(typeof param.y!='undefined'?param.y.toString():"0")+"}));\
Map.setZoom(2000);'>\
Adresse zentrieren\
</a>\
</div>\
</div>\
";
t+="</div>";
t+="<div class='jmap_infobox_subcontent_map' id='adr_content_1_contentdiv'>";
t+="\
<div id='localmapdiv_"+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"' class='jmap_infobox_mapdiv'></div>\
";
t+="</div>";
t+="<div class='jmap_infobox_subcontent_bhftafelmulti' id='adr_content_2_contentdiv'>";
t+="\
<div>\
<div id='localdepdiv_"+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"' class='jmap_infobox_bhftafelmulti'>\
<iframe id='multidepiframe0a' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafeltitle'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<div class=\"jmap_menue_title\" onclick='this.className=(this.className==\"jmap_menue_title\")?\"jmap_menue_title_sel\":\"jmap_menue_title\";var f=document.getElementById(\"multidepiframe0b\");if(f.style.display==\"none\")f.style.display=\"block\";else f.style.display=\"none\";'></div>\
<iframe id='multidepiframe0b' style='display:none' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafelmini'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<iframe id='multidepiframe1a'\
class='jmap_infobox_iframe_bhftafeltitle' scrolling='no' frameborder='0'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<div class=\"jmap_menue_title\" onclick='this.className=(this.className==\"jmap_menue_title\")?\"jmap_menue_title_sel\":\"jmap_menue_title\";var f=document.getElementById(\"multidepiframe1b\");if(f.style.display==\"none\")f.style.display=\"block\";else f.style.display=\"none\";'></div>\
<iframe id='multidepiframe1b' style='display:none' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafelmini'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<iframe id='multidepiframe2a'\
class='jmap_infobox_iframe_bhftafeltitle' scrolling='no' frameborder='0'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<div class=\"jmap_menue_title\" onclick='this.className=(this.className==\"jmap_menue_title\")?\"jmap_menue_title_sel\":\"jmap_menue_title\";var f=document.getElementById(\"multidepiframe2b\");if(f.style.display==\"none\")f.style.display=\"block\";else f.style.display=\"none\";'></div>\
<iframe id='multidepiframe2b' style='display:none' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafelmini'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<iframe id='multidepiframe3a' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafeltitle'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<div class=\"jmap_menue_title\" onclick='this.className=(this.className==\"jmap_menue_title\")?\"jmap_menue_title_sel\":\"jmap_menue_title\";var f=document.getElementById(\"multidepiframe3b\");if(f.style.display==\"none\")f.style.display=\"block\";else f.style.display=\"none\";'></div>\
<iframe id='multidepiframe3b' style='display:none' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafelmini'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<iframe id='multidepiframe4a'\
class='jmap_infobox_iframe_bhftafeltitle' scrolling='no' frameborder='0'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<div class=\"jmap_menue_title\" onclick='this.className=(this.className==\"jmap_menue_title\")?\"jmap_menue_title_sel\":\"jmap_menue_title\";var f=document.getElementById(\"multidepiframe4b\");if(f.style.display==\"none\")f.style.display=\"block\";else f.style.display=\"none\";'></div>\
<iframe id='multidepiframe4b' style='display:none' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafelmini'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
</div>\
</div>\
";
t+="</div>";
t+="<div class='jmap_infobox_subcontent_bhftafelmulti' id='adr_content_3_contentdiv'>";
t+="\
<div>\
<div id='localarrdiv_"+(typeof param.extId!='undefined'?param.extId.toString():"-1")+"' class='jmap_infobox_bhftafelmulti'>\
<iframe id='multiarriframe0a'\
class='jmap_infobox_iframe_bhftafeltitle' scrolling='no' frameborder='0'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<div class=\"jmap_menue_title\" onclick='this.className=(this.className==\"jmap_menue_title\")?\"jmap_menue_title_sel\":\"jmap_menue_title\";var f=document.getElementById(\"multiarriframe0b\");if(f.style.display==\"none\")f.style.display=\"block\";else f.style.display=\"none\";'></div>\
<iframe id='multiarriframe0b' style='display:none' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafelmini'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<iframe id='multiarriframe1a' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafeltitle'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<div class=\"jmap_menue_title\" onclick='this.className=(this.className==\"jmap_menue_title\")?\"jmap_menue_title_sel\":\"jmap_menue_title\";var f=document.getElementById(\"multiarriframe1b\");if(f.style.display==\"none\")f.style.display=\"block\";else f.style.display=\"none\";'></div>\
<iframe id='multiarriframe1b' style='display:none' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafelmini'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<iframe id='multiarriframe2a' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafeltitle'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<div class=\"jmap_menue_title\" onclick='this.className=(this.className==\"jmap_menue_title\")?\"jmap_menue_title_sel\":\"jmap_menue_title\";var f=document.getElementById(\"multiarriframe2b\");if(f.style.display==\"none\")f.style.display=\"block\";else f.style.display=\"none\";'></div>\
<iframe id='multiarriframe2b' style='display:none' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafelmini'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<iframe id='multiarriframe3a' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafeltitle'> scrolling='no' frameborder='0'\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<div class=\"jmap_menue_title\" onclick='this.className=(this.className==\"jmap_menue_title\")?\"jmap_menue_title_sel\":\"jmap_menue_title\";var f=document.getElementById(\"multiarriframe3b\");if(f.style.display==\"none\")f.style.display=\"block\";else f.style.display=\"none\";'></div>\
<iframe id='multiarriframe3b' style='display:none' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafelmini'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<iframe id='multiarriframe4a' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafeltitle'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
<div class=\"jmap_menue_title\" onclick='this.className=(this.className==\"jmap_menue_title\")?\"jmap_menue_title_sel\":\"jmap_menue_title\";var f=document.getElementById(\"multiarriframe4b\");if(f.style.display==\"none\")f.style.display=\"block\";else f.style.display=\"none\";'></div>\
<iframe id='multiarriframe4b' style='display:none' scrolling='no' frameborder='0'\
class='jmap_infobox_iframe_bhftafelmini'>\
<br />Your Browser doesn't support IFrames.<br />\
</iframe>\
</div>\
</div>\
";
t+="</div>";
t+="</div>";
return t;
};
// ]]>
</script>
<script type="text/javascript" language="javascript">
// <![CDATA[
function infotextpoi(param){ //map,extId,puic,name,x,y
var t="<div class='jmap_infobox'><ul class='jmap_slider'>";
t+="<li>"
t+="<a id='poi_content_0_titlediv' class='active' ";
t+="onclick='var t=document.getElementById(\"poi_content_0_titlediv\");var c=document.getElementById(\"poi_content_0_contentdiv\");";
t+="if(c.style.display!=\"block\")";
t+="{document.getElementById(\"poi_content_0_contentdiv\").style.display=\"none\";document.getElementById(\"poi_content_0_titlediv\").className=\"\";t.className=\"active\";c.style.display=\"block\";\
";
t+="}'>";
t+="POI";
t+="</a></li>";
t+="</ul>";
t+="<div class='jmap_infobox_subcontent_standard' id='poi_content_0_contentdiv' style='display:block'>";
t+="\
<div>\
<div class='jmap_infobox_content_row'>\
<a href='https://fahrplan.oebb.at/bin/query.exe/dn?protocol=https:&SID=A=4"+(typeof param.extId!='undefined'?"@L="+param.extId.toString():"")+(typeof param.puic!='undefined'?"@U="+param.puic.toString():"")+(typeof param.name!='undefined'?"@O="+param.name.toString():"")+(typeof param.x!='undefined'?"@X="+param.x.toString():"")+(typeof param.y!='undefined'?"@Y="+param.y.toString():"")+"'>Als&nbsp;Start&nbsp;&#252;bernehmen</a>\
</div>\
<div class='jmap_infobox_content_row'>\
<a href='https://fahrplan.oebb.at/bin/query.exe/dn?protocol=https:&ZID=A=4"+(typeof param.extId!='undefined'?"@L="+param.extId.toString():"")+(typeof param.puic!='undefined'?"@U="+param.puic.toString():"")+(typeof param.name!='undefined'?"@O="+param.name.toString():"")+(typeof param.x!='undefined'?"@X="+param.x.toString():"")+(typeof param.y!='undefined'?"@Y="+param.y.toString():"")+"'>Als&nbsp;Ziel&nbsp;&#252;bernehmen</a>\
</div>\
</div>\
";
t+="</div>";
t+="</div>";
return t;
};
// ]]>
</script>
<script type="text/javascript" language="javascript">
// <![CDATA[
function infotextmap(param){ //map,extId,puic,name,x,y
if(typeof param.x=='undefined'&&typeof param.lon!='undefined')param.x=param.lon;
if(typeof param.y=='undefined'&&typeof param.lat!='undefined')param.y=param.lat;
var t="<div class='jmap_infobox'><ul class='jmap_slider'>";
t+="<li>"
t+="<a id='map_content_0_titlediv' class='active' ";
t+="onclick='var t=document.getElementById(\"map_content_0_titlediv\");var c=document.getElementById(\"map_content_0_contentdiv\");";
t+="if(c.style.display!=\"block\")";
t+="{document.getElementById(\"map_content_0_contentdiv\").style.display=\"none\";document.getElementById(\"map_content_0_titlediv\").className=\"\";t.className=\"active\";c.style.display=\"block\";\
";
t+="}'>";
t+="Info";
t+="</a></li>";
t+="</ul>";
t+="<div class='jmap_infobox_subcontent_standard' id='map_content_0_contentdiv' style='display:block'>";
t+="\
<div>\
<div class='jmap_infobox_content_row'>\
<a id='infoBoxFrom' href='https://fahrplan.oebb.at/bin/query.exe/dn?SID=A=16"+(typeof param.name!='undefined'?"@O="+param.name.toString():"@O=Auswahl%20aus%20Karte")+(typeof param.x!='undefined'?"@X="+param.x.toString():"")+(typeof param.y!='undefined'?"@Y="+param.y.toString():"")+"'>Als&nbsp;Start&nbsp;&#252;bernehmen</a>\
</div>\
<div class='jmap_infobox_content_row'>\
<a id='infoBoxTo' href='https://fahrplan.oebb.at/bin/query.exe/dn?ZID=A=16"+(typeof param.name!='undefined'?"@O="+param.name.toString():"@O=Auswahl%20aus%20Karte")+(typeof param.x!='undefined'?"@X="+param.x.toString():"")+(typeof param.y!='undefined'?"@Y="+param.y.toString():"")+"'>Als&nbsp;Ziel&nbsp;&#252;bernehmen</a>\
</div>\
<div class='jmap_infobox_content_row'>\
<a onclick='\
clearStationsNear(Map_oebbmap);\
new CShowAjaxContent(\
{globalContentReminder:getStationsNearContent,map:Map_oebbmap,showclosestops:true,\
requesturl:\"https://fahrplan.oebb.at/bin/query.exe/dny?&performLocating=2&tpl=stop2json&look_maxno=5&look_stopclass=1023&look_x="+(typeof param.x!='undefined'?param.x.toString():"0")+"&look_y="+(typeof param.y!='undefined'?param.y.toString():"0")+"\",\
x:"+(typeof param.x!='undefined'?param.x.toString():"0")+",y:"+(typeof param.y!='undefined'?param.y.toString():"0")+"});\
Map_oebbmap.centerToGeo(new CCoord({lon:"+(typeof param.x!='undefined'?param.x.toString():"0")+",lat:"+(typeof param.y!='undefined'?param.y.toString():"0")+"}));\
Map_oebbmap.setZoom(2000);'>\
Stationen in der N&#228;he\
</a>\
</div>\
<div class='jmap_infobox_content_row'>\
<a onclick='\
Map_oebbmap.centerToGeo(new CCoord({lon:"+(typeof param.x!='undefined'?param.x.toString():"0")+",lat:"+(typeof param.y!='undefined'?param.y.toString():"0")+"}));\
Map_oebbmap.setZoom(2000);'>\
Karte auf ausgew&#228;hlten Punkt zentrieren\
</a>\
</div>\
<input type='hidden' id='HFS_currentLoc' value=''\/>\
<input type='hidden' id='HFS_currentLocId' value=''\/>\
</div>\
";
t+="</div>";
t+="</div>";
if(typeof param.titleid!='undefined'){
if(param.map.getZoom() < 12000){
var url = "https://fahrplan.oebb.at/bin/query.exe/dny?performLocating=512&tpl=reverselookup2json&look_nv=type|reverselookup|x|"+param.x+"|y|"+param.y;
var type = "address";
}else{
var url = "https://fahrplan.oebb.at/bin/query.exe/dny?performLocating=2&tpl=stop2json&look_x="+param.x+"&look_y="+param.y+"&look_stopclass=1023&look_maxno=1&look_maxdist=2500&";
var type = "stop";
}
if(url!=null){
var request = new Ajax.Request(
url,
{
method: 'post',
onComplete: function(r){
if(r.responseText!=""){
var o = eval('('+ r.responseText + ')');
if(parseInt(o.error)==0){
if(type == "address"){
param.map.replaceCurrentInfoboxTitle(param.titleid,o.name + ' (' + o.dist + 'm)');
document.getElementById('HFS_currentLoc').value = o.name;
document.getElementById('HFS_currentLocId').value = "A=2@O="+param.map.decode(o.name)+"@X="+o.x+"@Y="+o.y;
}else{
param.map.replaceCurrentInfoboxTitle(param.titleid,o.stops[0].name + ' (' + o.stops[0].dist + 'm)');
document.getElementById('HFS_currentLoc').value = o.name;
document.getElementById('HFS_currentLocId').value = "A=1@O="+param.map.decode(o.stops[0].name)+"@X="+o.stops[0].x+"@Y="+o.stops[0].y+"@U=" + o.stops[0].puic + "@L="+o.stops[0].extId+"@p="+o.stops[0].planId;
}
if(document.getElementById('infoBoxFrom')){
document.getElementById('infoBoxFrom').href = "https://fahrplan.oebb.at/bin/query.exe/dn?SID=" + document.getElementById('HFS_currentLocId').value;
}
if(document.getElementById('infoBoxTo')){
document.getElementById('infoBoxTo').href = "https://fahrplan.oebb.at/bin/query.exe/dn?ZID=" + document.getElementById('HFS_currentLocId').value;
}
}
}
}
}
);
}
}
return t;
};
// ]]>
</script>
<script type="text/javascript" language="javascript">
// <![CDATA[
var gOEBBInfoText=null;
var gOEBBInfoTextHash=null;
function safeinfotextdata(r){
gOEBBInfoText=r.getResult();
gOEBBInfoTextHash=new Hash;
var l=gOEBBInfoText.oebbdata.length;
var i=0;
while(i<l){
gOEBBInfoTextHash.set(gOEBBInfoText.oebbdata[i][1].toString(),true);
i++;
}
}
// ]]>
</script>
</div>
<script type="text/javascript">
// <![CDATA[
var himPopUps  = new Object;
var himMsgTypes = new Array();
var himMapInitialised = false;
var himUICUrgentMessages = new Object;
himMsgTypes[0] = '/hafas-res/img/himinfo/icon_replace.gif';
himMsgTypes[1] = '/hafas-res/img/himinfo/icon_work.gif';
himMsgTypes[2] = '/hafas-res/img/himinfo/icon_cancel.gif';
himMsgTypes[3] = '/hafas-res/img/himinfo/icon_critical.gif';
himMsgTypes[4] = '/hafas-res/img/himinfo/icon_info2.gif';
himMsgTypes[5] = '/hafas-res/img/himinfo/icon_urgent.gif';
himMsgTypes[6] = '/hafas-res/img/himinfo/icon_urgent_grey.gif';
himMsgTypes[7] = '/hafas-res/img/himinfo/icon_verlade.gif';
himMsgTypes[8] = '/hafas-res/img/himinfo/icon_m.png';
var himContent = new Array();
for(var k=0; k < 6; k++){
himContent[k] = new Array();
}
function decodeHTMLEntities(str){
str = str.replace(/&lt;/g,"<");
str = str.replace(/&gt;/g,">");
return str;
}
function getLocationString(himMsg){
var location_string = "";
if(typeof himMsg.alternativeSection != 'undefined'){
location_string += himMsg.alternativeSection;
}else{
if(typeof himMsg.uic != 'undefined'){
if(typeof himMsg.uic == 'string'){
location_string = countryInformation[himMsg.uic].name;
}else{
for(var k=0;k < himMsg.uic.length;k++){
if(typeof countryInformation[himMsg.uic[k]] != 'undefined'){
location_string += countryInformation[himMsg.uic[k]].name + "<br/>";
}
}
}
}else{
location_string = ((typeof himMsg.deploc != 'undefined')?himMsg.deploc:'') + ' <br/> ' + ((typeof himMsg.arrloc != 'undefined')?himMsg.arrloc:'');
}
}
return location_string;
}
function focusHimMsgOnMap(id,mapContentHash){
window.top.scrollTo(0,0);
window.scrollTo(0,0);
//Map_oebbmap.centerToContent(mapContentHash);
}
/* generates the dynamic table below the map */
function generateInfoTable(data,id){
//data.him = data.him.sortBy(function(s) { return string2date(s.begin); });
data.him = data.him.sort(function(a,b){
if(parseInt(b.priority,10) - parseInt(a.priority,10) != 0){
return parseInt(b.priority,10) - parseInt(a.priority,10);
}else{
return string2date(a.begin).getTime() - string2date(b.begin).getTime();
}
});
himMessages = data.him;
var itemCounter = 0;
/* anzeigen */
for(var j=0; j < data.him.length;j++){
himMessages[j].datebegin = string2date(data.him[j].begin);
himMessages[j].dateend = string2date(data.him[j].end);
if(parseInt(data.him[j].icon) == 6){
data.him[j].icon = 5;
}
if(document.getElementById(himIds[data.him[j].icon] + id + '_tBody') == null){
continue;
}
var tr = document.createElement("tr");
tr.id = 'cat'+data.him[j].icon+'item'+j+'header';
tr.className = 'normalHimTableRow';
var td_type = document.createElement("td");
td_type.id = 'messageTypeNr' + data.him[j].id;
td_type.style.width = '25px';
td_type.innerHTML = '<img src="'+himMsgTypes[data.him[j].iconimage]+'"/> ';
tr.appendChild(td_type);
var td_date = document.createElement("td");
td_date.style.width = '150px';
var date_departure;
var date_arrival;
date_departure = data.him[j].begin.split(" ")[0];
date_arrival = data.him[j].end.split(" ")[0];
td_date.innerHTML = date_departure + '<br/>' + date_arrival;
tr.appendChild(td_date);
var td_location = document.createElement("td");
td_location.style.width = '300px';
var location_string = getLocationString(data.him[j]);
td_location.innerHTML = location_string;
tr.appendChild(td_location);
var td_header = document.createElement("td");
var revision_string = '';
if(typeof data.him[j].revision != 'undefined'){
}
td_header.innerHTML = revision_string + data.him[j].header;
tr.appendChild(td_header);
document.getElementById(himIds[data.him[j].icon] + id + '_tBody').appendChild(tr);
var texttr = document.createElement("tr");
texttr.id = 'cat'+data.him[j].icon+'item'+j+'text';
var texttd = document.createElement("td");
texttd.colSpan = 4;
texttd.style.borderBottom = '1px dotted #4d4d4d';
texttd.style.paddingBottom = '10px';
if(typeof data.him[j].mapText != "undefined"){
var currentHimTextMsg = data.him[j].mapText;
}else{
var currentHimTextMsg = data.him[j].text;
}
// HTML Entities umwandeln
if(typeof currentHimTextMsg != "undefined"){
currentHimTextMsg = decodeHTMLEntities(currentHimTextMsg);
}
var currentText =  '<div style="background-color:#FFEEE8;padding:10px;margin-left:28px;">'+currentHimTextMsg;
if(typeof data.him[j].customurl != 'undefined'){
var linkLabel = data.him[j].linktext || data.him[j].customurl;
currentText += '<br/><br/><a target="_blank" href="'+data.him[j].customurl+'">'+ linkLabel +'</a>';
}
/* Weitere Urls verf&#252;gbar */
if(typeof data.him[j].additional_urls != 'undefined'){
currentText += "<br/><br/>" + getAdditionalUrls(data.him[j].additional_urls,"messagelist_customer");
}
currentText += '</div>';
currentText += '<div class="backToMapWrap"><a href="javascript:void(0);" onclick="focusHimMsgOnMap('+data.him[j].id+',\''+currentHimContentById[data.him[j].id]+'\');">zur Karte wechseln</a></div>';
texttd.innerHTML = url2htmlConversion(currentText);
texttr.appendChild(texttd);
document.getElementById(himIds[data.him[j].icon] + id + '_tBody').appendChild(texttr);
document.getElementById(himIds[data.him[j].icon] + id + '_Headline').style.display = 'block';
}
// TR f&#252;r keine Ergebnisse
var tr = document.createElement("tr");
//tr.id = "cat"+icon+"notfound";
if(data.him.length > 0){
tr.style.display = 'none';
}
}
function checkUserChannel(arr,searchstring){
if(typeof searchstring == "string"){
for(var k=0; k < arr.length; k++){
if(arr[k] == searchstring){
return true;
}
}
}else{
for(var k=0; k < arr.length; k++){
for(var i=0; i < searchstring.length; i++){
if(arr[k] == searchstring[i]){
return true;
}
}
}
}
return false;
}
function getAdditionalUrls(obj,filter){
var addUrlText = '';
var addedLinks = 0;
if(typeof obj == "undefined"){
return addUrlText;
}
for(var m=0; m < obj.length;m++){
if(checkUserChannel(obj[m].channel,filter) || (typeof filter == "undefined")){
if(addedLinks > 0){
addUrlText += '&nbsp;|&nbsp;';
}
addUrlText += '<a href="'+obj[m].url+'" target="_blank"/>'+obj[m].label+'</a>';
addedLinks++;
}
}
return addUrlText;
}
function resetToToday(){
}
function addPopupMsg(himMsg){
var popUpDiv = document.createElement("div");
//popUpDiv.style.display = 'none';
popUpDiv.className = 'popUpEntry';
popUpDiv.innerHTML = '<strong><a href="javascript:jumpToMsgInParentWindow(\"'+himMsg.id+'\");">'+ himMsg.header + '</a></strong><br/>' + getLocationString(himMsg);
popUpDiv.style.display = 'none';
document.getElementById("alertContainerContent").appendChild(popUpDiv);
document.getElementById("alertContainerContent").style.display = 'block';
Effect.Appear(popUpDiv,{duration:0.3});
}
function deleteAllPopUps(){
while(document.getElementById("alertContainerContent").hasChildNodes()){
document.getElementById("alertContainerContent").removeChild(document.getElementById("alertContainerContent").firstChild);
}
}
function checkUicFilter(uic,filter){
for(var m=0; m < uic.length;m++){
if(uic[m] == filter){
return true;
}
}
return false;
}
function filterTableByDate(urgentonly){
clearCurrentSingleMsg();
if((indexOfComma = $('ValPeriodDate1').value.indexOf(",")) > -1){
var currSelectionBegin = $('ValPeriodDate1').value.substr(indexOfComma+2,$('ValPeriodDate1').value.length);
}else{
var currSelectionBegin = $('ValPeriodDate1').value;
}
if((indexOfComma = $('ValPeriodDate2').value.indexOf(",")) > -1){
var currSelectionEnd = $('ValPeriodDate2').value.substr(indexOfComma+2,$('ValPeriodDate2').value.length);
}else{
var currSelectionEnd = $('ValPeriodDate2').value;
}
var beginDay = parseInt(currSelectionBegin.split(".")[0],10);
var beginMonth = parseInt(currSelectionBegin.split(".")[1],10)-1;
var beginYear = parseInt(currSelectionBegin.split(".")[2],10);
if (beginYear < 2000)
beginYear += 2000;
var beginDate = new Date(beginYear,beginMonth,beginDay);
var endDay = parseInt(currSelectionEnd.split(".")[0],10);
var endMonth = parseInt(currSelectionEnd.split(".")[1],10)-1;
var endYear = parseInt(currSelectionEnd.split(".")[2],10);
if (endYear < 2000)
endYear += 2000;
var endDate = new Date(endYear,endMonth,endDay,23,59,59);
if(Date.parse(endDate) < Date.parse(beginDate)){
$('himTextInfo').style.display = 'none';
$('himTextBlockErr').style.display = 'block';
}else{
//if(messageBlock){
$('himTextInfo').style.display = 'block';
//}
$('himTextBlockErr').style.display = 'none';
var now = new Date();
var messageCounter = new Array(0,0,0,0,0,0);
resetCountryMsgCounter();
for(var k=0; k < himMessages.length; k++){
if(typeof himMessages[k] != 'undefined'){
var currentMessageCounter = 0;
var currentCategory = k;
// liegt im Zeitraum des Filters
// (dS < fE && dE >= fS)
//if( Date.parse(himMessages[k][m].dateend) >= Date.parse(endDate) || Date.parse(beginDate) <= Date.parse(himMessages[k][m].datebegin)){
if(document.getElementById(himIds[himMessages[k].icon] + 'oebbmap_notfound') != null){
document.getElementById(himIds[himMessages[k].icon] + 'oebbmap_notfound').style.display = 'none';
}
if((document.getElementById('oebb_him_msg_chbox_'+himMessages[k].icon + 'oebbmap').checked) && (Date.parse(himMessages[k].datebegin) < Date.parse(endDate)) && (Date.parse(himMessages[k].dateend) >= Date.parse(beginDate))  && (((typeof urgentonly == 'undefined') || (urgentonly==true)) || ((urgentonly == false) && (himMessages[k].icon == 5))) && ((currentCountryFilter == null) || (checkUicFilter(himMessages[k].uic,currentCountryFilter))) || ((typeof himMessages[k].emergency != "undefined") && (himMessages[k].emergency == "true") && (document.getElementById('oebb_him_msg_chbox_'+himMessages[k].icon + 'oebbmap').checked))  ){
if($('cat'+ himMessages[k].icon +'item' + k + 'header') != null){
$('cat'+ himMessages[k].icon +'item' + k + 'header').style.display = '';
}
if($('cat'+ himMessages[k].icon +'item' + k + 'text') != null){
$('cat'+ himMessages[k].icon +'item' + k + 'text').style.display = '';
}
if($('cat'+ himMessages[k].icon +'item' + k + 'internal') != null){
$('cat'+ himMessages[k].icon +'item' + k + 'internal').style.display = '';
}
if(typeof currentHimArray[himMessages[k].icon] != 'undefined'){
Map_oebbmap.showContent(currentHimArray[himMessages[k].icon][k]);
}
if(typeof currentHimLabelArray[himMessages[k].icon] != 'undefined'){
Map_oebbmap.showContent(currentHimLabelArray[himMessages[k].icon][k]);
}
messageCounter[himMessages[k].icon]++;
var prevUIC = null;
if(typeof himMessages[k].uic != 'undefined'){
/* Array */
if(typeof himMessages[k].uic != 'string'){
for(var l=0; l < himMessages[k].uic.length;l++){
if(prevUIC == null || prevUIC != himMessages[k].uic[l]){
if(typeof countryMsgCount[himMessages[k].uic[l]] == 'undefined'){
countryMsgCount[himMessages[k].uic[l]] = 1;
}else{
countryMsgCount[himMessages[k].uic[l]]++;
}
prevUIC = himMessages[k].uic[l];
}
// Urgent Message enthalten?
if(himMessages[k].icon == 5){
himUICUrgentMessages[himMessages[k].uic[l]] = true;
}
}
/* UIC ist String */
}else{
if(typeof countryMsgCount[himMessages[k].uic] == 'undefined'){
countryMsgCount[himMessages[k].uic] = 1;
}else{
countryMsgCount[himMessages[k].uic]++
}
if(himMessages[k].icon == 5){
himUICUrgentMessages[himMessages[k].uic] = true;
}
}
}
}else{
if($('cat'+ himMessages[k].icon +'item' + k + 'header') != null){
$('cat'+ himMessages[k].icon +'item' + k + 'header').style.display = 'none';
}
if($('cat'+ himMessages[k].icon +'item' + k + 'text') != null){
$('cat'+ himMessages[k].icon +'item' + k + 'text').style.display = 'none';
}
if($('cat'+ himMessages[k].icon +'item' + k + 'internal') != null){
$('cat'+ himMessages[k].icon +'item' + k + 'internal').style.display = 'none';
}
if(typeof currentHimArray[himMessages[k].icon] != 'undefined'){
Map_oebbmap.hideContent(currentHimArray[himMessages[k].icon][k]);
}
if(typeof currentHimLabelArray[himMessages[k].icon] != 'undefined'){
Map_oebbmap.hideContent(currentHimLabelArray[himMessages[k].icon][k]);
}
}
if((currentMessageCounter == 0) && ($('cat'+ currentCategory + 'notfound'))){
$('cat'+ currentCategory + 'notfound').style.display = '';
}
} /* Ende forschleife */
}
updateCountryMsgCounter();
for(var j=0; j < messageCounter.length;j++){
if((messageCounter[j] == 0) && (typeof himIds[j] != 'undefined')){
$(himIds[j] + 'oebbmap_notfound').style.display = '';
}
}
}
}
function string2date(datestr){
var date = datestr.split(" ")[0];
var time = datestr.split(" ")[1];
// Datum zusammensetzen
var year = "20" + date.split(".")[2];
var month = parseInt(date.split(".")[1],10)-1;
var day = date.split(".")[0];
// Zeit
var hours = time.split(":")[0];
var minutes = time.split(":")[1];
return new Date(year,month,day,hours,minutes,"00");
}
// ]]>
</script>
<script type="text/javascript">
// <![CDATA[
currentPositionoebbmap = null;
var messageBlock = false;
var himMessages = new Array();
if(typeof searchAjax == 'undefined'){
searchAjax = function(id){
if(document.getElementById('searchOnMap').value.length > 0){
new Ajax.Request("/bin/ajax-getstop.exe/dn?REQ0JourneyStopsS0A=255&REQ0JourneyStopsB=1&suggestMethod=none&S="+ document.getElementById('searchOnMap').value,{
onSuccess:function(obj){
var response = eval(obj.responseText);
drawCurrentPositionOnMap(SLs.sls.suggestions[0],id);
document.getElementById('searchOnMap').value = SLs.sls.suggestions[0].value;
},
onFailure:function(){ }
});
}
}
}
drawCurrentPositionOnMap = function(obj,id){
var currPos = eval('currentPosition'+id);
var map = eval('Map_'+id);
var infocontent;
switch(parseInt(obj.type)){
case 1: infocontent = infotextstation({map:map,name:obj.value,extId:obj.evaId,x:obj.xcoord,y:obj.ycoord});break;
case 2: infocontent = infotextaddress({map:map,name:obj.value,extId:obj.evaId,x:obj.xcoord,y:obj.ycoord});break;
case 4: infocontent = infotextpoi({map:map,name:obj.value,extId:obj.evaId,x:obj.xcoord,y:obj.ycoord});break;
}
if(currentPositionoebbmap != null){
map.hideContent(currPos);
map.removeContent(currPos);
currentPositionoebbmap = null;
}
currPos = map.createContent({
type:'location',
coord: new CCoord({lon:obj.xcoord,lat:obj.ycoord}),
imageurl:'/hafas-res/img/selected_location.gif',
imagewidth:16,
imageheight:16,
hotspot:{x:8,y:8},
text: obj.value,
infotitle: obj.value,
infocontent: infocontent
});
map.showContent(currPos);
map.centerToContent(currPos);
map.setZoom(5000);
eval('currentPosition'+id+'=currPos');
}
var currentPosition = null;
new FSuggest({
loc:"searchOnMap",
type:"S",
minChar:4,
cookiename:"-history",
requestURL:"/bin/ajax-getstop.exe/dn?REQ0JourneyStopsS0A=255&REQ0JourneyStopsB=12&S=",
stopDelay:400,
requestType:"js",
useTopFavorites:false,
selectCallback:function(obj){
drawCurrentPositionOnMap(obj,'oebbmap');
}
});
deleteCurrentInput = function(id){
var map = eval('Map_'+id);
var currPos = eval('currentPosition'+id);
document.getElementById('searchOnMap').value = '';
if(currPos!=null){
map.hideContent(currPos);
map.removeContent(currPos);
currPos = null;
}
}
function updateHimMessages(){
toggleHimLayer(document.getElementById('oebb_him_msg_chbox_0oebbmap'),false,'oebbmap',true);
toggleHimLayer(document.getElementById('oebb_him_msg_chbox_1oebbmap'),false,'oebbmap',true);
toggleHimLayer(document.getElementById('oebb_him_msg_chbox_2oebbmap'),false,'oebbmap',true);
toggleHimLayer(document.getElementById('oebb_him_msg_chbox_4oebbmap'),false,'oebbmap',true);
toggleHimLayer(document.getElementById('oebb_him_msg_chbox_5oebbmap'),false,'oebbmap',true);
toggleHimLayer(document.getElementById('oebb_him_msg_chbox_6oebbmap'),false,'oebbmap',true);
toggleHimLayer(document.getElementById('oebb_him_msg_chbox_8oebbmap'),false,'oebbmap',true);
}
function showStationInMap(id){
var aUrl = "/bin/stboard.exe/dny?tpl=extId2stop&start=yes&input=&";
new Ajax.Request(aUrl,{
onSuccess:function(o){
var obj = eval("(" + o.responseText + ")");
var stationMarker = Map_oebbmap.createContent({
type:'location',
coord:new CCoord({lon:obj.x,lat:obj.y}),
text:obj.name,
infotitle:obj.name,
infocontent:infotextstation({name:obj.name,extId:id,x:obj.x,y:obj.y}),
prio:1000,
imageurl:"/hafas-res/img/selected_location.gif",
imagewidth:16,
imageheight:16,
hotspot:{x:8,y:8}
});
Map_oebbmap.showContent(stationMarker);
//Map_oebbmap.centerToContent(stationMarker);
Map_oebbmap.centerToGeo(new CCoord({lon:obj.x,lat:obj.y}));
}
});
}
// ]]>
</script>
<div style="clear:both;"></div>
</div>
<div style="position:absolute;top:17px;left:1000px;">
<!-- oebb_scotty -->
<script type='text/javascript'>
</script>
</div>
</body>
</html>

